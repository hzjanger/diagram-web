(self.webpackChunkdiagram=self.webpackChunkdiagram||[]).push([[466],{1211:(fi,He,U)=>{!function(M){"use strict";var nt="CodeMirror-activeline",i="CodeMirror-activeline-background",it="CodeMirror-activeline-gutter";function ae(Q){for(var he=0;he<Q.state.activeLines.length;he++)Q.removeLineClass(Q.state.activeLines[he],"wrap",nt),Q.removeLineClass(Q.state.activeLines[he],"background",i),Q.removeLineClass(Q.state.activeLines[he],"gutter",it)}function ze(Q,he){for(var ve=[],bt=0;bt<he.length;bt++){var Zt=he[bt],on=Q.getOption("styleActiveLine");if(!("object"==typeof on&&on.nonEmpty?Zt.anchor.line!=Zt.head.line:!Zt.empty())){var Nt=Q.getLineHandleVisualStart(Zt.head.line);ve[ve.length-1]!=Nt&&ve.push(Nt)}}(function(Q,he){if(Q.length!=he.length)return!1;for(var ve=0;ve<Q.length;ve++)if(Q[ve]!=he[ve])return!1;return!0})(Q.state.activeLines,ve)||Q.operation(function(){ae(Q);for(var St=0;St<ve.length;St++)Q.addLineClass(ve[St],"wrap",nt),Q.addLineClass(ve[St],"background",i),Q.addLineClass(ve[St],"gutter",it);Q.state.activeLines=ve})}function Qt(Q,he){ze(Q,he.ranges)}M.defineOption("styleActiveLine",!1,function(Q,he,ve){var bt=ve!=M.Init&&ve;he!=bt&&(bt&&(Q.off("beforeSelectionChange",Qt),ae(Q),delete Q.state.activeLines),he&&(Q.state.activeLines=[],ze(Q,Q.listSelections()),Q.on("beforeSelectionChange",Qt)))})}(U(7476))},7476:function(fi){fi.exports=function(){"use strict";var He=navigator.userAgent,U=navigator.platform,M=/gecko\/\d/i.test(He),nt=/MSIE \d/.test(He),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(He),it=/Edge\/(\d+)/.exec(He),ae=nt||i||it,fe=ae&&(nt?document.documentMode||6:+(it||i)[1]),ze=!it&&/WebKit\//.test(He),Qt=ze&&/Qt\/\d+\.\d+/.test(He),Q=!it&&/Chrome\//.test(He),he=/Opera\//.test(He),ve=/Apple Computer/.test(navigator.vendor),bt=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(He),Zt=/PhantomJS/.test(He),on=ve&&(/Mobile\/\w+/.test(He)||navigator.maxTouchPoints>2),Nt=/Android/.test(He),St=on||Nt||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(He),_e=on||/Mac/.test(U),Dn=/\bCrOS\b/.test(He),_r=/win/i.test(U),Ut=he&&He.match(/Version\/(\d*\.\d*)/);Ut&&(Ut=Number(Ut[1])),Ut&&Ut>=15&&(he=!1,ze=!0);var sn=_e&&(Qt||he&&(null==Ut||Ut<12.11)),yr=M||ae&&fe>=9;function Jt(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var B,An=function(e,n){var a=e.className,o=Jt(n).exec(a);if(o){var c=a.slice(o.index+o[0].length);e.className=a.slice(0,o.index)+(c?o[1]+c:"")}};function V(e){for(var n=e.childNodes.length;n>0;--n)e.removeChild(e.firstChild);return e}function Le(e,n){return V(e).appendChild(n)}function K(e,n,a,o){var c=document.createElement(e);if(a&&(c.className=a),o&&(c.style.cssText=o),"string"==typeof n)c.appendChild(document.createTextNode(n));else if(n)for(var u=0;u<n.length;++u)c.appendChild(n[u]);return c}function O(e,n,a,o){var c=K(e,n,a,o);return c.setAttribute("role","presentation"),c}function x(e,n){if(3==n.nodeType&&(n=n.parentNode),e.contains)return e.contains(n);do{if(11==n.nodeType&&(n=n.host),n==e)return!0}while(n=n.parentNode)}function Fe(){var e;try{e=document.activeElement}catch(n){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function ht(e,n){var a=e.className;Jt(n).test(a)||(e.className+=(a?" ":"")+n)}function wt(e,n){for(var a=e.split(" "),o=0;o<a.length;o++)a[o]&&!Jt(a[o]).test(n)&&(n+=" "+a[o]);return n}B=document.createRange?function(e,n,a,o){var c=document.createRange();return c.setEnd(o||e,a),c.setStart(e,n),c}:function(e,n,a){var o=document.body.createTextRange();try{o.moveToElementText(e.parentNode)}catch(c){return o}return o.collapse(!0),o.moveEnd("character",a),o.moveStart("character",n),o};var an=function(e){e.select()};function Yt(e){var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n)}}function Lt(e,n,a){for(var o in n||(n={}),e)e.hasOwnProperty(o)&&(!1!==a||!n.hasOwnProperty(o))&&(n[o]=e[o]);return n}function xt(e,n,a,o,c){null==n&&-1==(n=e.search(/[^\s\u00a0]/))&&(n=e.length);for(var u=o||0,d=c||0;;){var p=e.indexOf("\t",u);if(p<0||p>=n)return d+(n-u);d+=p-u,d+=a-d%a,u=p+1}}on?an=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ae&&(an=function(e){try{e.select()}catch(n){}});var ke=function(){this.id=null,this.f=null,this.time=0,this.handler=Yt(this.onTimeout,this)};function Ye(e,n){for(var a=0;a<e.length;++a)if(e[a]==n)return a;return-1}ke.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},ke.prototype.set=function(e,n){this.f=n;var a=+new Date+e;(!this.id||a<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=a)};var se={toString:function(){return"CodeMirror.Pass"}},ne={scroll:!1},pe={origin:"*mouse"},Me={origin:"+move"};function pi(e,n,a){for(var o=0,c=0;;){var u=e.indexOf("\t",o);-1==u&&(u=e.length);var d=u-o;if(u==e.length||c+d>=n)return o+Math.min(d,n-c);if(c+=u-o,o=u+1,(c+=a-c%a)>=n)return o}}var we=[""];function ft(e){for(;we.length<=e;)we.push(ge(we)+" ");return we[e]}function ge(e){return e[e.length-1]}function jn(e,n){for(var a=[],o=0;o<e.length;o++)a[o]=n(e[o],o);return a}function zn(){}function ln(e,n){var a;return Object.create?a=Object.create(e):(zn.prototype=e,a=new zn),n&&Lt(n,a),a}var jt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function qt(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||jt.test(e))}function qn(e,n){return n?!!(n.source.indexOf("\\w")>-1&&qt(e))||n.test(e):qt(e)}function Ei(e){for(var n in e)if(e.hasOwnProperty(n)&&e[n])return!1;return!0}var Go=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function $n(e){return e.charCodeAt(0)>=768&&Go.test(e)}function gi(e,n,a){for(;(a<0?n>0:n<e.length)&&$n(e.charAt(n));)n+=a;return n}function Xn(e,n,a){for(var o=n>a?-1:1;;){if(n==a)return n;var c=(n+a)/2,u=o<0?Math.ceil(c):Math.floor(c);if(u==n)return e(u)?n:a;e(u)?a=u:n=u+o}}var cn=null;function Kn(e,n,a){var o;cn=null;for(var c=0;c<e.length;++c){var u=e[c];if(u.from<n&&u.to>n)return c;u.to==n&&(u.from!=u.to&&"before"==a?o=c:cn=c),u.from==n&&(u.from!=u.to&&"before"!=a?o=c:cn=c)}return null!=o?o:cn}var un=function(){function a(m){return m<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(m-1536):1774<=m&&m<=2220?"r":8192<=m&&m<=8203?"w":8204==m?"b":"L"}var o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,c=/[stwN]/,u=/[LRr]/,d=/[Lb1n]/,p=/[1n]/;function g(m,y,C){this.level=m,this.from=y,this.to=C}return function(m,y){var C="ltr"==y?"L":"R";if(0==m.length||"ltr"==y&&!o.test(m))return!1;for(var w=m.length,b=[],N=0;N<w;++N)b.push(a(m.charCodeAt(N)));for(var k=0,P=C;k<w;++k){var H=b[k];"m"==H?b[k]=P:P=H}for(var W=0,Y=C;W<w;++W){var G=b[W];"1"==G&&"r"==Y?b[W]="n":u.test(G)&&(Y=G,"r"==G&&(b[W]="R"))}for(var ie=1,ee=b[0];ie<w-1;++ie){var ce=b[ie];"+"==ce&&"1"==ee&&"1"==b[ie+1]?b[ie]="1":","==ce&&ee==b[ie+1]&&("1"==ee||"n"==ee)&&(b[ie]=ee),ee=ce}for(var Oe=0;Oe<w;++Oe){var Ke=b[Oe];if(","==Ke)b[Oe]="N";else if("%"==Ke){var Ee=void 0;for(Ee=Oe+1;Ee<w&&"%"==b[Ee];++Ee);for(var Mt=Oe&&"!"==b[Oe-1]||Ee<w&&"1"==b[Ee]?"1":"N",et=Oe;et<Ee;++et)b[et]=Mt;Oe=Ee-1}}for(var Qe=0,_t=C;Qe<w;++Qe){var ct=b[Qe];"L"==_t&&"1"==ct?b[Qe]="L":u.test(ct)&&(_t=ct)}for(var qe=0;qe<w;++qe)if(c.test(b[qe])){var $e=void 0;for($e=qe+1;$e<w&&c.test(b[$e]);++$e);for(var Ze="L"==(qe?b[qe-1]:C),In=Ze==("L"==($e<w?b[$e]:C))?Ze?"L":"R":C,nn=qe;nn<$e;++nn)b[nn]=In;qe=$e-1}for(var rn,Ct=[],tt=0;tt<w;)if(d.test(b[tt])){var vr=tt;for(++tt;tt<w&&d.test(b[tt]);++tt);Ct.push(new g(0,vr,tt))}else{var kn=tt,di=Ct.length,Jn="rtl"==y?1:0;for(++tt;tt<w&&"L"!=b[tt];++tt);for(var zt=kn;zt<tt;)if(p.test(b[zt])){kn<zt&&(Ct.splice(di,0,new g(1,kn,zt)),di+=Jn);var Ai=zt;for(++zt;zt<tt&&p.test(b[zt]);++zt);Ct.splice(di,0,new g(2,Ai,zt)),di+=Jn,kn=zt}else++zt;kn<tt&&Ct.splice(di,0,new g(1,kn,tt))}return"ltr"==y&&(1==Ct[0].level&&(rn=m.match(/^\s+/))&&(Ct[0].from=rn[0].length,Ct.unshift(new g(0,0,rn[0].length))),1==ge(Ct).level&&(rn=m.match(/\s+$/))&&(ge(Ct).to-=rn[0].length,Ct.push(new g(0,w-rn[0].length,w)))),"rtl"==y?Ct.reverse():Ct}}();function Te(e,n){var a=e.order;return null==a&&(a=e.order=un(e.text,n)),a}var Ln=[],te=function(e,n,a){if(e.addEventListener)e.addEventListener(n,a,!1);else if(e.attachEvent)e.attachEvent("on"+n,a);else{var o=e._handlers||(e._handlers={});o[n]=(o[n]||Ln).concat(a)}};function kt(e,n){return e._handlers&&e._handlers[n]||Ln}function Ne(e,n,a){if(e.removeEventListener)e.removeEventListener(n,a,!1);else if(e.detachEvent)e.detachEvent("on"+n,a);else{var o=e._handlers,c=o&&o[n];if(c){var u=Ye(c,a);u>-1&&(o[n]=c.slice(0,u).concat(c.slice(u+1)))}}}function Ae(e,n){var a=kt(e,n);if(a.length)for(var o=Array.prototype.slice.call(arguments,2),c=0;c<a.length;++c)a[c].apply(null,o)}function Ue(e,n,a){return"string"==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),Ae(e,a||n.type,e,n),Fi(n)||n.codemirrorIgnore}function be(e){var n=e._handlers&&e._handlers.cursorActivity;if(n)for(var a=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),o=0;o<n.length;++o)-1==Ye(a,n[o])&&a.push(n[o])}function dt(e,n){return kt(e,n).length>0}function hn(e){e.prototype.on=function(n,a){te(this,n,a)},e.prototype.off=function(n,a){Ne(this,n,a)}}function Je(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Li(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Fi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function dn(e){Je(e),Li(e)}function Ft(e){return e.target||e.srcElement}function Cr(e){var n=e.which;return null==n&&(1&e.button?n=1:2&e.button?n=3:4&e.button&&(n=2)),_e&&e.ctrlKey&&1==n&&(n=3),n}var pt,Tt,Pi=function(){if(ae&&fe<9)return!1;var e=K("div");return"draggable"in e||"dragDrop"in e}();function zr(e){if(null==pt){var n=K("span","\u200b");Le(e,K("span",[n,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=n.offsetWidth<=1&&n.offsetHeight>2&&!(ae&&fe<8))}var a=pt?K("span","\u200b"):K("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return a.setAttribute("cm-text",""),a}function ei(e){if(null!=Tt)return Tt;var n=Le(e,document.createTextNode("A\u062eA")),a=B(n,0,1).getBoundingClientRect(),o=B(n,1,2).getBoundingClientRect();return V(e),!(!a||a.left==a.right)&&(Tt=o.right-a.right<3)}var e,Ri=3!="\n\nb".split(/\n/).length?function(e){for(var n=0,a=[],o=e.length;n<=o;){var c=e.indexOf("\n",n);-1==c&&(c=e.length);var u=e.slice(n,"\r"==e.charAt(c-1)?c-1:c),d=u.indexOf("\r");-1!=d?(a.push(u.slice(0,d)),n+=d+1):(a.push(u),n=c+1)}return a}:function(e){return e.split(/\r\n?|\n/)},fn=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(n){return!1}}:function(e){var n;try{n=e.ownerDocument.selection.createRange()}catch(a){}return!(!n||n.parentElement()!=e)&&0!=n.compareEndPoints("StartToEnd",n)},qr="oncopy"in(e=K("div"))||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy),Fn=null;var Bi={},Pt={};function X(e,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Bi[e]=n}function ti(e){if("string"==typeof e&&Pt.hasOwnProperty(e))e=Pt[e];else if(e&&"string"==typeof e.name&&Pt.hasOwnProperty(e.name)){var n=Pt[e.name];"string"==typeof n&&(n={name:n}),(e=ln(n,e)).name=n.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ti("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ti("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function $t(e,n){n=ti(n);var a=Bi[n.name];if(!a)return $t(e,"text/plain");var o=a(e,n);if(Pn.hasOwnProperty(n.name)){var c=Pn[n.name];for(var u in c)!c.hasOwnProperty(u)||(o.hasOwnProperty(u)&&(o["_"+u]=o[u]),o[u]=c[u])}if(o.name=n.name,n.helperType&&(o.helperType=n.helperType),n.modeProps)for(var d in n.modeProps)o[d]=n.modeProps[d];return o}var Pn={};function $r(e,n){Lt(n,Pn.hasOwnProperty(e)?Pn[e]:Pn[e]={})}function Wt(e,n){if(!0===n)return n;if(e.copyState)return e.copyState(n);var a={};for(var o in n){var c=n[o];c instanceof Array&&(c=c.concat([])),a[o]=c}return a}function Vt(e,n){for(var a;e.innerMode&&(a=e.innerMode(n))&&a.mode!=e;)n=a.state,e=a.mode;return a||{mode:e,state:n}}function ni(e,n,a){return!e.startState||e.startState(n,a)}var We=function(e,n,a){this.pos=this.start=0,this.string=e,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=a};function J(e,n){if((n-=e.first)<0||n>=e.size)throw new Error("There is no line "+(n+e.first)+" in the document.");for(var a=e;!a.lines;)for(var o=0;;++o){var c=a.children[o],u=c.chunkSize();if(n<u){a=c;break}n-=u}return a.lines[n]}function bn(e,n,a){var o=[],c=n.line;return e.iter(n.line,a.line+1,function(u){var d=u.text;c==a.line&&(d=d.slice(0,a.ch)),c==n.line&&(d=d.slice(n.ch)),o.push(d),++c}),o}function Rn(e,n,a){var o=[];return e.iter(n,a,function(c){o.push(c.text)}),o}function Dt(e,n){var a=n-e.height;if(a)for(var o=e;o;o=o.parent)o.height+=a}function ye(e){if(null==e.parent)return null;for(var n=e.parent,a=Ye(n.lines,e),o=n.parent;o;n=o,o=o.parent)for(var c=0;o.children[c]!=n;++c)a+=o.children[c].chunkSize();return a+n.first}function Xt(e,n){var a=e.first;e:do{for(var o=0;o<e.children.length;++o){var c=e.children[o],u=c.height;if(n<u){e=c;continue e}n-=u,a+=c.chunkSize()}return a}while(!e.lines);for(var d=0;d<e.lines.length;++d){var g=e.lines[d].height;if(n<g)break;n-=g}return a+d}function ii(e,n){return n>=e.first&&n<e.first+e.size}function mi(e,n){return String(e.lineNumberFormatter(n+e.firstLineNumber))}function D(e,n,a){if(void 0===a&&(a=null),!(this instanceof D))return new D(e,n,a);this.line=e,this.ch=n,this.sticky=a}function oe(e,n){return e.line-n.line||e.ch-n.ch}function vi(e,n){return e.sticky==n.sticky&&0==oe(e,n)}function v(e){return D(e.line,e.ch)}function z(e,n){return oe(e,n)<0?n:e}function I(e,n){return oe(e,n)<0?e:n}function F(e,n){return Math.max(e.first,Math.min(n,e.first+e.size-1))}function R(e,n){if(n.line<e.first)return D(e.first,0);var a=e.first+e.size-1;return n.line>a?D(a,J(e,a).text.length):function(e,n){var a=e.ch;return null==a||a>n?D(e.line,n):a<0?D(e.line,0):e}(n,J(e,n.line).text.length)}function Ce(e,n){for(var a=[],o=0;o<n.length;o++)a[o]=R(e,n[o]);return a}We.prototype.eol=function(){return this.pos>=this.string.length},We.prototype.sol=function(){return this.pos==this.lineStart},We.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},We.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},We.prototype.eat=function(e){var n=this.string.charAt(this.pos);if("string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},We.prototype.eatWhile=function(e){for(var n=this.pos;this.eat(e););return this.pos>n},We.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},We.prototype.skipToEnd=function(){this.pos=this.string.length},We.prototype.skipTo=function(e){var n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0},We.prototype.backUp=function(e){this.pos-=e},We.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=xt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?xt(this.string,this.lineStart,this.tabSize):0)},We.prototype.indentation=function(){return xt(this.string,null,this.tabSize)-(this.lineStart?xt(this.string,this.lineStart,this.tabSize):0)},We.prototype.match=function(e,n,a){if("string"!=typeof e){var u=this.string.slice(this.pos).match(e);return u&&u.index>0?null:(u&&!1!==n&&(this.pos+=u[0].length),u)}var o=function(d){return a?d.toLowerCase():d};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==n&&(this.pos+=e.length),!0},We.prototype.current=function(){return this.string.slice(this.start,this.pos)},We.prototype.hideFirstChars=function(e,n){this.lineStart+=e;try{return n()}finally{this.lineStart-=e}},We.prototype.lookAhead=function(e){var n=this.lineOracle;return n&&n.lookAhead(e)},We.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Ve=function(e,n){this.state=e,this.lookAhead=n},Ie=function(e,n,a,o){this.state=n,this.doc=e,this.line=a,this.maxLookAhead=o||0,this.baseTokens=null,this.baseTokenPos=1};function Sr(e,n,a,o){var c=[e.state.modeGen],u={};qo(e,n.text,e.doc.mode,a,function(m,y){return c.push(m,y)},u,o);for(var d=a.state,p=function(m){a.baseTokens=c;var y=e.state.overlays[m],C=1,w=0;a.state=!0,qo(e,n.text,y.mode,a,function(b,N){for(var k=C;w<b;){var P=c[C];P>b&&c.splice(C,1,b,c[C+1],P),C+=2,w=Math.min(b,P)}if(N)if(y.opaque)c.splice(k,C-k,b,"overlay "+N),C=k+2;else for(;k<C;k+=2){var H=c[k+1];c[k+1]=(H?H+" ":"")+"overlay "+N}},u),a.state=d,a.baseTokens=null,a.baseTokenPos=1},g=0;g<e.state.overlays.length;++g)p(g);return{styles:c,classes:u.bgClass||u.textClass?u:null}}function Qo(e,n,a){if(!n.styles||n.styles[0]!=e.state.modeGen){var o=Hi(e,ye(n)),c=n.text.length>e.options.maxHighlightLength&&Wt(e.doc.mode,o.state),u=Sr(e,n,o);c&&(o.state=c),n.stateAfter=o.save(!c),n.styles=u.styles,u.classes?n.styleClasses=u.classes:n.styleClasses&&(n.styleClasses=null),a===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return n.styles}function Hi(e,n,a){var o=e.doc,c=e.display;if(!o.mode.startState)return new Ie(o,!0,n);var u=function(e,n,a){for(var o,c,u=e.doc,d=a?-1:n-(e.doc.mode.innerMode?1e3:100),p=n;p>d;--p){if(p<=u.first)return u.first;var g=J(u,p-1),m=g.stateAfter;if(m&&(!a||p+(m instanceof Ve?m.lookAhead:0)<=u.modeFrontier))return p;var y=xt(g.text,null,e.options.tabSize);(null==c||o>y)&&(c=p-1,o=y)}return c}(e,n,a),d=u>o.first&&J(o,u-1).stateAfter,p=d?Ie.fromSaved(o,d,u):new Ie(o,ni(o.mode),u);return o.iter(u,n,function(g){Zo(e,g.text,p);var m=p.line;g.stateAfter=m==n-1||m%5==0||m>=c.viewFrom&&m<c.viewTo?p.save():null,p.nextLine()}),a&&(o.modeFrontier=p.line),p}function Zo(e,n,a,o){var c=e.doc.mode,u=new We(n,e.options.tabSize,a);for(u.start=u.pos=o||0,""==n&&Uo(c,a.state);!u.eol();)Xr(c,u,a.state),u.start=u.pos}function Uo(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var a=Vt(e,n);if(a.mode.blankLine)return a.mode.blankLine(a.state)}}function Xr(e,n,a,o){for(var c=0;c<10;c++){o&&(o[0]=Vt(e,a).mode);var u=e.token(n,a);if(n.pos>n.start)return u}throw new Error("Mode "+e.name+" failed to advance stream.")}Ie.prototype.lookAhead=function(e){var n=this.doc.getLine(this.line+e);return null!=n&&e>this.maxLookAhead&&(this.maxLookAhead=e),n},Ie.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Ie.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ie.fromSaved=function(e,n,a){return n instanceof Ve?new Ie(e,Wt(e.mode,n.state),a,n.lookAhead):new Ie(e,Wt(e.mode,n),a)},Ie.prototype.save=function(e){var n=!1!==e?Wt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ve(n,this.maxLookAhead):n};var la=function(e,n,a){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=n||null,this.state=a};function Jo(e,n,a,o){var d,y,c=e.doc,u=c.mode,p=J(c,(n=R(c,n)).line),g=Hi(e,n.line,a),m=new We(p.text,e.options.tabSize,g);for(o&&(y=[]);(o||m.pos<n.ch)&&!m.eol();)m.start=m.pos,d=Xr(u,m,g.state),o&&y.push(new la(m,d,Wt(c.mode,g.state)));return o?y:new la(m,d,g.state)}function jo(e,n){if(e)for(;;){var a=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!a)break;e=e.slice(0,a.index)+e.slice(a.index+a[0].length);var o=a[1]?"bgClass":"textClass";null==n[o]?n[o]=a[2]:new RegExp("(?:^|\\s)"+a[2]+"(?:$|\\s)").test(n[o])||(n[o]+=" "+a[2])}return e}function qo(e,n,a,o,c,u,d){var p=a.flattenSpans;null==p&&(p=e.options.flattenSpans);var C,g=0,m=null,y=new We(n,e.options.tabSize,o),w=e.options.addModeClass&&[null];for(""==n&&jo(Uo(a,o.state),u);!y.eol();){if(y.pos>e.options.maxHighlightLength?(p=!1,d&&Zo(e,n,o,y.pos),y.pos=n.length,C=null):C=jo(Xr(a,y,o.state,w),u),w){var b=w[0].name;b&&(C="m-"+(C?b+" "+C:b))}if(!p||m!=C){for(;g<y.start;)c(g=Math.min(y.start,g+5e3),m);m=C}y.start=y.pos}for(;g<y.pos;){var N=Math.min(y.pos,g+5e3);c(N,m),g=N}}var ua=!1,Kt=!1;function Kr(e,n,a){this.marker=e,this.from=n,this.to=a}function wr(e,n){if(e)for(var a=0;a<e.length;++a){var o=e[a];if(o.marker==n)return o}}function Pl(e,n){for(var a,o=0;o<e.length;++o)e[o]!=n&&(a||(a=[])).push(e[o]);return a}function eo(e,n){if(n.full)return null;var a=ii(e,n.from.line)&&J(e,n.from.line).markedSpans,o=ii(e,n.to.line)&&J(e,n.to.line).markedSpans;if(!a&&!o)return null;var c=n.from.ch,u=n.to.ch,d=0==oe(n.from,n.to),p=function(e,n,a){var o;if(e)for(var c=0;c<e.length;++c){var u=e[c],d=u.marker;null!=u.from&&!(d.inclusiveLeft?u.from<=n:u.from<n)&&(u.from!=n||"bookmark"!=d.type||a&&u.marker.insertLeft)||(o||(o=[])).push(new Kr(d,u.from,null==u.to||(d.inclusiveRight?u.to>=n:u.to>n)?null:u.to))}return o}(a,c,d),g=function(e,n,a){var o;if(e)for(var c=0;c<e.length;++c){var u=e[c],d=u.marker;(null==u.to||(d.inclusiveRight?u.to>=n:u.to>n)||u.from==n&&"bookmark"==d.type&&(!a||u.marker.insertLeft))&&(o||(o=[])).push(new Kr(d,null==u.from||(d.inclusiveLeft?u.from<=n:u.from<n)?null:u.from-n,null==u.to?null:u.to-n))}return o}(o,u,d),m=1==n.text.length,y=ge(n.text).length+(m?c:0);if(p)for(var C=0;C<p.length;++C){var w=p[C];if(null==w.to){var b=wr(g,w.marker);b?m&&(w.to=null==b.to?null:b.to+y):w.to=c}}if(g)for(var N=0;N<g.length;++N){var k=g[N];null!=k.to&&(k.to+=y),null==k.from?wr(p,k.marker)||(k.from=y,m&&(p||(p=[])).push(k)):(k.from+=y,m&&(p||(p=[])).push(k))}p&&(p=fa(p)),g&&g!=p&&(g=fa(g));var H=[p];if(!m){var Y,W=n.text.length-2;if(W>0&&p)for(var G=0;G<p.length;++G)null==p[G].to&&(Y||(Y=[])).push(new Kr(p[G].marker,null,null));for(var ie=0;ie<W;++ie)H.push(Y);H.push(g)}return H}function fa(e){for(var n=0;n<e.length;++n){var a=e[n];null!=a.from&&a.from==a.to&&!1!==a.marker.clearWhenEmpty&&e.splice(n--,1)}return e.length?e:null}function pa(e){var n=e.markedSpans;if(n){for(var a=0;a<n.length;++a)n[a].marker.detachLine(e);e.markedSpans=null}}function ga(e,n){if(n){for(var a=0;a<n.length;++a)n[a].marker.attachLine(e);e.markedSpans=n}}function to(e){return e.inclusiveLeft?-1:0}function no(e){return e.inclusiveRight?1:0}function $o(e,n){var a=e.lines.length-n.lines.length;if(0!=a)return a;var o=e.find(),c=n.find(),u=oe(o.from,c.from)||to(e)-to(n);return u?-u:oe(o.to,c.to)||no(e)-no(n)||n.id-e.id}function ma(e,n){var o,a=Kt&&e.markedSpans;if(a)for(var c=void 0,u=0;u<a.length;++u)(c=a[u]).marker.collapsed&&null==(n?c.from:c.to)&&(!o||$o(o,c.marker)<0)&&(o=c.marker);return o}function va(e){return ma(e,!0)}function io(e){return ma(e,!1)}function Yl(e,n){var o,a=Kt&&e.markedSpans;if(a)for(var c=0;c<a.length;++c){var u=a[c];u.marker.collapsed&&(null==u.from||u.from<n)&&(null==u.to||u.to>n)&&(!o||$o(o,u.marker)<0)&&(o=u.marker)}return o}function _a(e,n,a,o,c){var u=J(e,n),d=Kt&&u.markedSpans;if(d)for(var p=0;p<d.length;++p){var g=d[p];if(g.marker.collapsed){var m=g.marker.find(0),y=oe(m.from,a)||to(g.marker)-to(c),C=oe(m.to,o)||no(g.marker)-no(c);if(!(y>=0&&C<=0||y<=0&&C>=0)&&(y<=0&&(g.marker.inclusiveRight&&c.inclusiveLeft?oe(m.to,a)>=0:oe(m.to,a)>0)||y>=0&&(g.marker.inclusiveRight&&c.inclusiveLeft?oe(m.from,o)<=0:oe(m.from,o)<0)))return!0}}}function pn(e){for(var n;n=va(e);)e=n.find(-1,!0).line;return e}function Xo(e,n){var a=J(e,n),o=pn(a);return a==o?n:ye(o)}function ya(e,n){if(n>e.lastLine())return n;var o,a=J(e,n);if(!ri(e,a))return n;for(;o=io(a);)a=o.find(1,!0).line;return ye(a)+1}function ri(e,n){var a=Kt&&n.markedSpans;if(a)for(var o=void 0,c=0;c<a.length;++c)if((o=a[c]).marker.collapsed){if(null==o.from)return!0;if(!o.marker.widgetNode&&0==o.from&&o.marker.inclusiveLeft&&Ko(e,n,o))return!0}}function Ko(e,n,a){if(null==a.to){var o=a.marker.find(1,!0);return Ko(e,o.line,wr(o.line.markedSpans,a.marker))}if(a.marker.inclusiveRight&&a.to==n.text.length)return!0;for(var c=void 0,u=0;u<n.markedSpans.length;++u)if((c=n.markedSpans[u]).marker.collapsed&&!c.marker.widgetNode&&c.from==a.to&&(null==c.to||c.to!=a.from)&&(c.marker.inclusiveLeft||a.marker.inclusiveRight)&&Ko(e,n,c))return!0}function Bn(e){for(var n=0,a=(e=pn(e)).parent,o=0;o<a.lines.length;++o){var c=a.lines[o];if(c==e)break;n+=c.height}for(var u=a.parent;u;u=(a=u).parent)for(var d=0;d<u.children.length;++d){var p=u.children[d];if(p==a)break;n+=p.height}return n}function ro(e){if(0==e.height)return 0;for(var a,n=e.text.length,o=e;a=va(o);){var c=a.find(0,!0);o=c.from.line,n+=c.from.ch-c.to.ch}for(o=e;a=io(o);){var u=a.find(0,!0);n-=o.text.length-u.from.ch,n+=(o=u.to.line).text.length-u.to.ch}return n}function es(e){var n=e.display,a=e.doc;n.maxLine=J(a,a.first),n.maxLineLength=ro(n.maxLine),n.maxLineChanged=!0,a.iter(function(o){var c=ro(o);c>n.maxLineLength&&(n.maxLineLength=c,n.maxLine=o)})}var Yi=function(e,n,a){this.text=e,ga(this,n),this.height=a?a(this):1};function Ql(e){e.parent=null,pa(e)}Yi.prototype.lineNo=function(){return ye(this)},hn(Yi);var Zl={},Ul={};function Ca(e,n){if(!e||/^\s*$/.test(e))return null;var a=n.addModeClass?Ul:Zl;return a[e]||(a[e]=e.replace(/\S+/g,"cm-$&"))}function za(e,n){var a=O("span",null,null,ze?"padding-right: .1px":null),o={pre:O("pre",[a],"CodeMirror-line"),content:a,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};n.measure={};for(var c=0;c<=(n.rest?n.rest.length:0);c++){var u=c?n.rest[c-1]:n.line,d=void 0;o.pos=0,o.addToken=jl,ei(e.display.measure)&&(d=Te(u,e.doc.direction))&&(o.addToken=$l(o.addToken,d)),o.map=[],Xl(u,o,Qo(e,u,n!=e.display.externalMeasured&&ye(u))),u.styleClasses&&(u.styleClasses.bgClass&&(o.bgClass=wt(u.styleClasses.bgClass,o.bgClass||"")),u.styleClasses.textClass&&(o.textClass=wt(u.styleClasses.textClass,o.textClass||""))),0==o.map.length&&o.map.push(0,0,o.content.appendChild(zr(e.display.measure))),0==c?(n.measure.map=o.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(o.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(ze){var g=o.content.lastChild;(/\bcm-tab\b/.test(g.className)||g.querySelector&&g.querySelector(".cm-tab"))&&(o.content.className="cm-tab-wrap-hack")}return Ae(e,"renderLine",e,n.line,o.pre),o.pre.className&&(o.textClass=wt(o.pre.className,o.textClass||"")),o}function Jl(e){var n=K("span","\u2022","cm-invalidchar");return n.title="\\u"+e.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function jl(e,n,a,o,c,u,d){if(n){var y,p=e.splitSpaces?function(e,n){if(e.length>1&&!/  /.test(e))return e;for(var a=n,o="",c=0;c<e.length;c++){var u=e.charAt(c);" "==u&&a&&(c==e.length-1||32==e.charCodeAt(c+1))&&(u="\xa0"),o+=u,a=" "==u}return o}(n,e.trailingSpace):n,g=e.cm.state.specialChars,m=!1;if(g.test(n)){y=document.createDocumentFragment();for(var C=0;;){g.lastIndex=C;var w=g.exec(n),b=w?w.index-C:n.length-C;if(b){var N=document.createTextNode(p.slice(C,C+b));y.appendChild(ae&&fe<9?K("span",[N]):N),e.map.push(e.pos,e.pos+b,N),e.col+=b,e.pos+=b}if(!w)break;C+=b+1;var k=void 0;if("\t"==w[0]){var P=e.cm.options.tabSize,H=P-e.col%P;(k=y.appendChild(K("span",ft(H),"cm-tab"))).setAttribute("role","presentation"),k.setAttribute("cm-text","\t"),e.col+=H}else"\r"==w[0]||"\n"==w[0]?((k=y.appendChild(K("span","\r"==w[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",w[0]),e.col+=1):((k=e.cm.options.specialCharPlaceholder(w[0])).setAttribute("cm-text",w[0]),y.appendChild(ae&&fe<9?K("span",[k]):k),e.col+=1);e.map.push(e.pos,e.pos+1,k),e.pos++}}else e.col+=n.length,y=document.createTextNode(p),e.map.push(e.pos,e.pos+n.length,y),ae&&fe<9&&(m=!0),e.pos+=n.length;if(e.trailingSpace=32==p.charCodeAt(n.length-1),a||o||c||m||u||d){var W=a||"";o&&(W+=o),c&&(W+=c);var Y=K("span",[y],W,u);if(d)for(var G in d)d.hasOwnProperty(G)&&"style"!=G&&"class"!=G&&Y.setAttribute(G,d[G]);return e.content.appendChild(Y)}e.content.appendChild(y)}}function $l(e,n){return function(a,o,c,u,d,p,g){c=c?c+" cm-force-border":"cm-force-border";for(var m=a.pos,y=m+o.length;;){for(var C=void 0,w=0;w<n.length&&!((C=n[w]).to>m&&C.from<=m);w++);if(C.to>=y)return e(a,o,c,u,d,p,g);e(a,o.slice(0,C.to-m),c,u,null,p,g),u=null,o=o.slice(C.to-m),m=C.to}}}function ba(e,n,a,o){var c=!o&&a.widgetNode;c&&e.map.push(e.pos,e.pos+n,c),!o&&e.cm.display.input.needsContentAttribute&&(c||(c=e.content.appendChild(document.createElement("span"))),c.setAttribute("cm-marker",a.id)),c&&(e.cm.display.input.setUneditable(c),e.content.appendChild(c)),e.pos+=n,e.trailingSpace=!1}function Xl(e,n,a){var o=e.markedSpans,c=e.text,u=0;if(o)for(var C,w,N,k,P,H,W,p=c.length,g=0,m=1,y="",b=0;;){if(b==g){N=k=P=w="",W=null,H=null,b=1/0;for(var Y=[],G=void 0,ie=0;ie<o.length;++ie){var ee=o[ie],ce=ee.marker;if("bookmark"==ce.type&&ee.from==g&&ce.widgetNode)Y.push(ce);else if(ee.from<=g&&(null==ee.to||ee.to>g||ce.collapsed&&ee.to==g&&ee.from==g)){if(null!=ee.to&&ee.to!=g&&b>ee.to&&(b=ee.to,k=""),ce.className&&(N+=" "+ce.className),ce.css&&(w=(w?w+";":"")+ce.css),ce.startStyle&&ee.from==g&&(P+=" "+ce.startStyle),ce.endStyle&&ee.to==b&&(G||(G=[])).push(ce.endStyle,ee.to),ce.title&&((W||(W={})).title=ce.title),ce.attributes)for(var Oe in ce.attributes)(W||(W={}))[Oe]=ce.attributes[Oe];ce.collapsed&&(!H||$o(H.marker,ce)<0)&&(H=ee)}else ee.from>g&&b>ee.from&&(b=ee.from)}if(G)for(var Ke=0;Ke<G.length;Ke+=2)G[Ke+1]==b&&(k+=" "+G[Ke]);if(!H||H.from==g)for(var Ee=0;Ee<Y.length;++Ee)ba(n,0,Y[Ee]);if(H&&(H.from||0)==g){if(ba(n,(null==H.to?p+1:H.to)-g,H.marker,null==H.from),null==H.to)return;H.to==g&&(H=!1)}}if(g>=p)break;for(var Mt=Math.min(p,b);;){if(y){var et=g+y.length;if(!H){var Qe=et>Mt?y.slice(0,Mt-g):y;n.addToken(n,Qe,C?C+N:N,P,g+Qe.length==b?k:"",w,W)}if(et>=Mt){y=y.slice(Mt-g),g=Mt;break}g=et,P=""}y=c.slice(u,u=a[m++]),C=Ca(a[m++],n.cm.options)}}else for(var d=1;d<a.length;d+=2)n.addToken(n,c.slice(u,u=a[d]),Ca(a[d+1],n.cm.options))}function Sa(e,n,a){this.line=n,this.rest=function(e){for(var n,a;n=io(e);)e=n.find(1,!0).line,(a||(a=[])).push(e);return a}(n),this.size=this.rest?ye(ge(this.rest))-a+1:1,this.node=this.text=null,this.hidden=ri(e,n)}function oo(e,n,a){for(var c,o=[],u=n;u<a;u=c){var d=new Sa(e.doc,J(e.doc,u),u);c=u+d.size,o.push(d)}return o}var Wi=null;var xr=null;function ot(e,n){var a=kt(e,n);if(a.length){var c,o=Array.prototype.slice.call(arguments,2);Wi?c=Wi.delayedCallbacks:xr?c=xr:(c=xr=[],setTimeout(nc,0));for(var u=function(p){c.push(function(){return a[p].apply(null,o)})},d=0;d<a.length;++d)u(d)}}function nc(){var e=xr;xr=null;for(var n=0;n<e.length;++n)e[n]()}function ts(e,n,a,o){for(var c=0;c<n.changes.length;c++){var u=n.changes[c];"text"==u?rc(e,n):"gutter"==u?xa(e,n,a,o):"class"==u?ns(e,n):"widget"==u&&oc(e,n,o)}n.changes=null}function Tr(e){return e.node==e.text&&(e.node=K("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ae&&fe<8&&(e.node.style.zIndex=2)),e.node}function wa(e,n){var a=e.display.externalMeasured;return a&&a.line==n.line?(e.display.externalMeasured=null,n.measure=a.measure,a.built):za(e,n)}function rc(e,n){var a=n.text.className,o=wa(e,n);n.text==n.node&&(n.node=o.pre),n.text.parentNode.replaceChild(o.pre,n.text),n.text=o.pre,o.bgClass!=n.bgClass||o.textClass!=n.textClass?(n.bgClass=o.bgClass,n.textClass=o.textClass,ns(e,n)):a&&(n.text.className=a)}function ns(e,n){(function(e,n){var a=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(a&&(a+=" CodeMirror-linebackground"),n.background)a?n.background.className=a:(n.background.parentNode.removeChild(n.background),n.background=null);else if(a){var o=Tr(n);n.background=o.insertBefore(K("div",null,a),o.firstChild),e.display.input.setUneditable(n.background)}})(e,n),n.line.wrapClass?Tr(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className=""),n.text.className=(n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass)||""}function xa(e,n,a,o){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var c=Tr(n);n.gutterBackground=K("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),e.display.input.setUneditable(n.gutterBackground),c.insertBefore(n.gutterBackground,n.text)}var u=n.line.gutterMarkers;if(e.options.lineNumbers||u){var d=Tr(n),p=n.gutter=K("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(p.setAttribute("aria-hidden","true"),e.display.input.setUneditable(p),d.insertBefore(p,n.text),n.line.gutterClass&&(p.className+=" "+n.line.gutterClass),e.options.lineNumbers&&(!u||!u["CodeMirror-linenumbers"])&&(n.lineNumber=p.appendChild(K("div",mi(e.options,a),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),u)for(var g=0;g<e.display.gutterSpecs.length;++g){var m=e.display.gutterSpecs[g].className,y=u.hasOwnProperty(m)&&u[m];y&&p.appendChild(K("div",[y],"CodeMirror-gutter-elt","left: "+o.gutterLeft[m]+"px; width: "+o.gutterWidth[m]+"px"))}}}function oc(e,n,a){n.alignable&&(n.alignable=null);for(var o=Jt("CodeMirror-linewidget"),c=n.node.firstChild,u=void 0;c;c=u)u=c.nextSibling,o.test(c.className)&&n.node.removeChild(c);Ta(e,n,a)}function sc(e,n,a,o){var c=wa(e,n);return n.text=n.node=c.pre,c.bgClass&&(n.bgClass=c.bgClass),c.textClass&&(n.textClass=c.textClass),ns(e,n),xa(e,n,a,o),Ta(e,n,o),n.node}function Ta(e,n,a){if(Oa(e,n.line,n,a,!0),n.rest)for(var o=0;o<n.rest.length;o++)Oa(e,n.rest[o],n,a,!1)}function Oa(e,n,a,o,c){if(n.widgets)for(var u=Tr(a),d=0,p=n.widgets;d<p.length;++d){var g=p[d],m=K("div",[g.node],"CodeMirror-linewidget"+(g.className?" "+g.className:""));g.handleMouseEvents||m.setAttribute("cm-ignore-events","true"),ac(g,m,a,o),e.display.input.setUneditable(m),c&&g.above?u.insertBefore(m,a.gutter||a.text):u.appendChild(m),ot(g,"redraw")}}function ac(e,n,a,o){if(e.noHScroll){(a.alignable||(a.alignable=[])).push(n);var c=o.wrapperWidth;n.style.left=o.fixedPos+"px",e.coverGutter||(c-=o.gutterTotalWidth,n.style.paddingLeft=o.gutterTotalWidth+"px"),n.style.width=c+"px"}e.coverGutter&&(n.style.zIndex=5,n.style.position="relative",e.noHScroll||(n.style.marginLeft=-o.gutterTotalWidth+"px"))}function Or(e){if(null!=e.height)return e.height;var n=e.doc.cm;if(!n)return 0;if(!x(document.body,e.node)){var a="position: relative;";e.coverGutter&&(a+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),e.noHScroll&&(a+="width: "+n.display.wrapper.clientWidth+"px;"),Le(n.display.measure,K("div",[e.node],null,a))}return e.height=e.node.parentNode.offsetHeight}function Hn(e,n){for(var a=Ft(n);a!=e.wrapper;a=a.parentNode)if(!a||1==a.nodeType&&"true"==a.getAttribute("cm-ignore-events")||a.parentNode==e.sizer&&a!=e.mover)return!0}function so(e){return e.lineSpace.offsetTop}function is(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ma(e){if(e.cachedPaddingH)return e.cachedPaddingH;var n=Le(e.measure,K("pre","x","CodeMirror-line-like")),a=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,o={left:parseInt(a.paddingLeft),right:parseInt(a.paddingRight)};return!isNaN(o.left)&&!isNaN(o.right)&&(e.cachedPaddingH=o),o}function Sn(e){return 50-e.display.nativeBarWidth}function _i(e){return e.display.scroller.clientWidth-Sn(e)-e.display.barWidth}function rs(e){return e.display.scroller.clientHeight-Sn(e)-e.display.barHeight}function Na(e,n,a){if(e.line==n)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var o=0;o<e.rest.length;o++)if(e.rest[o]==n)return{map:e.measure.maps[o],cache:e.measure.caches[o]};for(var c=0;c<e.rest.length;c++)if(ye(e.rest[c])>a)return{map:e.measure.maps[c],cache:e.measure.caches[c],before:!0}}}function Ia(e,n,a,o){return wn(e,Vi(e,n),a,o)}function os(e,n){if(n>=e.display.viewFrom&&n<e.display.viewTo)return e.display.view[oi(e,n)];var a=e.display.externalMeasured;return a&&n>=a.lineN&&n<a.lineN+a.size?a:void 0}function Vi(e,n){var a=ye(n),o=os(e,a);o&&!o.text?o=null:o&&o.changes&&(ts(e,o,a,co(e)),e.curOp.forceUpdate=!0),o||(o=function(e,n){var a=ye(n=pn(n)),o=e.display.externalMeasured=new Sa(e.doc,n,a);o.lineN=a;var c=o.built=za(e,o);return o.text=c.pre,Le(e.display.lineMeasure,c.pre),o}(e,n));var c=Na(o,n,a);return{line:n,view:o,rect:null,map:c.map,cache:c.cache,before:c.before,hasHeights:!1}}function wn(e,n,a,o,c){n.before&&(a=-1);var d,u=a+(o||"");return n.cache.hasOwnProperty(u)?d=n.cache[u]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(function(e,n,a){var o=e.options.lineWrapping,c=o&&_i(e);if(!n.measure.heights||o&&n.measure.width!=c){var u=n.measure.heights=[];if(o){n.measure.width=c;for(var d=n.text.firstChild.getClientRects(),p=0;p<d.length-1;p++){var g=d[p],m=d[p+1];Math.abs(g.bottom-m.bottom)>2&&u.push((g.bottom+m.top)/2-a.top)}}u.push(a.bottom-a.top)}}(e,n.view,n.rect),n.hasHeights=!0),(d=function(e,n,a,o){var m,c=Da(n.map,a,o),u=c.node,d=c.start,p=c.end,g=c.collapse;if(3==u.nodeType){for(var y=0;y<4;y++){for(;d&&$n(n.line.text.charAt(c.coverStart+d));)--d;for(;c.coverStart+p<c.coverEnd&&$n(n.line.text.charAt(c.coverStart+p));)++p;if((m=ae&&fe<9&&0==d&&p==c.coverEnd-c.coverStart?u.parentNode.getBoundingClientRect():uc(B(u,d,p).getClientRects(),o)).left||m.right||0==d)break;p=d,d-=1,g="right"}ae&&fe<11&&(m=function(e,n){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Fn)return Fn;var n=Le(e,K("span","x")),a=n.getBoundingClientRect(),o=B(n,0,1).getBoundingClientRect();return Fn=Math.abs(a.left-o.left)>1}(e))return n;var a=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*a,right:n.right*a,top:n.top*o,bottom:n.bottom*o}}(e.display.measure,m))}else{var C;d>0&&(g=o="right"),m=e.options.lineWrapping&&(C=u.getClientRects()).length>1?C["right"==o?C.length-1:0]:u.getBoundingClientRect()}if(ae&&fe<9&&!d&&(!m||!m.left&&!m.right)){var w=u.parentNode.getClientRects()[0];m=w?{left:w.left,right:w.left+Qi(e.display),top:w.top,bottom:w.bottom}:ka}for(var b=m.top-n.rect.top,N=m.bottom-n.rect.top,k=(b+N)/2,P=n.view.measure.heights,H=0;H<P.length-1&&!(k<P[H]);H++);var G={left:("right"==g?m.right:m.left)-n.rect.left,right:("left"==g?m.left:m.right)-n.rect.left,top:H?P[H-1]:0,bottom:P[H]};return!m.left&&!m.right&&(G.bogus=!0),e.options.singleCursorHeightPerLine||(G.rtop=b,G.rbottom=N),G}(e,n,a,o)).bogus||(n.cache[u]=d)),{left:d.left,right:d.right,top:c?d.rtop:d.top,bottom:c?d.rbottom:d.bottom}}var yi,ka={left:0,right:0,top:0,bottom:0};function Da(e,n,a){for(var o,c,u,d,p,g,m=0;m<e.length;m+=3)if(g=e[m+1],n<(p=e[m])?(c=0,u=1,d="left"):n<g?u=1+(c=n-p):(m==e.length-3||n==g&&e[m+3]>n)&&(c=(u=g-p)-1,n>=g&&(d="right")),null!=c){if(o=e[m+2],p==g&&a==(o.insertLeft?"left":"right")&&(d=a),"left"==a&&0==c)for(;m&&e[m-2]==e[m-3]&&e[m-1].insertLeft;)o=e[2+(m-=3)],d="left";if("right"==a&&c==g-p)for(;m<e.length-3&&e[m+3]==e[m+4]&&!e[m+5].insertLeft;)o=e[(m+=3)+2],d="right";break}return{node:o,start:c,end:u,collapse:d,coverStart:p,coverEnd:g}}function uc(e,n){var a=ka;if("left"==n)for(var o=0;o<e.length&&(a=e[o]).left==a.right;o++);else for(var c=e.length-1;c>=0&&(a=e[c]).left==a.right;c--);return a}function Aa(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var n=0;n<e.rest.length;n++)e.measure.caches[n]={}}function Ea(e){e.display.externalMeasure=null,V(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Aa(e.display.view[n])}function Mr(e){Ea(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function La(){return Q&&Nt?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Fa(){return Q&&Nt?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ss(e){var a=pn(e).widgets,o=0;if(a)for(var c=0;c<a.length;++c)a[c].above&&(o+=Or(a[c]));return o}function ao(e,n,a,o,c){if(!c){var u=ss(n);a.top+=u,a.bottom+=u}if("line"==o)return a;o||(o="local");var d=Bn(n);if("local"==o?d+=so(e.display):d-=e.display.viewOffset,"page"==o||"window"==o){var p=e.display.lineSpace.getBoundingClientRect();d+=p.top+("window"==o?0:Fa());var g=p.left+("window"==o?0:La());a.left+=g,a.right+=g}return a.top+=d,a.bottom+=d,a}function Pa(e,n,a){if("div"==a)return n;var o=n.left,c=n.top;if("page"==a)o-=La(),c-=Fa();else if("local"==a||!a){var u=e.display.sizer.getBoundingClientRect();o+=u.left,c+=u.top}var d=e.display.lineSpace.getBoundingClientRect();return{left:o-d.left,top:c-d.top}}function lo(e,n,a,o,c){return o||(o=J(e.doc,n.line)),ao(e,o,Ia(e,o,n.ch,c),a)}function gn(e,n,a,o,c,u){function d(N,k){var P=wn(e,c,N,k?"right":"left",u);return k?P.left=P.right:P.right=P.left,ao(e,o,P,a)}o=o||J(e.doc,n.line),c||(c=Vi(e,o));var p=Te(o,e.doc.direction),g=n.ch,m=n.sticky;if(g>=o.text.length?(g=o.text.length,m="before"):g<=0&&(g=0,m="after"),!p)return d("before"==m?g-1:g,"before"==m);function y(N,k,P){return d(P?N-1:N,1==p[k].level!=P)}var C=Kn(p,g,m),w=cn,b=y(g,C,"before"==m);return null!=w&&(b.other=y(g,w,"before"!=m)),b}function Ra(e,n){var a=0;n=R(e.doc,n),e.options.lineWrapping||(a=Qi(e.display)*n.ch);var o=J(e.doc,n.line),c=Bn(o)+so(e.display);return{left:a,right:a,top:c,bottom:c+o.height}}function as(e,n,a,o,c){var u=D(e,n,a);return u.xRel=c,o&&(u.outside=o),u}function ls(e,n,a){var o=e.doc;if((a+=e.display.viewOffset)<0)return as(o.first,0,null,-1,-1);var c=Xt(o,a),u=o.first+o.size-1;if(c>u)return as(o.first+o.size-1,J(o,u).text.length,null,1,1);n<0&&(n=0);for(var d=J(o,c);;){var p=fc(e,d,c,n,a),g=Yl(d,p.ch+(p.xRel>0||p.outside>0?1:0));if(!g)return p;var m=g.find(1);if(m.line==c)return m;d=J(o,c=m.line)}}function Ba(e,n,a,o){o-=ss(n);var c=n.text.length,u=Xn(function(d){return wn(e,a,d-1).bottom<=o},c,0);return{begin:u,end:c=Xn(function(d){return wn(e,a,d).top>o},u,c)}}function Ha(e,n,a,o){return a||(a=Vi(e,n)),Ba(e,n,a,ao(e,n,wn(e,a,o),"line").top)}function cs(e,n,a,o){return!(e.bottom<=a)&&(e.top>a||(o?e.left:e.right)>n)}function fc(e,n,a,o,c){c-=Bn(n);var u=Vi(e,n),d=ss(n),p=0,g=n.text.length,m=!0,y=Te(n,e.doc.direction);if(y){var C=(e.options.lineWrapping?gc:pc)(e,n,a,u,y,o,c);p=(m=1!=C.level)?C.from:C.to-1,g=m?C.to:C.from-1}var k,P,w=null,b=null,N=Xn(function(ie){var ee=wn(e,u,ie);return ee.top+=d,ee.bottom+=d,!!cs(ee,o,c,!1)&&(ee.top<=c&&ee.left<=o&&(w=ie,b=ee),!0)},p,g),H=!1;if(b){var W=o-b.left<b.right-o,Y=W==m;N=w+(Y?0:1),P=Y?"after":"before",k=W?b.left:b.right}else{!m&&(N==g||N==p)&&N++,P=0==N?"after":N==n.text.length?"before":wn(e,u,N-(m?1:0)).bottom+d<=c==m?"after":"before";var G=gn(e,D(a,N,P),"line",n,u);k=G.left,H=c<G.top?-1:c>=G.bottom?1:0}return as(a,N=gi(n.text,N,1),P,H,o-k)}function pc(e,n,a,o,c,u,d){var p=Xn(function(C){var w=c[C],b=1!=w.level;return cs(gn(e,D(a,b?w.to:w.from,b?"before":"after"),"line",n,o),u,d,!0)},0,c.length-1),g=c[p];if(p>0){var m=1!=g.level,y=gn(e,D(a,m?g.from:g.to,m?"after":"before"),"line",n,o);cs(y,u,d,!0)&&y.top>d&&(g=c[p-1])}return g}function gc(e,n,a,o,c,u,d){var p=Ba(e,n,o,d),g=p.begin,m=p.end;/\s/.test(n.text.charAt(m-1))&&m--;for(var y=null,C=null,w=0;w<c.length;w++){var b=c[w];if(!(b.from>=m||b.to<=g)){var k=wn(e,o,1!=b.level?Math.min(m,b.to)-1:Math.max(g,b.from)).right,P=k<u?u-k+1e9:k-u;(!y||C>P)&&(y=b,C=P)}}return y||(y=c[c.length-1]),y.from<g&&(y={from:g,to:y.to,level:y.level}),y.to>m&&(y={from:y.from,to:m,level:y.level}),y}function Gi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==yi){yi=K("pre",null,"CodeMirror-line-like");for(var n=0;n<49;++n)yi.appendChild(document.createTextNode("x")),yi.appendChild(K("br"));yi.appendChild(document.createTextNode("x"))}Le(e.measure,yi);var a=yi.offsetHeight/50;return a>3&&(e.cachedTextHeight=a),V(e.measure),a||1}function Qi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var n=K("span","xxxxxxxxxx"),a=K("pre",[n],"CodeMirror-line-like");Le(e.measure,a);var o=n.getBoundingClientRect(),c=(o.right-o.left)/10;return c>2&&(e.cachedCharWidth=c),c||10}function co(e){for(var n=e.display,a={},o={},c=n.gutters.clientLeft,u=n.gutters.firstChild,d=0;u;u=u.nextSibling,++d){var p=e.display.gutterSpecs[d].className;a[p]=u.offsetLeft+u.clientLeft+c,o[p]=u.clientWidth}return{fixedPos:uo(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:a,gutterWidth:o,wrapperWidth:n.wrapper.clientWidth}}function uo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ho(e){var n=Gi(e.display),a=e.options.lineWrapping,o=a&&Math.max(5,e.display.scroller.clientWidth/Qi(e.display)-3);return function(c){if(ri(e.doc,c))return 0;var u=0;if(c.widgets)for(var d=0;d<c.widgets.length;d++)c.widgets[d].height&&(u+=c.widgets[d].height);return a?u+(Math.ceil(c.text.length/o)||1)*n:u+n}}function fo(e){var n=e.doc,a=ho(e);n.iter(function(o){var c=a(o);c!=o.height&&Dt(o,c)})}function Ci(e,n,a,o){var c=e.display;if(!a&&"true"==Ft(n).getAttribute("cm-not-content"))return null;var u,d,p=c.lineSpace.getBoundingClientRect();try{u=n.clientX-p.left,d=n.clientY-p.top}catch(C){return null}var m,g=ls(e,u,d);if(o&&g.xRel>0&&(m=J(e.doc,g.line).text).length==g.ch){var y=xt(m,m.length,e.options.tabSize)-m.length;g=D(g.line,Math.max(0,Math.round((u-Ma(e.display).left)/Qi(e.display))-y))}return g}function oi(e,n){if(n>=e.display.viewTo||(n-=e.display.viewFrom)<0)return null;for(var a=e.display.view,o=0;o<a.length;o++)if((n-=a[o].size)<0)return o}function gt(e,n,a,o){null==n&&(n=e.doc.first),null==a&&(a=e.doc.first+e.doc.size),o||(o=0);var c=e.display;if(o&&a<c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>n)&&(c.updateLineNumbers=n),e.curOp.viewChanged=!0,n>=c.viewTo)Kt&&Xo(e.doc,n)<c.viewTo&&xn(e);else if(a<=c.viewFrom)Kt&&ya(e.doc,a+o)>c.viewFrom?xn(e):(c.viewFrom+=o,c.viewTo+=o);else if(n<=c.viewFrom&&a>=c.viewTo)xn(e);else if(n<=c.viewFrom){var u=Nr(e,a,a+o,1);u?(c.view=c.view.slice(u.index),c.viewFrom=u.lineN,c.viewTo+=o):xn(e)}else if(a>=c.viewTo){var d=Nr(e,n,n,-1);d?(c.view=c.view.slice(0,d.index),c.viewTo=d.lineN):xn(e)}else{var p=Nr(e,n,n,-1),g=Nr(e,a,a+o,1);p&&g?(c.view=c.view.slice(0,p.index).concat(oo(e,p.lineN,g.lineN)).concat(c.view.slice(g.index)),c.viewTo+=o):xn(e)}var m=c.externalMeasured;m&&(a<m.lineN?m.lineN+=o:n<m.lineN+m.size&&(c.externalMeasured=null))}function mn(e,n,a){e.curOp.viewChanged=!0;var o=e.display,c=e.display.externalMeasured;if(c&&n>=c.lineN&&n<c.lineN+c.size&&(o.externalMeasured=null),!(n<o.viewFrom||n>=o.viewTo)){var u=o.view[oi(e,n)];if(null!=u.node){var d=u.changes||(u.changes=[]);-1==Ye(d,a)&&d.push(a)}}}function xn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Nr(e,n,a,o){var u,c=oi(e,n),d=e.display.view;if(!Kt||a==e.doc.first+e.doc.size)return{index:c,lineN:a};for(var p=e.display.viewFrom,g=0;g<c;g++)p+=d[g].size;if(p!=n){if(o>0){if(c==d.length-1)return null;u=p+d[c].size-n,c++}else u=p-n;n+=u,a+=u}for(;Xo(e.doc,a)!=a;){if(c==(o<0?0:d.length-1))return null;a+=o*d[c-(o<0?1:0)].size,c+=o}return{index:c,lineN:a}}function po(e){for(var n=e.display.view,a=0,o=0;o<n.length;o++){var c=n[o];!c.hidden&&(!c.node||c.changes)&&++a}return a}function Ge(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Wa(e,n){void 0===n&&(n=!0);var a=e.doc,o={},c=o.cursors=document.createDocumentFragment(),u=o.selection=document.createDocumentFragment(),d=e.options.$customCursor;d&&(n=!0);for(var p=0;p<a.sel.ranges.length;p++)if(n||p!=a.sel.primIndex){var g=a.sel.ranges[p];if(!(g.from().line>=e.display.viewTo||g.to().line<e.display.viewFrom)){var m=g.empty();if(d){var y=d(e,g);y&&go(e,y,c)}else(m||e.options.showCursorWhenSelecting)&&go(e,g.head,c);m||mc(e,g,u)}}return o}function go(e,n,a){var o=gn(e,n,"div",null,null,!e.options.singleCursorHeightPerLine),c=a.appendChild(K("div","\xa0","CodeMirror-cursor"));if(c.style.left=o.left+"px",c.style.top=o.top+"px",c.style.height=Math.max(0,o.bottom-o.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var u=lo(e,n,"div",null,null),d=u.right-u.left;c.style.width=(d>0?d:e.defaultCharWidth())+"px"}if(o.other){var p=a.appendChild(K("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));p.style.display="",p.style.left=o.other.left+"px",p.style.top=o.other.top+"px",p.style.height=.85*(o.other.bottom-o.other.top)+"px"}}function mo(e,n){return e.top-n.top||e.left-n.left}function mc(e,n,a){var o=e.display,c=e.doc,u=document.createDocumentFragment(),d=Ma(e.display),p=d.left,g=Math.max(o.sizerWidth,_i(e)-o.sizer.offsetLeft)-d.right,m="ltr"==c.direction;function y(Y,G,ie,ee){G<0&&(G=0),G=Math.round(G),ee=Math.round(ee),u.appendChild(K("div",null,"CodeMirror-selected","position: absolute; left: "+Y+"px;\n                             top: "+G+"px; width: "+(null==ie?g-Y:ie)+"px;\n                             height: "+(ee-G)+"px"))}function C(Y,G,ie){var Oe,Ke,ee=J(c,Y),ce=ee.text.length;function Ee(Qe,_t){return lo(e,D(Y,Qe),"div",ee,_t)}function Mt(Qe,_t,ct){var qe=Ha(e,ee,null,Qe),$e="ltr"==_t==("after"==ct)?"left":"right";return Ee("after"==ct?qe.begin:qe.end-(/\s/.test(ee.text.charAt(qe.end-1))?2:1),$e)[$e]}var et=Te(ee,c.direction);return function(e,n,a,o){if(!e)return o(n,a,"ltr",0);for(var c=!1,u=0;u<e.length;++u){var d=e[u];(d.from<a&&d.to>n||n==a&&d.to==n)&&(o(Math.max(d.from,n),Math.min(d.to,a),1==d.level?"rtl":"ltr",u),c=!0)}c||o(n,a,"ltr")}(et,G||0,null==ie?ce:ie,function(Qe,_t,ct,qe){var $e="ltr"==ct,Ze=Ee(Qe,$e?"left":"right"),yt=Ee(_t-1,$e?"right":"left"),In=null==G&&0==Qe,nn=null==ie&&_t==ce,Ct=0==qe,rn=!et||qe==et.length-1;if(yt.top-Ze.top<=3){var kn=(m?In:nn)&&Ct?p:($e?Ze:yt).left;y(kn,Ze.top,((m?nn:In)&&rn?g:($e?yt:Ze).right)-kn,Ze.bottom)}else{var Jn,zt,Ai,Qr;$e?(Jn=m&&In&&Ct?p:Ze.left,zt=m?g:Mt(Qe,ct,"before"),Ai=m?p:Mt(_t,ct,"after"),Qr=m&&nn&&rn?g:yt.right):(Jn=m?Mt(Qe,ct,"before"):p,zt=!m&&In&&Ct?g:Ze.right,Ai=!m&&nn&&rn?p:yt.left,Qr=m?Mt(_t,ct,"after"):g),y(Jn,Ze.top,zt-Jn,Ze.bottom),Ze.bottom<yt.top&&y(p,Ze.bottom,null,yt.top),y(Ai,yt.top,Qr-Ai,yt.bottom)}(!Oe||mo(Ze,Oe)<0)&&(Oe=Ze),mo(yt,Oe)<0&&(Oe=yt),(!Ke||mo(Ze,Ke)<0)&&(Ke=Ze),mo(yt,Ke)<0&&(Ke=yt)}),{start:Oe,end:Ke}}var w=n.from(),b=n.to();if(w.line==b.line)C(w.line,w.ch,b.ch);else{var N=J(c,w.line),k=J(c,b.line),P=pn(N)==pn(k),H=C(w.line,w.ch,P?N.text.length+1:null).end,W=C(b.line,P?0:null,b.ch).start;P&&(H.top<W.top-2?(y(H.right,H.top,null,H.bottom),y(p,W.top,W.left,W.bottom)):y(H.right,H.top,W.left-H.right,H.bottom)),H.bottom<W.top&&y(p,H.bottom,null,W.top)}a.appendChild(u)}function Ir(e){if(e.state.focused){var n=e.display;clearInterval(n.blinker);var a=!0;n.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?n.blinker=setInterval(function(){e.hasFocus()||zi(e),n.cursorDiv.style.visibility=(a=!a)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function us(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Zi(e))}function vo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&zi(e))},100)}function Zi(e,n){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ae(e,"focus",e,n),e.state.focused=!0,ht(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),ze&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ir(e))}function zi(e,n){e.state.delayingBlurEvent||(e.state.focused&&(Ae(e,"blur",e,n),e.state.focused=!1,An(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ui(e){for(var n=e.display,a=n.lineDiv.offsetTop,o=Math.max(0,n.scroller.getBoundingClientRect().top),c=n.lineDiv.getBoundingClientRect().top,u=0,d=0;d<n.view.length;d++){var p=n.view[d],g=e.options.lineWrapping,m=void 0,y=0;if(!p.hidden){if(c+=p.line.height,ae&&fe<8){var C=p.node.offsetTop+p.node.offsetHeight;m=C-a,a=C}else{var w=p.node.getBoundingClientRect();m=w.bottom-w.top,!g&&p.text.firstChild&&(y=p.text.firstChild.getBoundingClientRect().right-w.left-1)}var b=p.line.height-m;if((b>.005||b<-.005)&&(c<o&&(u-=b),Dt(p.line,m),hs(p.line),p.rest))for(var N=0;N<p.rest.length;N++)hs(p.rest[N]);if(y>e.display.sizerWidth){var k=Math.ceil(y/Qi(e.display));k>e.display.maxLineLength&&(e.display.maxLineLength=k,e.display.maxLine=p.line,e.display.maxLineChanged=!0)}}}Math.abs(u)>2&&(n.scroller.scrollTop+=u)}function hs(e){if(e.widgets)for(var n=0;n<e.widgets.length;++n){var a=e.widgets[n],o=a.node.parentNode;o&&(a.height=o.offsetHeight)}}function Ji(e,n,a){var o=a&&null!=a.top?Math.max(0,a.top):e.scroller.scrollTop;o=Math.floor(o-so(e));var c=a&&null!=a.bottom?a.bottom:o+e.wrapper.clientHeight,u=Xt(n,o),d=Xt(n,c);if(a&&a.ensure){var p=a.ensure.from.line,g=a.ensure.to.line;p<u?(u=p,d=Xt(n,Bn(J(n,p))+e.wrapper.clientHeight)):Math.min(g,n.lastLine())>=d&&(u=Xt(n,Bn(J(n,g))-e.wrapper.clientHeight),d=g)}return{from:u,to:Math.max(d,u+1)}}function _o(e,n){var a=e.display,o=Gi(e.display);n.top<0&&(n.top=0);var c=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,u=rs(e),d={};n.bottom-n.top>u&&(n.bottom=n.top+u);var p=e.doc.height+is(a),m=n.bottom>p-o;if(n.top<c)d.scrollTop=n.top<o?0:n.top;else if(n.bottom>c+u){var y=Math.min(n.top,(m?p:n.bottom)-u);y!=c&&(d.scrollTop=y)}var C=e.options.fixedGutter?0:a.gutters.offsetWidth,w=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft-C,b=_i(e)-a.gutters.offsetWidth,N=n.right-n.left>b;return N&&(n.right=n.left+b),n.left<10?d.scrollLeft=0:n.left<w?d.scrollLeft=Math.max(0,n.left+C-(N?0:10)):n.right>b+w-3&&(d.scrollLeft=n.right+(N?0:10)-b),d}function kr(e,n){null!=n&&(Yn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function bi(e){Yn(e);var n=e.getCursor();e.curOp.scrollToPos={from:n,to:n,margin:e.options.cursorScrollMargin}}function ji(e,n,a){(null!=n||null!=a)&&Yn(e),null!=n&&(e.curOp.scrollLeft=n),null!=a&&(e.curOp.scrollTop=a)}function Yn(e){var n=e.curOp.scrollToPos;n&&(e.curOp.scrollToPos=null,ps(e,Ra(e,n.from),Ra(e,n.to),n.margin))}function ps(e,n,a,o){var c=_o(e,{left:Math.min(n.left,a.left),top:Math.min(n.top,a.top)-o,right:Math.max(n.right,a.right),bottom:Math.max(n.bottom,a.bottom)+o});ji(e,c.scrollLeft,c.scrollTop)}function Si(e,n){Math.abs(e.doc.scrollTop-n)<2||(M||Dr(e,{top:n}),qi(e,n,!0),M&&Dr(e),wi(e,100))}function qi(e,n,a){n=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,n)),(e.display.scroller.scrollTop!=n||a)&&(e.doc.scrollTop=n,e.display.scrollbars.setScrollTop(n),e.display.scroller.scrollTop!=n&&(e.display.scroller.scrollTop=n))}function en(e,n,a,o){n=Math.max(0,Math.min(n,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(!(a?n==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-n)<2)||o)&&(e.doc.scrollLeft=n,Ot(e),e.display.scroller.scrollLeft!=n&&(e.display.scroller.scrollLeft=n),e.display.scrollbars.setScrollLeft(n))}function $i(e){var n=e.display,a=n.gutters.offsetWidth,o=Math.round(e.doc.height+is(e.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:e.options.fixedGutter?a:0,docHeight:o,scrollHeight:o+Sn(e)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:a}}var ai=function(e,n,a){this.cm=a;var o=this.vert=K("div",[K("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),c=this.horiz=K("div",[K("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=c.tabIndex=-1,e(o),e(c),te(o,"scroll",function(){o.clientHeight&&n(o.scrollTop,"vertical")}),te(c,"scroll",function(){c.clientWidth&&n(c.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ae&&fe<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ai.prototype.update=function(e){var n=e.scrollWidth>e.clientWidth+1,a=e.scrollHeight>e.clientHeight+1,o=e.nativeBarWidth;return a?(this.vert.style.display="block",this.vert.style.bottom=n?o+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(n?o:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),n?(this.horiz.style.display="block",this.horiz.style.right=a?o+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(a?o:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==o&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:a?o:0,bottom:n?o:0}},ai.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ai.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ai.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=_e&&!bt?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ke,this.disableVert=new ke},ai.prototype.enableZeroWidthBar=function(e,n,a){e.style.pointerEvents="auto",n.set(1e3,function o(){var c=e.getBoundingClientRect();("vert"==a?document.elementFromPoint(c.right-1,(c.top+c.bottom)/2):document.elementFromPoint((c.right+c.left)/2,c.bottom-1))!=e?e.style.pointerEvents="none":n.set(1e3,o)})},ai.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Wn=function(){};function Xi(e,n){n||(n=$i(e));var a=e.display.barWidth,o=e.display.barHeight;gs(e,n);for(var c=0;c<4&&a!=e.display.barWidth||o!=e.display.barHeight;c++)a!=e.display.barWidth&&e.options.lineWrapping&&Ui(e),gs(e,$i(e)),a=e.display.barWidth,o=e.display.barHeight}function gs(e,n){var a=e.display,o=a.scrollbars.update(n);a.sizer.style.paddingRight=(a.barWidth=o.right)+"px",a.sizer.style.paddingBottom=(a.barHeight=o.bottom)+"px",a.heightForcer.style.borderBottom=o.bottom+"px solid transparent",o.right&&o.bottom?(a.scrollbarFiller.style.display="block",a.scrollbarFiller.style.height=o.bottom+"px",a.scrollbarFiller.style.width=o.right+"px"):a.scrollbarFiller.style.display="",o.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(a.gutterFiller.style.display="block",a.gutterFiller.style.height=o.bottom+"px",a.gutterFiller.style.width=n.gutterWidth+"px"):a.gutterFiller.style.display=""}Wn.prototype.update=function(){return{bottom:0,right:0}},Wn.prototype.setScrollLeft=function(){},Wn.prototype.setScrollTop=function(){},Wn.prototype.clear=function(){};var vn={native:ai,null:Wn};function ms(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&An(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new vn[e.options.scrollbarStyle](function(n){e.display.wrapper.insertBefore(n,e.display.scrollbarFiller),te(n,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),n.setAttribute("cm-not-content","true")},function(n,a){"horizontal"==a?en(e,n):Si(e,n)},e),e.display.scrollbars.addClass&&ht(e.display.wrapper,e.display.scrollbars.addClass)}var vs=0;function Vn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++vs,markArrays:null},function(e){Wi?Wi.ops.push(e):e.ownsGroup=Wi={ops:[e],delayedCallbacks:[]}}(e.curOp)}function Gt(e){var n=e.curOp;n&&function(e,n){var a=e.ownsGroup;if(a)try{!function(e){var n=e.delayedCallbacks,a=0;do{for(;a<n.length;a++)n[a].call(null);for(var o=0;o<e.ops.length;o++){var c=e.ops[o];if(c.cursorActivityHandlers)for(;c.cursorActivityCalled<c.cursorActivityHandlers.length;)c.cursorActivityHandlers[c.cursorActivityCalled++].call(null,c.cm)}}while(a<n.length)}(a)}finally{Wi=null,n(a)}}(n,function(a){for(var o=0;o<a.ops.length;o++)a.ops[o].cm.curOp=null;!function(e){for(var n=e.ops,a=0;a<n.length;a++)Ga(n[a]);for(var o=0;o<n.length;o++)Qa(n[o]);for(var c=0;c<n.length;c++)vc(n[c]);for(var u=0;u<n.length;u++)_c(n[u]);for(var d=0;d<n.length;d++)yc(n[d])}(a)})}function Ga(e){var n=e.cm,a=n.display;(function(e){var n=e.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Sn(e)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Sn(e)+"px",n.scrollbarsClipped=!0)})(n),e.updateMaxLine&&es(n),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<a.viewFrom||e.scrollToPos.to.line>=a.viewTo)||a.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new Co(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Qa(e){e.updatedDisplay=e.mustUpdate&&li(e.cm,e.update)}function vc(e){var n=e.cm,a=n.display;e.updatedDisplay&&Ui(n),e.barMeasure=$i(n),a.maxLineChanged&&!n.options.lineWrapping&&(e.adjustWidthTo=Ia(n,a.maxLine,a.maxLine.text.length).left+3,n.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(a.scroller.clientWidth,a.sizer.offsetLeft+e.adjustWidthTo+Sn(n)+n.display.barWidth),e.maxScrollLeft=Math.max(0,a.sizer.offsetLeft+e.adjustWidthTo-_i(n))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=a.input.prepareSelection())}function _c(e){var n=e.cm;null!=e.adjustWidthTo&&(n.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<n.doc.scrollLeft&&en(n,Math.min(n.display.scroller.scrollLeft,e.maxScrollLeft),!0),n.display.maxLineChanged=!1);var a=e.focus&&e.focus==Fe();e.preparedSelection&&n.display.input.showSelection(e.preparedSelection,a),(e.updatedDisplay||e.startHeight!=n.doc.height)&&Xi(n,e.barMeasure),e.updatedDisplay&&j(n,e.barMeasure),e.selectionChanged&&Ir(n),n.state.focused&&e.updateInput&&n.display.input.reset(e.typing),a&&us(e.cm)}function yc(e){var n=e.cm,a=n.display,o=n.doc;e.updatedDisplay&&Za(n,e.update),null!=a.wheelStartX&&(null!=e.scrollTop||null!=e.scrollLeft||e.scrollToPos)&&(a.wheelStartX=a.wheelStartY=null),null!=e.scrollTop&&qi(n,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&en(n,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,n){if(!Ue(e,"scrollCursorIntoView")){var a=e.display,o=a.sizer.getBoundingClientRect(),c=null;if(n.top+o.top<0?c=!0:n.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(c=!1),null!=c&&!Zt){var u=K("div","\u200b",null,"position: absolute;\n                         top: "+(n.top-a.viewOffset-so(e.display))+"px;\n                         height: "+(n.bottom-n.top+Sn(e)+a.barHeight)+"px;\n                         left: "+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");e.display.lineSpace.appendChild(u),u.scrollIntoView(c),e.display.lineSpace.removeChild(u)}}}(n,function(e,n,a,o){var c;null==o&&(o=0),!e.options.lineWrapping&&n==a&&(a="before"==n.sticky?D(n.line,n.ch+1,"before"):n,n=n.ch?D(n.line,"before"==n.sticky?n.ch-1:n.ch,"after"):n);for(var u=0;u<5;u++){var d=!1,p=gn(e,n),g=a&&a!=n?gn(e,a):p,m=_o(e,c={left:Math.min(p.left,g.left),top:Math.min(p.top,g.top)-o,right:Math.max(p.left,g.left),bottom:Math.max(p.bottom,g.bottom)+o}),y=e.doc.scrollTop,C=e.doc.scrollLeft;if(null!=m.scrollTop&&(Si(e,m.scrollTop),Math.abs(e.doc.scrollTop-y)>1&&(d=!0)),null!=m.scrollLeft&&(en(e,m.scrollLeft),Math.abs(e.doc.scrollLeft-C)>1&&(d=!0)),!d)break}return c}(n,R(o,e.scrollToPos.from),R(o,e.scrollToPos.to),e.scrollToPos.margin));var u=e.maybeHiddenMarkers,d=e.maybeUnhiddenMarkers;if(u)for(var p=0;p<u.length;++p)u[p].lines.length||Ae(u[p],"hide");if(d)for(var g=0;g<d.length;++g)d[g].lines.length&&Ae(d[g],"unhide");a.wrapper.offsetHeight&&(o.scrollTop=n.display.scroller.scrollTop),e.changeObjs&&Ae(n,"changes",n,e.changeObjs),e.update&&e.update.finish()}function mt(e,n){if(e.curOp)return n();Vn(e);try{return n()}finally{Gt(e)}}function st(e,n){return function(){if(e.curOp)return n.apply(e,arguments);Vn(e);try{return n.apply(e,arguments)}finally{Gt(e)}}}function at(e){return function(){if(this.curOp)return e.apply(this,arguments);Vn(this);try{return e.apply(this,arguments)}finally{Gt(this)}}}function rt(e){return function(){var n=this.cm;if(!n||n.curOp)return e.apply(this,arguments);Vn(n);try{return e.apply(this,arguments)}finally{Gt(n)}}}function wi(e,n){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(n,Yt(Cc,e))}function Cc(e){var n=e.doc;if(!(n.highlightFrontier>=e.display.viewTo)){var a=+new Date+e.options.workTime,o=Hi(e,n.highlightFrontier),c=[];n.iter(o.line,Math.min(n.first+n.size,e.display.viewTo+500),function(u){if(o.line>=e.display.viewFrom){var d=u.styles,p=u.text.length>e.options.maxHighlightLength?Wt(n.mode,o.state):null,g=Sr(e,u,o,!0);p&&(o.state=p),u.styles=g.styles;var m=u.styleClasses,y=g.classes;y?u.styleClasses=y:m&&(u.styleClasses=null);for(var C=!d||d.length!=u.styles.length||m!=y&&(!m||!y||m.bgClass!=y.bgClass||m.textClass!=y.textClass),w=0;!C&&w<d.length;++w)C=d[w]!=u.styles[w];C&&c.push(o.line),u.stateAfter=o.save(),o.nextLine()}else u.text.length<=e.options.maxHighlightLength&&Zo(e,u.text,o),u.stateAfter=o.line%5==0?o.save():null,o.nextLine();if(+new Date>a)return wi(e,e.options.workDelay),!0}),n.highlightFrontier=o.line,n.modeFrontier=Math.max(n.modeFrontier,o.line),c.length&&mt(e,function(){for(var u=0;u<c.length;u++)mn(e,c[u],"text")})}}var Co=function(e,n,a){var o=e.display;this.viewport=n,this.visible=Ji(o,e.doc,n),this.editorIsHidden=!o.wrapper.offsetWidth,this.wrapperHeight=o.wrapper.clientHeight,this.wrapperWidth=o.wrapper.clientWidth,this.oldDisplayWidth=_i(e),this.force=a,this.dims=co(e),this.events=[]};function li(e,n){var a=e.display,o=e.doc;if(n.editorIsHidden)return xn(e),!1;if(!n.force&&n.visible.from>=a.viewFrom&&n.visible.to<=a.viewTo&&(null==a.updateLineNumbers||a.updateLineNumbers>=a.viewTo)&&a.renderedView==a.view&&0==po(e))return!1;ys(e)&&(xn(e),n.dims=co(e));var c=o.first+o.size,u=Math.max(n.visible.from-e.options.viewportMargin,o.first),d=Math.min(c,n.visible.to+e.options.viewportMargin);a.viewFrom<u&&u-a.viewFrom<20&&(u=Math.max(o.first,a.viewFrom)),a.viewTo>d&&a.viewTo-d<20&&(d=Math.min(c,a.viewTo)),Kt&&(u=Xo(e.doc,u),d=ya(e.doc,d));var p=u!=a.viewFrom||d!=a.viewTo||a.lastWrapHeight!=n.wrapperHeight||a.lastWrapWidth!=n.wrapperWidth;(function(e,n,a){var o=e.display;0==o.view.length||n>=o.viewTo||a<=o.viewFrom?(o.view=oo(e,n,a),o.viewFrom=n):(o.viewFrom>n?o.view=oo(e,n,o.viewFrom).concat(o.view):o.viewFrom<n&&(o.view=o.view.slice(oi(e,n))),o.viewFrom=n,o.viewTo<a?o.view=o.view.concat(oo(e,o.viewTo,a)):o.viewTo>a&&(o.view=o.view.slice(0,oi(e,a)))),o.viewTo=a})(e,u,d),a.viewOffset=Bn(J(e.doc,a.viewFrom)),e.display.mover.style.top=a.viewOffset+"px";var g=po(e);if(!p&&0==g&&!n.force&&a.renderedView==a.view&&(null==a.updateLineNumbers||a.updateLineNumbers>=a.viewTo))return!1;var m=function(e){if(e.hasFocus())return null;var n=Fe();if(!n||!x(e.display.lineDiv,n))return null;var a={activeElt:n};if(window.getSelection){var o=window.getSelection();o.anchorNode&&o.extend&&x(e.display.lineDiv,o.anchorNode)&&(a.anchorNode=o.anchorNode,a.anchorOffset=o.anchorOffset,a.focusNode=o.focusNode,a.focusOffset=o.focusOffset)}return a}(e);return g>4&&(a.lineDiv.style.display="none"),function(e,n,a){var o=e.display,c=e.options.lineNumbers,u=o.lineDiv,d=u.firstChild;function p(N){var k=N.nextSibling;return ze&&_e&&e.display.currentWheelTarget==N?N.style.display="none":N.parentNode.removeChild(N),k}for(var g=o.view,m=o.viewFrom,y=0;y<g.length;y++){var C=g[y];if(!C.hidden)if(C.node&&C.node.parentNode==u){for(;d!=C.node;)d=p(d);var b=c&&null!=n&&n<=m&&C.lineNumber;C.changes&&(Ye(C.changes,"gutter")>-1&&(b=!1),ts(e,C,m,a)),b&&(V(C.lineNumber),C.lineNumber.appendChild(document.createTextNode(mi(e.options,m)))),d=C.node.nextSibling}else{var w=sc(e,C,m,a);u.insertBefore(w,d)}m+=C.size}for(;d;)d=p(d)}(e,a.updateLineNumbers,n.dims),g>4&&(a.lineDiv.style.display=""),a.renderedView=a.view,function(e){if(e&&e.activeElt&&e.activeElt!=Fe()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&x(document.body,e.anchorNode)&&x(document.body,e.focusNode))){var n=window.getSelection(),a=document.createRange();a.setEnd(e.anchorNode,e.anchorOffset),a.collapse(!1),n.removeAllRanges(),n.addRange(a),n.extend(e.focusNode,e.focusOffset)}}(m),V(a.cursorDiv),V(a.selectionDiv),a.gutters.style.height=a.sizer.style.minHeight=0,p&&(a.lastWrapHeight=n.wrapperHeight,a.lastWrapWidth=n.wrapperWidth,wi(e,400)),a.updateLineNumbers=null,!0}function Za(e,n){for(var a=n.viewport,o=!0;;o=!1){if(o&&e.options.lineWrapping&&n.oldDisplayWidth!=_i(e))o&&(n.visible=Ji(e.display,e.doc,a));else if(a&&null!=a.top&&(a={top:Math.min(e.doc.height+is(e.display)-rs(e),a.top)}),n.visible=Ji(e.display,e.doc,a),n.visible.from>=e.display.viewFrom&&n.visible.to<=e.display.viewTo)break;if(!li(e,n))break;Ui(e);var c=$i(e);Ge(e),Xi(e,c),j(e,c),n.force=!1}n.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(n.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Dr(e,n){var a=new Co(e,n);if(li(e,a)){Ui(e),Za(e,a);var o=$i(e);Ge(e),Xi(e,o),j(e,o),a.finish()}}function _s(e){e.sizer.style.marginLeft=e.gutters.offsetWidth+"px",ot(e,"gutterChanged",e)}function j(e,n){e.display.sizer.style.minHeight=n.docHeight+"px",e.display.heightForcer.style.top=n.docHeight+"px",e.display.gutters.style.height=n.docHeight+e.display.barHeight+Sn(e)+"px"}function Ot(e){var n=e.display,a=n.view;if(n.alignWidgets||n.gutters.firstChild&&e.options.fixedGutter){for(var o=uo(n)-n.scroller.scrollLeft+e.doc.scrollLeft,c=n.gutters.offsetWidth,u=o+"px",d=0;d<a.length;d++)if(!a[d].hidden){e.options.fixedGutter&&(a[d].gutter&&(a[d].gutter.style.left=u),a[d].gutterBackground&&(a[d].gutterBackground.style.left=u));var p=a[d].alignable;if(p)for(var g=0;g<p.length;g++)p[g].style.left=u}e.options.fixedGutter&&(n.gutters.style.left=o+c+"px")}}function ys(e){if(!e.options.lineNumbers)return!1;var n=e.doc,a=mi(e.options,n.first+n.size-1),o=e.display;if(a.length!=o.lineNumChars){var c=o.measure.appendChild(K("div",[K("div",a)],"CodeMirror-linenumber CodeMirror-gutter-elt")),u=c.firstChild.offsetWidth,d=c.offsetWidth-u;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(u,o.lineGutter.offsetWidth-d)+1,o.lineNumWidth=o.lineNumInnerWidth+d,o.lineNumChars=o.lineNumInnerWidth?a.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",_s(e.display),!0}return!1}function _n(e,n){for(var a=[],o=!1,c=0;c<e.length;c++){var u=e[c],d=null;if("string"!=typeof u&&(d=u.style,u=u.className),"CodeMirror-linenumbers"==u){if(!n)continue;o=!0}a.push({className:u,style:d})}return n&&!o&&a.push({className:"CodeMirror-linenumbers",style:null}),a}function Xe(e){var n=e.gutters,a=e.gutterSpecs;V(n),e.lineGutter=null;for(var o=0;o<a.length;++o){var c=a[o],u=c.className,d=c.style,p=n.appendChild(K("div",null,"CodeMirror-gutter "+u));d&&(p.style.cssText=d),"CodeMirror-linenumbers"==u&&(e.lineGutter=p,p.style.width=(e.lineNumWidth||1)+"px")}n.style.display=a.length?"":"none",_s(e)}function L(e){Xe(e.display),gt(e),Ot(e)}function Rt(e,n,a,o){var c=this;this.input=a,c.scrollbarFiller=K("div",null,"CodeMirror-scrollbar-filler"),c.scrollbarFiller.setAttribute("cm-not-content","true"),c.gutterFiller=K("div",null,"CodeMirror-gutter-filler"),c.gutterFiller.setAttribute("cm-not-content","true"),c.lineDiv=O("div",null,"CodeMirror-code"),c.selectionDiv=K("div",null,null,"position: relative; z-index: 1"),c.cursorDiv=K("div",null,"CodeMirror-cursors"),c.measure=K("div",null,"CodeMirror-measure"),c.lineMeasure=K("div",null,"CodeMirror-measure"),c.lineSpace=O("div",[c.measure,c.lineMeasure,c.selectionDiv,c.cursorDiv,c.lineDiv],null,"position: relative; outline: none");var u=O("div",[c.lineSpace],"CodeMirror-lines");c.mover=K("div",[u],null,"position: relative"),c.sizer=K("div",[c.mover],"CodeMirror-sizer"),c.sizerWidth=null,c.heightForcer=K("div",null,null,"position: absolute; height: 50px; width: 1px;"),c.gutters=K("div",null,"CodeMirror-gutters"),c.lineGutter=null,c.scroller=K("div",[c.sizer,c.heightForcer,c.gutters],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=K("div",[c.scrollbarFiller,c.gutterFiller,c.scroller],"CodeMirror"),c.wrapper.setAttribute("translate","no"),ae&&fe<8&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),!ze&&!(M&&St)&&(c.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(c.wrapper):e(c.wrapper)),c.viewFrom=c.viewTo=n.first,c.reportedViewFrom=c.reportedViewTo=n.first,c.view=[],c.renderedView=null,c.externalMeasured=null,c.viewOffset=0,c.lastWrapHeight=c.lastWrapWidth=0,c.updateLineNumbers=null,c.nativeBarWidth=c.barHeight=c.barWidth=0,c.scrollbarsClipped=!1,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.alignWidgets=!1,c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c.shift=!1,c.selForContextMenu=null,c.activeTouch=null,c.gutterSpecs=_n(o.gutters,o.lineNumbers),Xe(c),a.init(c)}Co.prototype.signal=function(e,n){dt(e,n)&&this.events.push(arguments)},Co.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ae.apply(null,this.events[e])};var lt=0,Tn=null;function Ua(e){var n=e.wheelDeltaX,a=e.wheelDeltaY;return null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==a&&e.detail&&e.axis==e.VERTICAL_AXIS?a=e.detail:null==a&&(a=e.wheelDelta),{x:n,y:a}}function Sc(e){var n=Ua(e);return n.x*=Tn,n.y*=Tn,n}function Cs(e,n){var a=Ua(n),o=a.x,c=a.y,u=Tn;0===n.deltaMode&&(o=n.deltaX,c=n.deltaY,u=1);var d=e.display,p=d.scroller,m=p.scrollHeight>p.clientHeight;if(o&&p.scrollWidth>p.clientWidth||c&&m){if(c&&_e&&ze)e:for(var y=n.target,C=d.view;y!=p;y=y.parentNode)for(var w=0;w<C.length;w++)if(C[w].node==y){e.display.currentWheelTarget=y;break e}if(o&&!M&&!he&&null!=u)return c&&m&&Si(e,Math.max(0,p.scrollTop+c*u)),en(e,Math.max(0,p.scrollLeft+o*u)),(!c||c&&m)&&Je(n),void(d.wheelStartX=null);if(c&&null!=u){var b=c*u,N=e.doc.scrollTop,k=N+d.wrapper.clientHeight;b<0?N=Math.max(0,N+b-50):k=Math.min(e.doc.height,k+b+50),Dr(e,{top:N,bottom:k})}lt<20&&0!==n.deltaMode&&(null==d.wheelStartX?(d.wheelStartX=p.scrollLeft,d.wheelStartY=p.scrollTop,d.wheelDX=o,d.wheelDY=c,setTimeout(function(){if(null!=d.wheelStartX){var P=p.scrollLeft-d.wheelStartX,H=p.scrollTop-d.wheelStartY,W=H&&d.wheelDY&&H/d.wheelDY||P&&d.wheelDX&&P/d.wheelDX;d.wheelStartX=d.wheelStartY=null,W&&(Tn=(Tn*lt+W)/(lt+1),++lt)}},200)):(d.wheelDX+=o,d.wheelDY+=c))}}ae?Tn=-.53:M?Tn=15:Q?Tn=-.7:ve&&(Tn=-1/3);var Bt=function(e,n){this.ranges=e,this.primIndex=n};Bt.prototype.primary=function(){return this.ranges[this.primIndex]},Bt.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var a=this.ranges[n],o=e.ranges[n];if(!vi(a.anchor,o.anchor)||!vi(a.head,o.head))return!1}return!0},Bt.prototype.deepCopy=function(){for(var e=[],n=0;n<this.ranges.length;n++)e[n]=new Se(v(this.ranges[n].anchor),v(this.ranges[n].head));return new Bt(e,this.primIndex)},Bt.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Bt.prototype.contains=function(e,n){n||(n=e);for(var a=0;a<this.ranges.length;a++){var o=this.ranges[a];if(oe(n,o.from())>=0&&oe(e,o.to())<=0)return a}return-1};var Se=function(e,n){this.anchor=e,this.head=n};function tn(e,n,a){var o=e&&e.options.selectionsMayTouch,c=n[a];n.sort(function(w,b){return oe(w.from(),b.from())}),a=Ye(n,c);for(var u=1;u<n.length;u++){var d=n[u],p=n[u-1],g=oe(p.to(),d.from());if(o&&!d.empty()?g>0:g>=0){var m=I(p.from(),d.from()),y=z(p.to(),d.to()),C=p.empty()?d.from()==d.head:p.from()==p.head;u<=a&&--a,n.splice(--u,2,new Se(C?y:m,C?m:y))}}return new Bt(n,a)}function Gn(e,n){return new Bt([new Se(e,n||e)],0)}function On(e){return e.text?D(e.from.line+e.text.length-1,ge(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ja(e,n){if(oe(e,n.from)<0)return e;if(oe(e,n.to)<=0)return On(n);var a=e.line+n.text.length-(n.to.line-n.from.line)-1,o=e.ch;return e.line==n.to.line&&(o+=On(n).ch-n.to.ch),D(a,o)}function Ar(e,n){for(var a=[],o=0;o<e.sel.ranges.length;o++){var c=e.sel.ranges[o];a.push(new Se(Ja(c.anchor,n),Ja(c.head,n)))}return tn(e.cm,a,e.sel.primIndex)}function ja(e,n,a){return e.line==n.line?D(a.line,e.ch-n.ch+a.ch):D(a.line+(e.line-n.line),e.ch)}function zo(e){e.doc.mode=$t(e.options,e.doc.modeOption),er(e)}function er(e){e.doc.iter(function(n){n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,wi(e,100),e.state.modeGen++,e.curOp&&gt(e)}function zs(e,n){return 0==n.from.ch&&0==n.to.ch&&""==ge(n.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function bo(e,n,a,o){function c(W){return a?a[W]:null}function u(W,Y,G){(function(e,n,a,o){e.text=n,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),pa(e),ga(e,a);var c=o?o(e):1;c!=e.height&&Dt(e,c)})(W,Y,G,o),ot(W,"change",W,n)}function d(W,Y){for(var G=[],ie=W;ie<Y;++ie)G.push(new Yi(m[ie],c(ie),o));return G}var p=n.from,g=n.to,m=n.text,y=J(e,p.line),C=J(e,g.line),w=ge(m),b=c(m.length-1),N=g.line-p.line;if(n.full)e.insert(0,d(0,m.length)),e.remove(m.length,e.size-m.length);else if(zs(e,n)){var k=d(0,m.length-1);u(C,C.text,b),N&&e.remove(p.line,N),k.length&&e.insert(p.line,k)}else if(y==C)if(1==m.length)u(y,y.text.slice(0,p.ch)+w+y.text.slice(g.ch),b);else{var P=d(1,m.length-1);P.push(new Yi(w+y.text.slice(g.ch),b,o)),u(y,y.text.slice(0,p.ch)+m[0],c(0)),e.insert(p.line+1,P)}else if(1==m.length)u(y,y.text.slice(0,p.ch)+m[0]+C.text.slice(g.ch),c(0)),e.remove(p.line+1,N);else{u(y,y.text.slice(0,p.ch)+m[0],c(0)),u(C,w+C.text.slice(g.ch),b);var H=d(1,m.length-1);N>1&&e.remove(p.line+1,N-1),e.insert(p.line+1,H)}ot(e,"change",e,n)}function Qn(e,n,a){!function o(c,u,d){if(c.linked)for(var p=0;p<c.linked.length;++p){var g=c.linked[p];if(g.doc!=u){var m=d&&g.sharedHist;a&&!m||(n(g.doc,m),o(g.doc,c,m))}}}(e,null,!0)}function bs(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,fo(e),zo(e),Ss(e),e.options.direction=n.direction,e.options.lineWrapping||es(e),e.options.mode=n.modeOption,gt(e)}function Ss(e){("rtl"==e.doc.direction?ht:An)(e.display.lineDiv,"CodeMirror-rtl")}function Er(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function So(e,n){var a={from:v(n.from),to:On(n),text:bn(e,n.from,n.to)};return Os(e,a,n.from.line,n.to.line+1),Qn(e,function(o){return Os(o,a,n.from.line,n.to.line+1)},!0),a}function ws(e){for(;e.length&&ge(e).ranges;)e.pop()}function xs(e,n,a,o){var c=e.history;c.undone.length=0;var d,p,u=+new Date;if((c.lastOp==o||c.lastOrigin==n.origin&&n.origin&&("+"==n.origin.charAt(0)&&c.lastModTime>u-(e.cm?e.cm.options.historyEventDelay:500)||"*"==n.origin.charAt(0)))&&(d=function(e,n){return n?(ws(e.done),ge(e.done)):e.done.length&&!ge(e.done).ranges?ge(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),ge(e.done)):void 0}(c,c.lastOp==o)))p=ge(d.changes),0==oe(n.from,n.to)&&0==oe(n.from,p.to)?p.to=On(n):d.changes.push(So(e,n));else{var g=ge(c.done);for((!g||!g.ranges)&&Fr(e.sel,c.done),d={changes:[So(e,n)],generation:c.generation},c.done.push(d);c.done.length>c.undoDepth;)c.done.shift(),c.done[0].ranges||c.done.shift()}c.done.push(a),c.generation=++c.maxGeneration,c.lastModTime=c.lastSelTime=u,c.lastOp=c.lastSelOp=o,c.lastOrigin=c.lastSelOrigin=n.origin,p||Ae(e,"historyAdded")}function Ts(e,n,a,o){var c=e.history,u=o&&o.origin;a==c.lastSelOp||u&&c.lastSelOrigin==u&&(c.lastModTime==c.lastSelTime&&c.lastOrigin==u||function(e,n,a,o){var c=n.charAt(0);return"*"==c||"+"==c&&a.ranges.length==o.ranges.length&&a.somethingSelected()==o.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,u,ge(c.done),n))?c.done[c.done.length-1]=n:Fr(n,c.done),c.lastSelTime=+new Date,c.lastSelOrigin=u,c.lastSelOp=a,o&&!1!==o.clearRedo&&ws(c.undone)}function Fr(e,n){var a=ge(n);a&&a.ranges&&a.equals(e)||n.push(e)}function Os(e,n,a,o){var c=n["spans_"+e.id],u=0;e.iter(Math.max(e.first,a),Math.min(e.first+e.size,o),function(d){d.markedSpans&&((c||(c=n["spans_"+e.id]={}))[u]=d.markedSpans),++u})}function Ms(e){if(!e)return null;for(var n,a=0;a<e.length;++a)e[a].marker.explicitlyCleared?n||(n=e.slice(0,a)):n&&n.push(e[a]);return n?n.length?n:null:e}function re(e,n){var a=function(e,n){var a=n["spans_"+e.id];if(!a)return null;for(var o=[],c=0;c<n.text.length;++c)o.push(Ms(a[c]));return o}(e,n),o=eo(e,n);if(!a)return o;if(!o)return a;for(var c=0;c<a.length;++c){var u=a[c],d=o[c];if(u&&d)e:for(var p=0;p<d.length;++p){for(var g=d[p],m=0;m<u.length;++m)if(u[m].marker==g.marker)continue e;u.push(g)}else d&&(a[c]=d)}return a}function vt(e,n,a){for(var o=[],c=0;c<e.length;++c){var u=e[c];if(u.ranges)o.push(a?Bt.prototype.deepCopy.call(u):u);else{var d=u.changes,p=[];o.push({changes:p});for(var g=0;g<d.length;++g){var m=d[g],y=void 0;if(p.push({from:m.from,to:m.to,text:m.text}),n)for(var C in m)(y=C.match(/^spans_(\d+)$/))&&Ye(n,Number(y[1]))>-1&&(ge(p)[C]=m[C],delete m[C])}}}return o}function ci(e,n,a,o){if(o){var c=e.anchor;if(a){var u=oe(n,c)<0;u!=oe(a,c)<0?(c=n,n=a):u!=oe(n,a)<0&&(n=a)}return new Se(c,n)}return new Se(a||n,n)}function tr(e,n,a,o,c){null==c&&(c=e.cm&&(e.cm.display.shift||e.extend)),de(e,new Bt([ci(e.sel.primary(),n,a,c)],0),o)}function Ns(e,n,a){for(var o=[],c=e.cm&&(e.cm.display.shift||e.extend),u=0;u<e.sel.ranges.length;u++)o[u]=ci(e.sel.ranges[u],n[u],null,c);de(e,tn(e.cm,o,e.sel.primIndex),a)}function wo(e,n,a,o){var c=e.sel.ranges.slice(0);c[n]=a,de(e,tn(e.cm,c,e.sel.primIndex),o)}function xo(e,n,a,o){de(e,Gn(n,a),o)}function Pr(e,n,a){var o=e.history.done,c=ge(o);c&&c.ranges?(o[o.length-1]=n,nr(e,n,a)):de(e,n,a)}function de(e,n,a){nr(e,n,a),Ts(e,e.sel,e.cm?e.cm.curOp.id:NaN,a)}function nr(e,n,a){(dt(e,"beforeSelectionChange")||e.cm&&dt(e.cm,"beforeSelectionChange"))&&(n=function(e,n,a){var o={ranges:n.ranges,update:function(c){this.ranges=[];for(var u=0;u<c.length;u++)this.ranges[u]=new Se(R(e,c[u].anchor),R(e,c[u].head))},origin:a&&a.origin};return Ae(e,"beforeSelectionChange",e,o),e.cm&&Ae(e.cm,"beforeSelectionChange",e.cm,o),o.ranges!=n.ranges?tn(e.cm,o.ranges,o.ranges.length-1):n}(e,n,a));var o=a&&a.bias||(oe(n.primary().head,e.sel.primary().head)<0?-1:1);Xa(e,el(e,n,o,!0)),(!a||!1!==a.scroll)&&e.cm&&"nocursor"!=e.cm.getOption("readOnly")&&bi(e.cm)}function Xa(e,n){n.equals(e.sel)||(e.sel=n,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),ot(e,"cursorActivity",e))}function Ka(e){Xa(e,el(e,e.sel,null,!1))}function el(e,n,a,o){for(var c,u=0;u<n.ranges.length;u++){var d=n.ranges[u],p=n.ranges.length==e.sel.ranges.length&&e.sel.ranges[u],g=ir(e,d.anchor,p&&p.anchor,a,o),m=ir(e,d.head,p&&p.head,a,o);(c||g!=d.anchor||m!=d.head)&&(c||(c=n.ranges.slice(0,u)),c[u]=new Se(g,m))}return c?tn(e.cm,c,n.primIndex):n}function Zn(e,n,a,o,c){var u=J(e,n.line);if(u.markedSpans)for(var d=0;d<u.markedSpans.length;++d){var p=u.markedSpans[d],g=p.marker,m="selectLeft"in g?!g.selectLeft:g.inclusiveLeft,y="selectRight"in g?!g.selectRight:g.inclusiveRight;if((null==p.from||(m?p.from<=n.ch:p.from<n.ch))&&(null==p.to||(y?p.to>=n.ch:p.to>n.ch))){if(c&&(Ae(g,"beforeCursorEnter"),g.explicitlyCleared)){if(u.markedSpans){--d;continue}break}if(!g.atomic)continue;if(a){var C=g.find(o<0?1:-1),w=void 0;if((o<0?y:m)&&(C=To(e,C,-o,C&&C.line==n.line?u:null)),C&&C.line==n.line&&(w=oe(C,a))&&(o<0?w<0:w>0))return Zn(e,C,n,o,c)}var b=g.find(o<0?-1:1);return(o<0?m:y)&&(b=To(e,b,o,b.line==n.line?u:null)),b?Zn(e,b,n,o,c):null}}return n}function ir(e,n,a,o,c){var u=o||1;return Zn(e,n,a,u,c)||!c&&Zn(e,n,a,u,!0)||Zn(e,n,a,-u,c)||!c&&Zn(e,n,a,-u,!0)||(e.cantEdit=!0,D(e.first,0))}function To(e,n,a,o){return a<0&&0==n.ch?n.line>e.first?R(e,D(n.line-1)):null:a>0&&n.ch==(o||J(e,n.line)).text.length?n.line<e.first+e.size-1?D(n.line+1,0):null:new D(n.line,n.ch+a)}function Is(e){e.setSelection(D(e.firstLine(),0),D(e.lastLine()),ne)}function ks(e,n,a){var o={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return o.canceled=!0}};return a&&(o.update=function(c,u,d,p){c&&(o.from=R(e,c)),u&&(o.to=R(e,u)),d&&(o.text=d),void 0!==p&&(o.origin=p)}),Ae(e,"beforeChange",e,o),e.cm&&Ae(e.cm,"beforeChange",e.cm,o),o.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function Ti(e,n,a){if(e.cm){if(!e.cm.curOp)return st(e.cm,Ti)(e,n,a);if(e.cm.state.suppressEdits)return}if(!(dt(e,"beforeChange")||e.cm&&dt(e.cm,"beforeChange"))||(n=ks(e,n,!0))){var o=ua&&!a&&function(e,n,a){var o=null;if(e.iter(n.line,a.line+1,function(b){if(b.markedSpans)for(var N=0;N<b.markedSpans.length;++N){var k=b.markedSpans[N].marker;k.readOnly&&(!o||-1==Ye(o,k))&&(o||(o=[])).push(k)}}),!o)return null;for(var c=[{from:n,to:a}],u=0;u<o.length;++u)for(var d=o[u],p=d.find(0),g=0;g<c.length;++g){var m=c[g];if(!(oe(m.to,p.from)<0||oe(m.from,p.to)>0)){var y=[g,1],C=oe(m.from,p.from),w=oe(m.to,p.to);(C<0||!d.inclusiveLeft&&!C)&&y.push({from:m.from,to:p.from}),(w>0||!d.inclusiveRight&&!w)&&y.push({from:p.to,to:m.to}),c.splice.apply(c,y),g+=y.length-3}}return c}(e,n.from,n.to);if(o)for(var c=o.length-1;c>=0;--c)Ds(e,{from:o[c].from,to:o[c].to,text:c?[""]:n.text,origin:n.origin});else Ds(e,n)}}function Ds(e,n){if(1!=n.text.length||""!=n.text[0]||0!=oe(n.from,n.to)){var a=Ar(e,n);xs(e,n,a,e.cm?e.cm.curOp.id:NaN),rr(e,n,a,eo(e,n));var o=[];Qn(e,function(c,u){!u&&-1==Ye(o,c.history)&&(Fs(c.history,n),o.push(c.history)),rr(c,n,null,eo(c,n))})}}function Rr(e,n,a){var o=e.cm&&e.cm.state.suppressEdits;if(!o||a){for(var u,c=e.history,d=e.sel,p="undo"==n?c.done:c.undone,g="undo"==n?c.undone:c.done,m=0;m<p.length&&(u=p[m],!(a?u.ranges&&!u.equals(e.sel):!u.ranges));m++);if(m!=p.length){for(c.lastOrigin=c.lastSelOrigin=null;;){if(!(u=p.pop()).ranges){if(o)return void p.push(u);break}if(Fr(u,g),a&&!u.equals(e.sel))return void de(e,u,{clearRedo:!1});d=u}var y=[];Fr(d,g),g.push({changes:y,generation:c.generation}),c.generation=u.generation||++c.maxGeneration;for(var C=dt(e,"beforeChange")||e.cm&&dt(e.cm,"beforeChange"),w=function(k){var P=u.changes[k];if(P.origin=n,C&&!ks(e,P,!1))return p.length=0,{};y.push(So(e,P));var H=k?Ar(e,P):ge(p);rr(e,P,H,re(e,P)),!k&&e.cm&&e.cm.scrollIntoView({from:P.from,to:On(P)});var W=[];Qn(e,function(Y,G){!G&&-1==Ye(W,Y.history)&&(Fs(Y.history,P),W.push(Y.history)),rr(Y,P,null,re(Y,P))})},b=u.changes.length-1;b>=0;--b){var N=w(b);if(N)return N.v}}}}function As(e,n){if(0!=n&&(e.first+=n,e.sel=new Bt(jn(e.sel.ranges,function(c){return new Se(D(c.anchor.line+n,c.anchor.ch),D(c.head.line+n,c.head.ch))}),e.sel.primIndex),e.cm)){gt(e.cm,e.first,e.first-n,n);for(var a=e.cm.display,o=a.viewFrom;o<a.viewTo;o++)mn(e.cm,o,"gutter")}}function rr(e,n,a,o){if(e.cm&&!e.cm.curOp)return st(e.cm,rr)(e,n,a,o);if(n.to.line<e.first)As(e,n.text.length-1-(n.to.line-n.from.line));else if(!(n.from.line>e.lastLine())){if(n.from.line<e.first){var c=n.text.length-1-(e.first-n.from.line);As(e,c),n={from:D(e.first,0),to:D(n.to.line+c,n.to.ch),text:[ge(n.text)],origin:n.origin}}var u=e.lastLine();n.to.line>u&&(n={from:n.from,to:D(u,J(e,u).text.length),text:[n.text[0]],origin:n.origin}),n.removed=bn(e,n.from,n.to),a||(a=Ar(e,n)),e.cm?function(e,n,a){var o=e.doc,c=e.display,u=n.from,d=n.to,p=!1,g=u.line;e.options.lineWrapping||(g=ye(pn(J(o,u.line))),o.iter(g,d.line+1,function(b){if(b==c.maxLine)return p=!0,!0})),o.sel.contains(n.from,n.to)>-1&&be(e),bo(o,n,a,ho(e)),e.options.lineWrapping||(o.iter(g,u.line+n.text.length,function(b){var N=ro(b);N>c.maxLineLength&&(c.maxLine=b,c.maxLineLength=N,c.maxLineChanged=!0,p=!1)}),p&&(e.curOp.updateMaxLine=!0)),function(e,n){if(e.modeFrontier=Math.min(e.modeFrontier,n),!(e.highlightFrontier<n-10)){for(var a=e.first,o=n-1;o>a;o--){var c=J(e,o).stateAfter;if(c&&(!(c instanceof Ve)||o+c.lookAhead<n)){a=o+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,a)}}(o,u.line),wi(e,400);var m=n.text.length-(d.line-u.line)-1;n.full?gt(e):u.line!=d.line||1!=n.text.length||zs(e.doc,n)?gt(e,u.line,d.line+1,m):mn(e,u.line,"text");var y=dt(e,"changes"),C=dt(e,"change");if(C||y){var w={from:u,to:d,text:n.text,removed:n.removed,origin:n.origin};C&&ot(e,"change",e,w),y&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(w)}e.display.selForContextMenu=null}(e.cm,n,o):bo(e,n,o),nr(e,a,ne),e.cantEdit&&ir(e,D(e.firstLine(),0))&&(e.cantEdit=!1)}}function Oi(e,n,a,o,c){var u;o||(o=a),oe(o,a)<0&&(a=(u=[o,a])[0],o=u[1]),"string"==typeof n&&(n=e.splitLines(n)),Ti(e,{from:a,to:o,text:n,origin:c})}function Es(e,n,a,o){a<e.line?e.line+=o:n<e.line&&(e.line=n,e.ch=0)}function Ls(e,n,a,o){for(var c=0;c<e.length;++c){var u=e[c],d=!0;if(u.ranges){u.copied||((u=e[c]=u.deepCopy()).copied=!0);for(var p=0;p<u.ranges.length;p++)Es(u.ranges[p].anchor,n,a,o),Es(u.ranges[p].head,n,a,o)}else{for(var g=0;g<u.changes.length;++g){var m=u.changes[g];if(a<m.from.line)m.from=D(m.from.line+o,m.from.ch),m.to=D(m.to.line+o,m.to.ch);else if(n<=m.to.line){d=!1;break}}d||(e.splice(0,c+1),c=0)}}}function Fs(e,n){var a=n.from.line,o=n.to.line,c=n.text.length-(o-a)-1;Ls(e.done,a,o,c),Ls(e.undone,a,o,c)}function or(e,n,a,o){var c=n,u=n;return"number"==typeof n?u=J(e,F(e,n)):c=ye(n),null==c?null:(o(u,c)&&e.cm&&mn(e.cm,c,a),u)}function sr(e){this.lines=e,this.parent=null;for(var n=0,a=0;a<e.length;++a)e[a].parent=this,n+=e[a].height;this.height=n}function ar(e){this.children=e;for(var n=0,a=0,o=0;o<e.length;++o){var c=e[o];n+=c.chunkSize(),a+=c.height,c.parent=this}this.size=n,this.height=a,this.parent=null}Se.prototype.from=function(){return I(this.anchor,this.head)},Se.prototype.to=function(){return z(this.anchor,this.head)},Se.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},sr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,n){for(var a=e,o=e+n;a<o;++a){var c=this.lines[a];this.height-=c.height,Ql(c),ot(c,"delete")}this.lines.splice(e,n)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,n,a){this.height+=a,this.lines=this.lines.slice(0,e).concat(n).concat(this.lines.slice(e));for(var o=0;o<n.length;++o)n[o].parent=this},iterN:function(e,n,a){for(var o=e+n;e<o;++e)if(a(this.lines[e]))return!0}},ar.prototype={chunkSize:function(){return this.size},removeInner:function(e,n){this.size-=n;for(var a=0;a<this.children.length;++a){var o=this.children[a],c=o.chunkSize();if(e<c){var u=Math.min(n,c-e),d=o.height;if(o.removeInner(e,u),this.height-=d-o.height,c==u&&(this.children.splice(a--,1),o.parent=null),0==(n-=u))break;e=0}else e-=c}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof sr))){var p=[];this.collapse(p),this.children=[new sr(p)],this.children[0].parent=this}},collapse:function(e){for(var n=0;n<this.children.length;++n)this.children[n].collapse(e)},insertInner:function(e,n,a){this.size+=n.length,this.height+=a;for(var o=0;o<this.children.length;++o){var c=this.children[o],u=c.chunkSize();if(e<=u){if(c.insertInner(e,n,a),c.lines&&c.lines.length>50){for(var d=c.lines.length%25+25,p=d;p<c.lines.length;){var g=new sr(c.lines.slice(p,p+=25));c.height-=g.height,this.children.splice(++o,0,g),g.parent=this}c.lines=c.lines.slice(0,d),this.maybeSpill()}break}e-=u}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var a=new ar(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=a.size,e.height-=a.height;var c=Ye(e.parent.children,e);e.parent.children.splice(c+1,0,a)}else{var o=new ar(e.children);o.parent=e,e.children=[o,a],e=o}a.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,n,a){for(var o=0;o<this.children.length;++o){var c=this.children[o],u=c.chunkSize();if(e<u){var d=Math.min(n,u-e);if(c.iterN(e,d,a))return!0;if(0==(n-=d))break;e=0}else e-=u}}};var lr=function(e,n,a){if(a)for(var o in a)a.hasOwnProperty(o)&&(this[o]=a[o]);this.doc=e,this.node=n};function Ps(e,n,a){Bn(n)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&kr(e,a)}lr.prototype.clear=function(){var e=this.doc.cm,n=this.line.widgets,a=this.line,o=ye(a);if(null!=o&&n){for(var c=0;c<n.length;++c)n[c]==this&&n.splice(c--,1);n.length||(a.widgets=null);var u=Or(this);Dt(a,Math.max(0,a.height-u)),e&&(mt(e,function(){Ps(e,a,-u),mn(e,o,"widget")}),ot(e,"lineWidgetCleared",e,this,o))}},lr.prototype.changed=function(){var e=this,n=this.height,a=this.doc.cm,o=this.line;this.height=null;var c=Or(this)-n;!c||(ri(this.doc,o)||Dt(o,o.height+c),a&&mt(a,function(){a.curOp.forceUpdate=!0,Ps(a,o,c),ot(a,"lineWidgetChanged",a,e,ye(o))}))},hn(lr);var Rs=0,Un=function(e,n){this.lines=[],this.type=n,this.doc=e,this.id=++Rs};function Mi(e,n,a,o,c){if(o&&o.shared)return function(e,n,a,o,c){(o=Lt(o)).shared=!1;var u=[Mi(e,n,a,o,c)],d=u[0],p=o.widgetNode;return Qn(e,function(g){p&&(o.widgetNode=p.cloneNode(!0)),u.push(Mi(g,R(g,n),R(g,a),o,c));for(var m=0;m<g.linked.length;++m)if(g.linked[m].isParent)return;d=ge(u)}),new cr(u,d)}(e,n,a,o,c);if(e.cm&&!e.cm.curOp)return st(e.cm,Mi)(e,n,a,o,c);var u=new Un(e,c),d=oe(n,a);if(o&&Lt(o,u,!1),d>0||0==d&&!1!==u.clearWhenEmpty)return u;if(u.replacedWith&&(u.collapsed=!0,u.widgetNode=O("span",[u.replacedWith],"CodeMirror-widget"),o.handleMouseEvents||u.widgetNode.setAttribute("cm-ignore-events","true"),o.insertLeft&&(u.widgetNode.insertLeft=!0)),u.collapsed){if(_a(e,n.line,n,a,u)||n.line!=a.line&&_a(e,a.line,n,a,u))throw new Error("Inserting collapsed marker partially overlapping an existing one");Kt=!0}u.addToHistory&&xs(e,{from:n,to:a,origin:"markText"},e.sel,NaN);var m,p=n.line,g=e.cm;if(e.iter(p,a.line+1,function(C){g&&u.collapsed&&!g.options.lineWrapping&&pn(C)==g.display.maxLine&&(m=!0),u.collapsed&&p!=n.line&&Dt(C,0),function(e,n,a){var o=a&&window.WeakSet&&(a.markedSpans||(a.markedSpans=new WeakSet));o&&o.has(e.markedSpans)?e.markedSpans.push(n):(e.markedSpans=e.markedSpans?e.markedSpans.concat([n]):[n],o&&o.add(e.markedSpans)),n.marker.attachLine(e)}(C,new Kr(u,p==n.line?n.ch:null,p==a.line?a.ch:null),e.cm&&e.cm.curOp),++p}),u.collapsed&&e.iter(n.line,a.line+1,function(C){ri(e,C)&&Dt(C,0)}),u.clearOnEnter&&te(u,"beforeCursorEnter",function(){return u.clear()}),u.readOnly&&(ua=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),u.collapsed&&(u.id=++Rs,u.atomic=!0),g){if(m&&(g.curOp.updateMaxLine=!0),u.collapsed)gt(g,n.line,a.line+1);else if(u.className||u.startStyle||u.endStyle||u.css||u.attributes||u.title)for(var y=n.line;y<=a.line;y++)mn(g,y,"text");u.atomic&&Ka(g.doc),ot(g,"markerAdded",g,u)}return u}Un.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,n=e&&!e.curOp;if(n&&Vn(e),dt(this,"clear")){var a=this.find();a&&ot(this,"clear",a.from,a.to)}for(var o=null,c=null,u=0;u<this.lines.length;++u){var d=this.lines[u],p=wr(d.markedSpans,this);e&&!this.collapsed?mn(e,ye(d),"text"):e&&(null!=p.to&&(c=ye(d)),null!=p.from&&(o=ye(d))),d.markedSpans=Pl(d.markedSpans,p),null==p.from&&this.collapsed&&!ri(this.doc,d)&&e&&Dt(d,Gi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var g=0;g<this.lines.length;++g){var m=pn(this.lines[g]),y=ro(m);y>e.display.maxLineLength&&(e.display.maxLine=m,e.display.maxLineLength=y,e.display.maxLineChanged=!0)}null!=o&&e&&this.collapsed&&gt(e,o,c+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ka(e.doc)),e&&ot(e,"markerCleared",e,this,o,c),n&&Gt(e),this.parent&&this.parent.clear()}},Un.prototype.find=function(e,n){null==e&&"bookmark"==this.type&&(e=1);for(var a,o,c=0;c<this.lines.length;++c){var u=this.lines[c],d=wr(u.markedSpans,this);if(null!=d.from&&(a=D(n?u:ye(u),d.from),-1==e))return a;if(null!=d.to&&(o=D(n?u:ye(u),d.to),1==e))return o}return a&&{from:a,to:o}},Un.prototype.changed=function(){var e=this,n=this.find(-1,!0),a=this,o=this.doc.cm;!n||!o||mt(o,function(){var c=n.line,u=ye(n.line),d=os(o,u);if(d&&(Aa(d),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,!ri(a.doc,c)&&null!=a.height){var p=a.height;a.height=null;var g=Or(a)-p;g&&Dt(c,c.height+g)}ot(o,"markerChanged",o,e)})},Un.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(!n.maybeHiddenMarkers||-1==Ye(n.maybeHiddenMarkers,this))&&(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Un.prototype.detachLine=function(e){if(this.lines.splice(Ye(this.lines,e),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},hn(Un);var cr=function(e,n){this.markers=e,this.primary=n;for(var a=0;a<e.length;++a)e[a].parent=this};function Bs(e){return e.findMarks(D(e.first,0),e.clipPos(D(e.lastLine())),function(n){return n.parent})}function ol(e){for(var n=function(o){var c=e[o],u=[c.primary.doc];Qn(c.primary.doc,function(g){return u.push(g)});for(var d=0;d<c.markers.length;d++){var p=c.markers[d];-1==Ye(u,p.doc)&&(p.parent=null,c.markers.splice(d--,1))}},a=0;a<e.length;a++)n(a)}cr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ot(this,"clear")}},cr.prototype.find=function(e,n){return this.primary.find(e,n)},hn(cr);var ui=0,Be=function(e,n,a,o,c){if(!(this instanceof Be))return new Be(e,n,a,o,c);null==a&&(a=0),ar.call(this,[new sr([new Yi("",null)])]),this.first=a,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=a;var u=D(a,0);this.sel=Gn(u),this.history=new Er(null),this.id=++ui,this.modeOption=n,this.lineSep=o,this.direction="rtl"==c?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),bo(this,{from:u,to:u,text:e}),de(this,Gn(u),ne)};Be.prototype=ln(ar.prototype,{constructor:Be,iter:function(e,n,a){a?this.iterN(e-this.first,n-e,a):this.iterN(this.first,this.first+this.size,e)},insert:function(e,n){for(var a=0,o=0;o<n.length;++o)a+=n[o].height;this.insertInner(e-this.first,n,a)},remove:function(e,n){this.removeInner(e-this.first,n)},getValue:function(e){var n=Rn(this,this.first,this.first+this.size);return!1===e?n:n.join(e||this.lineSeparator())},setValue:rt(function(e){var n=D(this.first,0),a=this.first+this.size-1;Ti(this,{from:n,to:D(a,J(this,a).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ji(this.cm,0,0),de(this,Gn(n),ne)}),replaceRange:function(e,n,a,o){Oi(this,e,n=R(this,n),a=a?R(this,a):n,o)},getRange:function(e,n,a){var o=bn(this,R(this,e),R(this,n));return!1===a?o:o.join(""===a?"":a||this.lineSeparator())},getLine:function(e){var n=this.getLineHandle(e);return n&&n.text},getLineHandle:function(e){if(ii(this,e))return J(this,e)},getLineNumber:function(e){return ye(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=J(this,e)),pn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return R(this,e)},getCursor:function(e){var n=this.sel.primary();return null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:rt(function(e,n,a){xo(this,R(this,"number"==typeof e?D(e,n||0):e),null,a)}),setSelection:rt(function(e,n,a){xo(this,R(this,e),R(this,n||e),a)}),extendSelection:rt(function(e,n,a){tr(this,R(this,e),n&&R(this,n),a)}),extendSelections:rt(function(e,n){Ns(this,Ce(this,e),n)}),extendSelectionsBy:rt(function(e,n){Ns(this,Ce(this,jn(this.sel.ranges,e)),n)}),setSelections:rt(function(e,n,a){if(e.length){for(var o=[],c=0;c<e.length;c++)o[c]=new Se(R(this,e[c].anchor),R(this,e[c].head||e[c].anchor));null==n&&(n=Math.min(e.length-1,this.sel.primIndex)),de(this,tn(this.cm,o,n),a)}}),addSelection:rt(function(e,n,a){var o=this.sel.ranges.slice(0);o.push(new Se(R(this,e),R(this,n||e))),de(this,tn(this.cm,o,o.length-1),a)}),getSelection:function(e){for(var a,n=this.sel.ranges,o=0;o<n.length;o++){var c=bn(this,n[o].from(),n[o].to());a=a?a.concat(c):c}return!1===e?a:a.join(e||this.lineSeparator())},getSelections:function(e){for(var n=[],a=this.sel.ranges,o=0;o<a.length;o++){var c=bn(this,a[o].from(),a[o].to());!1!==e&&(c=c.join(e||this.lineSeparator())),n[o]=c}return n},replaceSelection:function(e,n,a){for(var o=[],c=0;c<this.sel.ranges.length;c++)o[c]=e;this.replaceSelections(o,n,a||"+input")},replaceSelections:rt(function(e,n,a){for(var o=[],c=this.sel,u=0;u<c.ranges.length;u++){var d=c.ranges[u];o[u]={from:d.from(),to:d.to(),text:this.splitLines(e[u]),origin:a}}for(var p=n&&"end"!=n&&function(e,n,a){for(var o=[],c=D(e.first,0),u=c,d=0;d<n.length;d++){var p=n[d],g=ja(p.from,c,u),m=ja(On(p),c,u);if(c=p.to,u=m,"around"==a){var y=e.sel.ranges[d],C=oe(y.head,y.anchor)<0;o[d]=new Se(C?m:g,C?g:m)}else o[d]=new Se(g,g)}return new Bt(o,e.sel.primIndex)}(this,o,n),g=o.length-1;g>=0;g--)Ti(this,o[g]);p?Pr(this,p):this.cm&&bi(this.cm)}),undo:rt(function(){Rr(this,"undo")}),redo:rt(function(){Rr(this,"redo")}),undoSelection:rt(function(){Rr(this,"undo",!0)}),redoSelection:rt(function(){Rr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,n=0,a=0,o=0;o<e.done.length;o++)e.done[o].ranges||++n;for(var c=0;c<e.undone.length;c++)e.undone[c].ranges||++a;return{undo:n,redo:a}},clearHistory:function(){var e=this;this.history=new Er(this.history),Qn(this,function(n){return n.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vt(this.history.done),undone:vt(this.history.undone)}},setHistory:function(e){var n=this.history=new Er(this.history);n.done=vt(e.done.slice(0),null,!0),n.undone=vt(e.undone.slice(0),null,!0)},setGutterMarker:rt(function(e,n,a){return or(this,e,"gutter",function(o){var c=o.gutterMarkers||(o.gutterMarkers={});return c[n]=a,!a&&Ei(c)&&(o.gutterMarkers=null),!0})}),clearGutter:rt(function(e){var n=this;this.iter(function(a){a.gutterMarkers&&a.gutterMarkers[e]&&or(n,a,"gutter",function(){return a.gutterMarkers[e]=null,Ei(a.gutterMarkers)&&(a.gutterMarkers=null),!0})})}),lineInfo:function(e){var n;if("number"==typeof e){if(!(ii(this,e)&&(n=e,e=J(this,e))))return null}else if(null==(n=ye(e)))return null;return{line:n,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:rt(function(e,n,a){return or(this,e,"gutter"==n?"gutter":"class",function(o){var c="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(o[c]){if(Jt(a).test(o[c]))return!1;o[c]+=" "+a}else o[c]=a;return!0})}),removeLineClass:rt(function(e,n,a){return or(this,e,"gutter"==n?"gutter":"class",function(o){var c="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",u=o[c];if(!u)return!1;if(null==a)o[c]=null;else{var d=u.match(Jt(a));if(!d)return!1;var p=d.index+d[0].length;o[c]=u.slice(0,d.index)+(d.index&&p!=u.length?" ":"")+u.slice(p)||null}return!0})}),addLineWidget:rt(function(e,n,a){return function(e,n,a,o){var c=new lr(e,a,o),u=e.cm;return u&&c.noHScroll&&(u.display.alignWidgets=!0),or(e,n,"widget",function(d){var p=d.widgets||(d.widgets=[]);if(null==c.insertAt?p.push(c):p.splice(Math.min(p.length,Math.max(0,c.insertAt)),0,c),c.line=d,u&&!ri(e,d)){var g=Bn(d)<e.scrollTop;Dt(d,d.height+Or(c)),g&&kr(u,c.height),u.curOp.forceUpdate=!0}return!0}),u&&ot(u,"lineWidgetAdded",u,c,"number"==typeof n?n:ye(n)),c}(this,e,n,a)}),removeLineWidget:function(e){e.clear()},markText:function(e,n,a){return Mi(this,R(this,e),R(this,n),a,a&&a.type||"range")},setBookmark:function(e,n){var a={replacedWith:n&&(null==n.nodeType?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return Mi(this,e=R(this,e),e,a,"bookmark")},findMarksAt:function(e){var n=[],a=J(this,(e=R(this,e)).line).markedSpans;if(a)for(var o=0;o<a.length;++o){var c=a[o];(null==c.from||c.from<=e.ch)&&(null==c.to||c.to>=e.ch)&&n.push(c.marker.parent||c.marker)}return n},findMarks:function(e,n,a){e=R(this,e),n=R(this,n);var o=[],c=e.line;return this.iter(e.line,n.line+1,function(u){var d=u.markedSpans;if(d)for(var p=0;p<d.length;p++){var g=d[p];!(null!=g.to&&c==e.line&&e.ch>=g.to||null==g.from&&c!=e.line||null!=g.from&&c==n.line&&g.from>=n.ch)&&(!a||a(g.marker))&&o.push(g.marker.parent||g.marker)}++c}),o},getAllMarks:function(){var e=[];return this.iter(function(n){var a=n.markedSpans;if(a)for(var o=0;o<a.length;++o)null!=a[o].from&&e.push(a[o].marker)}),e},posFromIndex:function(e){var n,a=this.first,o=this.lineSeparator().length;return this.iter(function(c){var u=c.text.length+o;if(u>e)return n=e,!0;e-=u,++a}),R(this,D(a,n))},indexFromPos:function(e){var n=(e=R(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var a=this.lineSeparator().length;return this.iter(this.first,e.line,function(o){n+=o.text.length+a}),n},copy:function(e){var n=new Be(Rn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,e&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(e){e||(e={});var n=this.first,a=this.first+this.size;null!=e.from&&e.from>n&&(n=e.from),null!=e.to&&e.to<a&&(a=e.to);var o=new Be(Rn(this,n,a),e.mode||this.modeOption,n,this.lineSep,this.direction);return e.sharedHist&&(o.history=this.history),(this.linked||(this.linked=[])).push({doc:o,sharedHist:e.sharedHist}),o.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,n){for(var a=0;a<n.length;a++){var o=n[a],c=o.find(),u=e.clipPos(c.from),d=e.clipPos(c.to);if(oe(u,d)){var p=Mi(e,u,d,o.primary,o.primary.type);o.markers.push(p),p.parent=o}}}(o,Bs(this)),o},unlinkDoc:function(e){if(e instanceof De&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n)if(this.linked[n].doc==e){this.linked.splice(n,1),e.unlinkDoc(this),ol(Bs(this));break}if(e.history==this.history){var o=[e.id];Qn(e,function(c){return o.push(c.id)},!0),e.history=new Er(null),e.history.done=vt(this.history.done,o),e.history.undone=vt(this.history.undone,o)}},iterLinkedDocs:function(e){Qn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ri(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:rt(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(n){return n.order=null}),this.cm&&function(e){mt(e,function(){Ss(e),gt(e)})}(this.cm))})}),Be.prototype.eachLine=Be.prototype.iter;var Oo=0;function Mo(e){var n=this;if(Ys(n),!Ue(n,e)&&!Hn(n.display,e)){Je(e),ae&&(Oo=+new Date);var a=Ci(n,e,!0),o=e.dataTransfer.files;if(a&&!n.isReadOnly())if(o&&o.length&&window.FileReader&&window.File)for(var c=o.length,u=Array(c),d=0,p=function(){++d==c&&st(n,function(){var b={from:a=R(n.doc,a),to:a,text:n.doc.splitLines(u.filter(function(N){return null!=N}).join(n.doc.lineSeparator())),origin:"paste"};Ti(n.doc,b),Pr(n.doc,Gn(R(n.doc,a),R(n.doc,On(b))))})()},g=function(b,N){if(n.options.allowDropFileTypes&&-1==Ye(n.options.allowDropFileTypes,b.type))p();else{var k=new FileReader;k.onerror=function(){return p()},k.onload=function(){var P=k.result;/[\x00-\x08\x0e-\x1f]{2}/.test(P)||(u[N]=P),p()},k.readAsText(b)}},m=0;m<o.length;m++)g(o[m],m);else{if(n.state.draggingText&&n.doc.sel.contains(a)>-1)return n.state.draggingText(e),void setTimeout(function(){return n.display.input.focus()},20);try{var y=e.dataTransfer.getData("Text");if(y){var C;if(n.state.draggingText&&!n.state.draggingText.copy&&(C=n.listSelections()),nr(n.doc,Gn(a,a)),C)for(var w=0;w<C.length;++w)Oi(n.doc,"",C[w].anchor,C[w].head,"drag");n.replaceSelection(y,"around","paste"),n.display.input.focus()}}catch(b){}}}}function Ys(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ws(e){if(document.getElementsByClassName){for(var n=document.getElementsByClassName("CodeMirror"),a=[],o=0;o<n.length;o++){var c=n[o].CodeMirror;c&&a.push(c)}a.length&&a[0].operation(function(){for(var u=0;u<a.length;u++)e(a[u])})}}var Vs=!1;function sl(){Vs||(function(){var e;te(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ws(ll)},100))}),te(window,"blur",function(){return Ws(zi)})}(),Vs=!0)}function ll(e){var n=e.display;n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,e.setSize()}for(var hi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Br=0;Br<10;Br++)hi[Br+48]=hi[Br+96]=String(Br);for(var Hr=65;Hr<=90;Hr++)hi[Hr]=String.fromCharCode(Hr);for(var ur=1;ur<=12;ur++)hi[ur+111]=hi[ur+63235]="F"+ur;var Mn={};function Gs(e){var n=e.split(/-(?!$)/);e=n[n.length-1];for(var a,o,c,u,d=0;d<n.length-1;d++){var p=n[d];if(/^(cmd|meta|m)$/i.test(p))u=!0;else if(/^a(lt)?$/i.test(p))a=!0;else if(/^(c|ctrl|control)$/i.test(p))o=!0;else{if(!/^s(hift)?$/i.test(p))throw new Error("Unrecognized modifier name: "+p);c=!0}}return a&&(e="Alt-"+e),o&&(e="Ctrl-"+e),u&&(e="Cmd-"+e),c&&(e="Shift-"+e),e}function Cn(e){var n={};for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];if(/^(name|fallthrough|(de|at)tach)$/.test(a))continue;if("..."==o){delete e[a];continue}for(var c=jn(a.split(" "),Gs),u=0;u<c.length;u++){var d=void 0,p=void 0;u==c.length-1?(p=c.join(" "),d=o):(p=c.slice(0,u+1).join(" "),d="...");var g=n[p];if(g){if(g!=d)throw new Error("Inconsistent bindings for "+p)}else n[p]=d}delete e[a]}for(var m in n)e[m]=n[m];return e}function Ni(e,n,a,o){var c=(n=Yr(n)).call?n.call(e,o):n[e];if(!1===c)return"nothing";if("..."===c)return"multi";if(null!=c&&a(c))return"handled";if(n.fallthrough){if("[object Array]"!=Object.prototype.toString.call(n.fallthrough))return Ni(e,n.fallthrough,a,o);for(var u=0;u<n.fallthrough.length;u++){var d=Ni(e,n.fallthrough[u],a,o);if(d)return d}}}function Qs(e){var n="string"==typeof e?e:hi[e.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function Io(e,n,a){var o=e;return n.altKey&&"Alt"!=o&&(e="Alt-"+e),(sn?n.metaKey:n.ctrlKey)&&"Ctrl"!=o&&(e="Ctrl-"+e),(sn?n.ctrlKey:n.metaKey)&&"Mod"!=o&&(e="Cmd-"+e),!a&&n.shiftKey&&"Shift"!=o&&(e="Shift-"+e),e}function Zs(e,n){if(he&&34==e.keyCode&&e.char)return!1;var a=hi[e.keyCode];return null!=a&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(a=e.code),Io(a,e,n))}function Yr(e){return"string"==typeof e?Mn[e]:e}function Ii(e,n){for(var a=e.doc.sel.ranges,o=[],c=0;c<a.length;c++){for(var u=n(a[c]);o.length&&oe(u.from,ge(o).to)<=0;){var d=o.pop();if(oe(d.from,u.from)<0){u.from=d.from;break}}o.push(u)}mt(e,function(){for(var p=o.length-1;p>=0;p--)Oi(e.doc,"",o[p].from,o[p].to,"+delete");bi(e)})}function ko(e,n,a){var o=gi(e.text,n+a,a);return o<0||o>e.text.length?null:o}function Do(e,n,a){var o=ko(e,n.ch,a);return null==o?null:new D(n.line,o,a<0?"after":"before")}function Ao(e,n,a,o,c){if(e){"rtl"==n.doc.direction&&(c=-c);var u=Te(a,n.doc.direction);if(u){var m,d=c<0?ge(u):u[0],g=c<0==(1==d.level)?"after":"before";if(d.level>0||"rtl"==n.doc.direction){var y=Vi(n,a),C=wn(n,y,m=c<0?a.text.length-1:0).top;m=Xn(function(w){return wn(n,y,w).top==C},c<0==(1==d.level)?d.from:d.to-1,m),"before"==g&&(m=ko(a,m,1))}else m=c<0?d.to:d.from;return new D(o,m,g)}}return new D(o,c<0?a.text.length:0,c<0?"before":"after")}Mn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Mn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Mn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Mn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Mn.default=_e?Mn.macDefault:Mn.pcDefault;var hr={selectAll:Is,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ne)},killLine:function(e){return Ii(e,function(n){if(n.empty()){var a=J(e.doc,n.head.line).text.length;return n.head.ch==a&&n.head.line<e.lastLine()?{from:n.head,to:D(n.head.line+1,0)}:{from:n.head,to:D(n.head.line,a)}}return{from:n.from(),to:n.to()}})},deleteLine:function(e){return Ii(e,function(n){return{from:D(n.from().line,0),to:R(e.doc,D(n.to().line+1,0))}})},delLineLeft:function(e){return Ii(e,function(n){return{from:D(n.from().line,0),to:n.from()}})},delWrappedLineLeft:function(e){return Ii(e,function(n){var a=e.charCoords(n.head,"div").top+5;return{from:e.coordsChar({left:0,top:a},"div"),to:n.from()}})},delWrappedLineRight:function(e){return Ii(e,function(n){var a=e.charCoords(n.head,"div").top+5,o=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:a},"div");return{from:n.from(),to:o}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(D(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(D(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(n){return Us(e,n.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(n){return Js(e,n.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(n){return function(e,n){var a=J(e.doc,n),o=function(e){for(var n;n=io(e);)e=n.find(1,!0).line;return e}(a);return o!=a&&(n=ye(o)),Ao(!0,e,a,n,-1)}(e,n.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(n){var a=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:a},"div")},Me)},goLineLeft:function(e){return e.extendSelectionsBy(function(n){var a=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:0,top:a},"div")},Me)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(n){var a=e.cursorCoords(n.head,"div").top+5,o=e.coordsChar({left:0,top:a},"div");return o.ch<e.getLine(o.line).search(/\S/)?Js(e,n.head):o},Me)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var n=[],a=e.listSelections(),o=e.options.tabSize,c=0;c<a.length;c++){var u=a[c].from(),d=xt(e.getLine(u.line),u.ch,o);n.push(ft(o-d%o))}e.replaceSelections(n)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return mt(e,function(){for(var n=e.listSelections(),a=[],o=0;o<n.length;o++)if(n[o].empty()){var c=n[o].head,u=J(e.doc,c.line).text;if(u)if(c.ch==u.length&&(c=new D(c.line,c.ch-1)),c.ch>0)c=new D(c.line,c.ch+1),e.replaceRange(u.charAt(c.ch-1)+u.charAt(c.ch-2),D(c.line,c.ch-2),c,"+transpose");else if(c.line>e.doc.first){var d=J(e.doc,c.line-1).text;d&&(c=new D(c.line,1),e.replaceRange(u.charAt(0)+e.doc.lineSeparator()+d.charAt(d.length-1),D(c.line-1,d.length-1),c,"+transpose"))}a.push(new Se(c,c))}e.setSelections(a)})},newlineAndIndent:function(e){return mt(e,function(){for(var n=e.listSelections(),a=n.length-1;a>=0;a--)e.replaceRange(e.doc.lineSeparator(),n[a].anchor,n[a].head,"+input");n=e.listSelections();for(var o=0;o<n.length;o++)e.indentLine(n[o].from().line,null,!0);bi(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Us(e,n){var a=J(e.doc,n),o=pn(a);return o!=a&&(n=ye(o)),Ao(!0,e,o,n,1)}function Js(e,n){var a=Us(e,n.line),o=J(e.doc,a.line),c=Te(o,e.doc.direction);if(!c||0==c[0].level){var u=Math.max(a.ch,o.text.search(/\S/));return D(a.line,n.line==a.line&&n.ch<=u&&n.ch?0:u,a.sticky)}return a}function Wr(e,n,a){if("string"==typeof n&&!(n=hr[n]))return!1;e.display.input.ensurePolled();var o=e.display.shift,c=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),a&&(e.display.shift=!1),c=n(e)!=se}finally{e.display.shift=o,e.state.suppressEdits=!1}return c}var dl=new ke;function dr(e,n,a,o){var c=e.state.keySeq;if(c){if(Qs(n))return"handled";if(/\'$/.test(n)?e.state.keySeq=null:dl.set(50,function(){e.state.keySeq==c&&(e.state.keySeq=null,e.display.input.reset())}),js(e,c+" "+n,a,o))return!0}return js(e,n,a,o)}function js(e,n,a,o){var c=function(e,n,a){for(var o=0;o<e.state.keyMaps.length;o++){var c=Ni(n,e.state.keyMaps[o],a,e);if(c)return c}return e.options.extraKeys&&Ni(n,e.options.extraKeys,a,e)||Ni(n,e.options.keyMap,a,e)}(e,n,o);return"multi"==c&&(e.state.keySeq=n),"handled"==c&&ot(e,"keyHandled",e,n,a),("handled"==c||"multi"==c)&&(Je(a),Ir(e)),!!c}function qs(e,n){var a=Zs(n,!0);return!!a&&(n.shiftKey&&!e.state.keySeq?dr(e,"Shift-"+a,n,function(o){return Wr(e,o,!0)})||dr(e,a,n,function(o){if("string"==typeof o?/^go[A-Z]/.test(o):o.motion)return Wr(e,o)}):dr(e,a,n,function(o){return Wr(e,o)}))}var Eo=null;function $s(e){var n=this;if(!(e.target&&e.target!=n.display.input.getField()||(n.curOp.focus=Fe(),Ue(n,e)))){ae&&fe<11&&27==e.keyCode&&(e.returnValue=!1);var a=e.keyCode;n.display.shift=16==a||e.shiftKey;var o=qs(n,e);he&&(Eo=o?a:null,!o&&88==a&&!qr&&(_e?e.metaKey:e.ctrlKey)&&n.replaceSelection("",null,"cut")),M&&!_e&&!o&&46==a&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==a&&!/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)&&function(e){var n=e.display.lineDiv;function a(o){(18==o.keyCode||!o.altKey)&&(An(n,"CodeMirror-crosshair"),Ne(document,"keyup",a),Ne(document,"mouseover",a))}ht(n,"CodeMirror-crosshair"),te(document,"keyup",a),te(document,"mouseover",a)}(n)}}function Xs(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ue(this,e)}function Ks(e){var n=this;if(!(e.target&&e.target!=n.display.input.getField()||Hn(n.display,e)||Ue(n,e)||e.ctrlKey&&!e.altKey||_e&&e.metaKey)){var a=e.keyCode,o=e.charCode;if(he&&a==Eo)return Eo=null,void Je(e);if(!he||e.which&&!(e.which<10)||!qs(n,e)){var c=String.fromCharCode(null==o?a:o);"\b"!=c&&(function(e,n,a){return dr(e,"'"+a+"'",n,function(o){return Wr(e,o,!0)})}(n,e,c)||n.display.input.onKeyPress(e))}}}var ki,fr,Lo=function(e,n,a){this.time=e,this.pos=n,this.button=a};function ea(e){var n=this,a=n.display;if(!(Ue(n,e)||a.activeTouch&&a.input.supportsTouch())){if(a.input.ensurePolled(),a.shift=e.shiftKey,Hn(a,e))return void(ze||(a.scroller.draggable=!1,setTimeout(function(){return a.scroller.draggable=!0},100)));if(!Fo(n,e)){var o=Ci(n,e),c=Cr(e),u=o?function(e,n){var a=+new Date;return fr&&fr.compare(a,e,n)?(ki=fr=null,"triple"):ki&&ki.compare(a,e,n)?(fr=new Lo(a,e,n),ki=null,"double"):(ki=new Lo(a,e,n),fr=null,"single")}(o,c):"single";window.focus(),1==c&&n.state.selectingText&&n.state.selectingText(e),(!o||!function(e,n,a,o,c){var u="Click";return"double"==o?u="Double"+u:"triple"==o&&(u="Triple"+u),dr(e,Io(u=(1==n?"Left":2==n?"Middle":"Right")+u,c),c,function(d){if("string"==typeof d&&(d=hr[d]),!d)return!1;var p=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),p=d(e,a)!=se}finally{e.state.suppressEdits=!1}return p})}(n,c,o,u,e))&&(1==c?o?function(e,n,a,o){ae?setTimeout(Yt(us,e),0):e.curOp.focus=Fe();var d,c=function(e,n,a){var o=e.getOption("configureMouse"),c=o?o(e,n,a):{};return null==c.unit&&(c.unit=(Dn?a.shiftKey&&a.metaKey:a.altKey)?"rectangle":"single"==n?"char":"double"==n?"word":"line"),(null==c.extend||e.doc.extend)&&(c.extend=e.doc.extend||a.shiftKey),null==c.addNew&&(c.addNew=_e?a.metaKey:a.ctrlKey),null==c.moveOnDrag&&(c.moveOnDrag=!(_e?a.altKey:a.ctrlKey)),c}(e,a,o),u=e.doc.sel;e.options.dragDrop&&Pi&&!e.isReadOnly()&&"single"==a&&(d=u.contains(n))>-1&&(oe((d=u.ranges[d]).from(),n)<0||n.xRel>0)&&(oe(d.to(),n)>0||n.xRel<0)?function(e,n,a,o){var c=e.display,u=!1,d=st(e,function(m){ze&&(c.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:vo(e)),Ne(c.wrapper.ownerDocument,"mouseup",d),Ne(c.wrapper.ownerDocument,"mousemove",p),Ne(c.scroller,"dragstart",g),Ne(c.scroller,"drop",d),u||(Je(m),o.addNew||tr(e.doc,a,null,null,o.extend),ze&&!ve||ae&&9==fe?setTimeout(function(){c.wrapper.ownerDocument.body.focus({preventScroll:!0}),c.input.focus()},20):c.input.focus())}),p=function(m){u=u||Math.abs(n.clientX-m.clientX)+Math.abs(n.clientY-m.clientY)>=10},g=function(){return u=!0};ze&&(c.scroller.draggable=!0),e.state.draggingText=d,d.copy=!o.moveOnDrag,te(c.wrapper.ownerDocument,"mouseup",d),te(c.wrapper.ownerDocument,"mousemove",p),te(c.scroller,"dragstart",g),te(c.scroller,"drop",d),e.state.delayingBlurEvent=!0,setTimeout(function(){return c.input.focus()},20),c.scroller.dragDrop&&c.scroller.dragDrop()}(e,o,n,c):function(e,n,a,o){ae&&vo(e);var c=e.display,u=e.doc;Je(n);var d,p,g=u.sel,m=g.ranges;if(o.addNew&&!o.extend?(p=u.sel.contains(a),d=p>-1?m[p]:new Se(a,a)):(d=u.sel.primary(),p=u.sel.primIndex),"rectangle"==o.unit)o.addNew||(d=new Se(a,a)),a=Ci(e,n,!0,!0),p=-1;else{var y=Cl(e,a,o.unit);d=o.extend?ci(d,y.anchor,y.head,o.extend):y}o.addNew?-1==p?(p=m.length,de(u,tn(e,m.concat([d]),p),{scroll:!1,origin:"*mouse"})):m.length>1&&m[p].empty()&&"char"==o.unit&&!o.extend?(de(u,tn(e,m.slice(0,p).concat(m.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),g=u.sel):wo(u,p,d,pe):(p=0,de(u,new Bt([d],0),pe),g=u.sel);var C=a;function w(Y){if(0!=oe(C,Y))if(C=Y,"rectangle"==o.unit){for(var G=[],ie=e.options.tabSize,ee=xt(J(u,a.line).text,a.ch,ie),ce=xt(J(u,Y.line).text,Y.ch,ie),Oe=Math.min(ee,ce),Ke=Math.max(ee,ce),Ee=Math.min(a.line,Y.line),Mt=Math.min(e.lastLine(),Math.max(a.line,Y.line));Ee<=Mt;Ee++){var et=J(u,Ee).text,Qe=pi(et,Oe,ie);Oe==Ke?G.push(new Se(D(Ee,Qe),D(Ee,Qe))):et.length>Qe&&G.push(new Se(D(Ee,Qe),D(Ee,pi(et,Ke,ie))))}G.length||G.push(new Se(a,a)),de(u,tn(e,g.ranges.slice(0,p).concat(G),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(Y)}else{var $e,_t=d,ct=Cl(e,Y,o.unit),qe=_t.anchor;oe(ct.anchor,qe)>0?($e=ct.head,qe=I(_t.from(),ct.anchor)):($e=ct.anchor,qe=z(_t.to(),ct.head));var Ze=g.ranges.slice(0);Ze[p]=function(e,n){var a=n.anchor,o=n.head,c=J(e.doc,a.line);if(0==oe(a,o)&&a.sticky==o.sticky)return n;var u=Te(c);if(!u)return n;var d=Kn(u,a.ch,a.sticky),p=u[d];if(p.from!=a.ch&&p.to!=a.ch)return n;var m,g=d+(p.from==a.ch==(1!=p.level)?0:1);if(0==g||g==u.length)return n;if(o.line!=a.line)m=(o.line-a.line)*("ltr"==e.doc.direction?1:-1)>0;else{var y=Kn(u,o.ch,o.sticky),C=y-d||(o.ch-a.ch)*(1==p.level?-1:1);m=y==g-1||y==g?C<0:C>0}var w=u[g+(m?-1:0)],b=m==(1==w.level),N=b?w.from:w.to,k=b?"after":"before";return a.ch==N&&a.sticky==k?n:new Se(new D(a.line,N,k),o)}(e,new Se(R(u,qe),$e)),de(u,tn(e,Ze,p),pe)}}var b=c.wrapper.getBoundingClientRect(),N=0;function k(Y){var G=++N,ie=Ci(e,Y,!0,"rectangle"==o.unit);if(ie)if(0!=oe(ie,C)){e.curOp.focus=Fe(),w(ie);var ee=Ji(c,u);(ie.line>=ee.to||ie.line<ee.from)&&setTimeout(st(e,function(){N==G&&k(Y)}),150)}else{var ce=Y.clientY<b.top?-20:Y.clientY>b.bottom?20:0;ce&&setTimeout(st(e,function(){N==G&&(c.scroller.scrollTop+=ce,k(Y))}),50)}}function P(Y){e.state.selectingText=!1,N=1/0,Y&&(Je(Y),c.input.focus()),Ne(c.wrapper.ownerDocument,"mousemove",H),Ne(c.wrapper.ownerDocument,"mouseup",W),u.history.lastSelOrigin=null}var H=st(e,function(Y){0!==Y.buttons&&Cr(Y)?k(Y):P(Y)}),W=st(e,P);e.state.selectingText=W,te(c.wrapper.ownerDocument,"mousemove",H),te(c.wrapper.ownerDocument,"mouseup",W)}(e,o,n,c)}(n,o,u,e):Ft(e)==a.scroller&&Je(e):2==c?(o&&tr(n.doc,o),setTimeout(function(){return a.input.focus()},20)):3==c&&(yr?n.display.input.onContextMenu(e):vo(n)))}}}function Cl(e,n,a){if("char"==a)return new Se(n,n);if("word"==a)return e.findWordAt(n);if("line"==a)return new Se(D(n.line,0),R(e.doc,D(n.line+1,0)));var o=a(e,n);return new Se(o.from,o.to)}function na(e,n,a,o){var c,u;if(n.touches)c=n.touches[0].clientX,u=n.touches[0].clientY;else try{c=n.clientX,u=n.clientY}catch(w){return!1}if(c>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;o&&Je(n);var d=e.display,p=d.lineDiv.getBoundingClientRect();if(u>p.bottom||!dt(e,a))return Fi(n);u-=p.top-d.viewOffset;for(var g=0;g<e.display.gutterSpecs.length;++g){var m=d.gutters.childNodes[g];if(m&&m.getBoundingClientRect().right>=c)return Ae(e,a,e,Xt(e.doc,u),e.display.gutterSpecs[g].className,n),Fi(n)}}function Fo(e,n){return na(e,n,"gutterClick",!0)}function ia(e,n){Hn(e.display,n)||function(e,n){return!!dt(e,"gutterContextMenu")&&na(e,n,"gutterContextMenu",!1)}(e,n)||Ue(e,n,"contextmenu")||yr||e.display.input.onContextMenu(n)}function Po(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Mr(e)}Lo.prototype.compare=function(e,n,a){return this.time+400>e&&0==oe(n,this.pos)&&a==this.button};var Di={toString:function(){return"CodeMirror.Init"}},Vr={},Nn={};function xl(e,n,a){if(!n!=!(a&&a!=Di)){var c=e.display.dragFunctions,u=n?te:Ne;u(e.display.scroller,"dragstart",c.start),u(e.display.scroller,"dragenter",c.enter),u(e.display.scroller,"dragover",c.over),u(e.display.scroller,"dragleave",c.leave),u(e.display.scroller,"drop",c.drop)}}function Tl(e){e.options.lineWrapping?(ht(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(An(e.display.wrapper,"CodeMirror-wrap"),es(e)),fo(e),gt(e),Mr(e),setTimeout(function(){return Xi(e)},100)}function De(e,n){var a=this;if(!(this instanceof De))return new De(e,n);this.options=n=n?Lt(n):{},Lt(Vr,n,!1);var o=n.value;"string"==typeof o?o=new Be(o,n.mode,null,n.lineSeparator,n.direction):n.mode&&(o.modeOption=n.mode),this.doc=o;var c=new De.inputStyles[n.inputStyle](this),u=this.display=new Rt(e,o,c,n);for(var d in u.wrapper.CodeMirror=this,Po(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ms(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ke,keySeq:null,specialChars:null},n.autofocus&&!St&&u.input.focus(),ae&&fe<11&&setTimeout(function(){return a.display.input.reset(!0)},20),function(e){var n=e.display;te(n.scroller,"mousedown",st(e,ea)),te(n.scroller,"dblclick",ae&&fe<11?st(e,function(g){if(!Ue(e,g)){var m=Ci(e,g);if(m&&!Fo(e,g)&&!Hn(e.display,g)){Je(g);var y=e.findWordAt(m);tr(e.doc,y.anchor,y.head)}}}):function(g){return Ue(e,g)||Je(g)}),te(n.scroller,"contextmenu",function(g){return ia(e,g)}),te(n.input.getField(),"contextmenu",function(g){n.scroller.contains(g.target)||ia(e,g)});var a,o={end:0};function c(){n.activeTouch&&(a=setTimeout(function(){return n.activeTouch=null},1e3),(o=n.activeTouch).end=+new Date)}function u(g){if(1!=g.touches.length)return!1;var m=g.touches[0];return m.radiusX<=1&&m.radiusY<=1}function d(g,m){if(null==m.left)return!0;var y=m.left-g.left,C=m.top-g.top;return y*y+C*C>400}te(n.scroller,"touchstart",function(g){if(!Ue(e,g)&&!u(g)&&!Fo(e,g)){n.input.ensurePolled(),clearTimeout(a);var m=+new Date;n.activeTouch={start:m,moved:!1,prev:m-o.end<=300?o:null},1==g.touches.length&&(n.activeTouch.left=g.touches[0].pageX,n.activeTouch.top=g.touches[0].pageY)}}),te(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),te(n.scroller,"touchend",function(g){var m=n.activeTouch;if(m&&!Hn(n,g)&&null!=m.left&&!m.moved&&new Date-m.start<300){var C,y=e.coordsChar(n.activeTouch,"page");C=!m.prev||d(m,m.prev)?new Se(y,y):!m.prev.prev||d(m,m.prev.prev)?e.findWordAt(y):new Se(D(y.line,0),R(e.doc,D(y.line+1,0))),e.setSelection(C.anchor,C.head),e.focus(),Je(g)}c()}),te(n.scroller,"touchcancel",c),te(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Si(e,n.scroller.scrollTop),en(e,n.scroller.scrollLeft,!0),Ae(e,"scroll",e))}),te(n.scroller,"mousewheel",function(g){return Cs(e,g)}),te(n.scroller,"DOMMouseScroll",function(g){return Cs(e,g)}),te(n.wrapper,"scroll",function(){return n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),n.dragFunctions={enter:function(g){Ue(e,g)||dn(g)},over:function(g){Ue(e,g)||(function(e,n){var a=Ci(e,n);if(a){var o=document.createDocumentFragment();go(e,a,o),e.display.dragCursor||(e.display.dragCursor=K("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Le(e.display.dragCursor,o)}}(e,g),dn(g))},start:function(g){return function(e,n){if(ae&&(!e.state.draggingText||+new Date-Oo<100))dn(n);else if(!Ue(e,n)&&!Hn(e.display,n)&&(n.dataTransfer.setData("Text",e.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!ve)){var a=K("img",null,null,"position: fixed; left: 0; top: 0;");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",he&&(a.width=a.height=1,e.display.wrapper.appendChild(a),a._top=a.offsetTop),n.dataTransfer.setDragImage(a,0,0),he&&a.parentNode.removeChild(a)}}(e,g)},drop:st(e,Mo),leave:function(g){Ue(e,g)||Ys(e)}};var p=n.input.getField();te(p,"keyup",function(g){return Xs.call(e,g)}),te(p,"keydown",st(e,$s)),te(p,"keypress",st(e,Ks)),te(p,"focus",function(g){return Zi(e,g)}),te(p,"blur",function(g){return zi(e,g)})}(this),sl(),Vn(this),this.curOp.forceUpdate=!0,bs(this,o),n.autofocus&&!St||this.hasFocus()?setTimeout(function(){a.hasFocus()&&!a.state.focused&&Zi(a)},20):zi(this),Nn)Nn.hasOwnProperty(d)&&Nn[d](this,n[d],Di);ys(this),n.finishInit&&n.finishInit(this);for(var p=0;p<Ro.length;++p)Ro[p](this);Gt(this),ze&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(u.lineDiv).textRendering&&(u.lineDiv.style.textRendering="auto")}De.defaults=Vr,De.optionHandlers=Nn;var Ro=[];function pr(e,n,a,o){var u,c=e.doc;null==a&&(a="add"),"smart"==a&&(c.mode.indent?u=Hi(e,n).state:a="prev");var d=e.options.tabSize,p=J(c,n),g=xt(p.text,null,d);p.stateAfter&&(p.stateAfter=null);var y,m=p.text.match(/^\s*/)[0];if(o||/\S/.test(p.text)){if("smart"==a&&((y=c.mode.indent(u,p.text.slice(m.length),p.text))==se||y>150)){if(!o)return;a="prev"}}else y=0,a="not";"prev"==a?y=n>c.first?xt(J(c,n-1).text,null,d):0:"add"==a?y=g+e.options.indentUnit:"subtract"==a?y=g-e.options.indentUnit:"number"==typeof a&&(y=g+a),y=Math.max(0,y);var C="",w=0;if(e.options.indentWithTabs)for(var b=Math.floor(y/d);b;--b)w+=d,C+="\t";if(w<y&&(C+=ft(y-w)),C!=m)return Oi(c,C,D(n,0),D(n,m.length),"+input"),p.stateAfter=null,!0;for(var N=0;N<c.sel.ranges.length;N++){var k=c.sel.ranges[N];if(k.head.line==n&&k.head.ch<m.length){var P=D(n,m.length);wo(c,N,new Se(P,P));break}}}De.defineInitHook=function(e){return Ro.push(e)};var Ht=null;function gr(e){Ht=e}function ra(e,n,a,o,c){var u=e.doc;e.display.shift=!1,o||(o=u.sel);var d=+new Date-200,p="paste"==c||e.state.pasteIncoming>d,g=Ri(n),m=null;if(p&&o.ranges.length>1)if(Ht&&Ht.text.join("\n")==n){if(o.ranges.length%Ht.text.length==0){m=[];for(var y=0;y<Ht.text.length;y++)m.push(u.splitLines(Ht.text[y]))}}else g.length==o.ranges.length&&e.options.pasteLinesPerSelection&&(m=jn(g,function(H){return[H]}));for(var C=e.curOp.updateInput,w=o.ranges.length-1;w>=0;w--){var b=o.ranges[w],N=b.from(),k=b.to();b.empty()&&(a&&a>0?N=D(N.line,N.ch-a):e.state.overwrite&&!p?k=D(k.line,Math.min(J(u,k.line).text.length,k.ch+ge(g).length)):p&&Ht&&Ht.lineWise&&Ht.text.join("\n")==g.join("\n")&&(N=k=D(N.line,0)));var P={from:N,to:k,text:m?m[w%m.length]:g,origin:c||(p?"paste":e.state.cutIncoming>d?"cut":"+input")};Ti(e.doc,P),ot(e,"inputRead",e,P)}n&&!p&&Bo(e,n),bi(e),e.curOp.updateInput<2&&(e.curOp.updateInput=C),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function oa(e,n){var a=e.clipboardData&&e.clipboardData.getData("Text");if(a)return e.preventDefault(),!n.isReadOnly()&&!n.options.disableInput&&mt(n,function(){return ra(n,a,0,null,"paste")}),!0}function Bo(e,n){if(e.options.electricChars&&e.options.smartIndent)for(var a=e.doc.sel,o=a.ranges.length-1;o>=0;o--){var c=a.ranges[o];if(!(c.head.ch>100||o&&a.ranges[o-1].head.line==c.head.line)){var u=e.getModeAt(c.head),d=!1;if(u.electricChars){for(var p=0;p<u.electricChars.length;p++)if(n.indexOf(u.electricChars.charAt(p))>-1){d=pr(e,c.head.line,"smart");break}}else u.electricInput&&u.electricInput.test(J(e.doc,c.head.line).text.slice(0,c.head.ch))&&(d=pr(e,c.head.line,"smart"));d&&ot(e,"electricInput",e,c.head.line)}}}function Ml(e){for(var n=[],a=[],o=0;o<e.doc.sel.ranges.length;o++){var c=e.doc.sel.ranges[o].head.line,u={anchor:D(c,0),head:D(c+1,0)};a.push(u),n.push(e.getRange(u.anchor,u.head))}return{text:n,ranges:a}}function Nl(e,n,a,o){e.setAttribute("autocorrect",a?"":"off"),e.setAttribute("autocapitalize",o?"":"off"),e.setAttribute("spellcheck",!!n)}function Ho(){var e=K("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),n=K("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ze?e.style.width="1000px":e.setAttribute("wrap","off"),on&&(e.style.border="1px solid black"),Nl(e),n}function Yo(e,n,a,o,c){var u=n,d=a,p=J(e,n.line),g=c&&"rtl"==e.direction?-a:a;function y(W){var Y;if("codepoint"==o){var G=p.text.charCodeAt(n.ch+(a>0?0:-1));Y=isNaN(G)?null:new D(n.line,Math.max(0,Math.min(p.text.length,n.ch+a*((a>0?G>=55296&&G<56320:G>=56320&&G<57343)?2:1))),-a)}else Y=c?function(e,n,a,o){var c=Te(n,e.doc.direction);if(!c)return Do(n,a,o);a.ch>=n.text.length?(a.ch=n.text.length,a.sticky="before"):a.ch<=0&&(a.ch=0,a.sticky="after");var u=Kn(c,a.ch,a.sticky),d=c[u];if("ltr"==e.doc.direction&&d.level%2==0&&(o>0?d.to>a.ch:d.from<a.ch))return Do(n,a,o);var g,p=function(H,W){return ko(n,H instanceof D?H.ch:H,W)},m=function(H){return e.options.lineWrapping?(g=g||Vi(e,n),Ha(e,n,g,H)):{begin:0,end:n.text.length}},y=m("before"==a.sticky?p(a,-1):a.ch);if("rtl"==e.doc.direction||1==d.level){var C=1==d.level==o<0,w=p(a,C?1:-1);if(null!=w&&(C?w<=d.to&&w<=y.end:w>=d.from&&w>=y.begin))return new D(a.line,w,C?"before":"after")}var N=function(H,W,Y){for(;H>=0&&H<c.length;H+=W){var ie=c[H],ee=W>0==(1!=ie.level),ce=ee?Y.begin:p(Y.end,-1);if(ie.from<=ce&&ce<ie.to||(ce=ee?ie.from:p(ie.to,-1),Y.begin<=ce&&ce<Y.end))return Oe=ce,ee?new D(a.line,p(Oe,1),"before"):new D(a.line,Oe,"after")}var Oe},k=N(u+o,o,y);if(k)return k;var P=o>0?y.end:p(y.begin,-1);return null==P||o>0&&P==n.text.length||!(k=N(o>0?0:c.length-1,o,m(P)))?null:k}(e.cm,p,n,a):Do(p,n,a);if(null==Y){if(W||!function(){var W=n.line+g;return!(W<e.first||W>=e.first+e.size)&&(n=new D(W,n.ch,n.sticky),p=J(e,W))}())return!1;n=Ao(c,e.cm,p,n.line,g)}else n=Y;return!0}if("char"==o||"codepoint"==o)y();else if("column"==o)y(!0);else if("word"==o||"group"==o)for(var C=null,w="group"==o,b=e.cm&&e.cm.getHelper(n,"wordChars"),N=!0;!(a<0)||y(!N);N=!1){var k=p.text.charAt(n.ch)||"\n",P=qn(k,b)?"w":w&&"\n"==k?"n":!w||/\s/.test(k)?null:"p";if(w&&!N&&!P&&(P="s"),C&&C!=P){a<0&&(a=1,y(),n.sticky="after");break}if(P&&(C=P),a>0&&!y(!N))break}var H=ir(e,n,u,d,!0);return vi(u,H)&&(H.hitSide=!0),H}function Il(e,n,a,o){var d,m,c=e.doc,u=n.left;if("page"==o){var p=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),g=Math.max(p-.5*Gi(e.display),3);d=(a>0?n.bottom:n.top)+a*g}else"line"==o&&(d=a>0?n.bottom+3:n.top-3);for(;(m=ls(e,u,d)).outside;){if(a<0?d<=0:d>=c.height){m.hitSide=!0;break}d+=5*a}return m}var xe=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ke,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function kl(e,n){var a=os(e,n.line);if(!a||a.hidden)return null;var o=J(e.doc,n.line),c=Na(a,o,n.line),u=Te(o,e.doc.direction),d="left";u&&(d=Kn(u,n.ch)%2?"right":"left");var g=Da(c.map,n.ch,d);return g.offset="right"==g.collapse?g.end:g.start,g}function mr(e,n){return n&&(e.bad=!0),e}function Wo(e,n,a){var o;if(n==e.display.lineDiv){if(!(o=e.display.lineDiv.childNodes[a]))return mr(e.clipPos(D(e.display.viewTo-1)),!0);n=null,a=0}else for(o=n;;o=o.parentNode){if(!o||o==e.display.lineDiv)return null;if(o.parentNode&&o.parentNode==e.display.lineDiv)break}for(var c=0;c<e.display.view.length;c++){var u=e.display.view[c];if(u.node==o)return Oc(u,n,a)}}function Oc(e,n,a){var o=e.text.firstChild,c=!1;if(!n||!x(o,n))return mr(D(ye(e.line),0),!0);if(n==o&&(c=!0,n=o.childNodes[a],a=0,!n)){var u=e.rest?ge(e.rest):e.line;return mr(D(ye(u),u.text.length),c)}var d=3==n.nodeType?n:null,p=n;for(!d&&1==n.childNodes.length&&3==n.firstChild.nodeType&&(d=n.firstChild,a&&(a=d.nodeValue.length));p.parentNode!=o;)p=p.parentNode;var g=e.measure,m=g.maps;function y(P,H,W){for(var Y=-1;Y<(m?m.length:0);Y++)for(var G=Y<0?g.map:m[Y],ie=0;ie<G.length;ie+=3){var ee=G[ie+2];if(ee==P||ee==H){var ce=ye(Y<0?e.line:e.rest[Y]),Oe=G[ie]+W;return(W<0||ee!=P)&&(Oe=G[ie+(W?1:0)]),D(ce,Oe)}}}var C=y(d,p,a);if(C)return mr(C,c);for(var w=p.nextSibling,b=d?d.nodeValue.length-a:0;w;w=w.nextSibling){if(C=y(w,w.firstChild,0))return mr(D(C.line,C.ch-b),c);b+=w.textContent.length}for(var N=p.previousSibling,k=a;N;N=N.previousSibling){if(C=y(N,N.firstChild,-1))return mr(D(C.line,C.ch+k),c);k+=N.textContent.length}}xe.prototype.init=function(e){var n=this,a=this,o=a.cm,c=a.div=e.lineDiv;function u(p){for(var g=p.target;g;g=g.parentNode){if(g==c)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(g.className))break}return!1}function d(p){if(u(p)&&!Ue(o,p)){if(o.somethingSelected())gr({lineWise:!1,text:o.getSelections()}),"cut"==p.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var g=Ml(o);gr({lineWise:!0,text:g.text}),"cut"==p.type&&o.operation(function(){o.setSelections(g.ranges,0,ne),o.replaceSelection("",null,"cut")})}if(p.clipboardData){p.clipboardData.clearData();var m=Ht.text.join("\n");if(p.clipboardData.setData("Text",m),p.clipboardData.getData("Text")==m)return void p.preventDefault()}var y=Ho(),C=y.firstChild;o.display.lineSpace.insertBefore(y,o.display.lineSpace.firstChild),C.value=Ht.text.join("\n");var w=Fe();an(C),setTimeout(function(){o.display.lineSpace.removeChild(y),w.focus(),w==c&&a.showPrimarySelection()},50)}}c.contentEditable=!0,Nl(c,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize),te(c,"paste",function(p){!u(p)||Ue(o,p)||oa(p,o)||fe<=11&&setTimeout(st(o,function(){return n.updateFromDOM()}),20)}),te(c,"compositionstart",function(p){n.composing={data:p.data,done:!1}}),te(c,"compositionupdate",function(p){n.composing||(n.composing={data:p.data,done:!1})}),te(c,"compositionend",function(p){n.composing&&(p.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),te(c,"touchstart",function(){return a.forceCompositionEnd()}),te(c,"input",function(){n.composing||n.readFromDOMSoon()}),te(c,"copy",d),te(c,"cut",d)},xe.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},xe.prototype.prepareSelection=function(){var e=Wa(this.cm,!1);return e.focus=Fe()==this.div,e},xe.prototype.showSelection=function(e,n){!e||!this.cm.display.view.length||((e.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(e))},xe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},xe.prototype.showPrimarySelection=function(){var e=this.getSelection(),n=this.cm,a=n.doc.sel.primary(),o=a.from(),c=a.to();if(n.display.viewTo==n.display.viewFrom||o.line>=n.display.viewTo||c.line<n.display.viewFrom)e.removeAllRanges();else{var u=Wo(n,e.anchorNode,e.anchorOffset),d=Wo(n,e.focusNode,e.focusOffset);if(!u||u.bad||!d||d.bad||0!=oe(I(u,d),o)||0!=oe(z(u,d),c)){var p=n.display.view,g=o.line>=n.display.viewFrom&&kl(n,o)||{node:p[0].measure.map[2],offset:0},m=c.line<n.display.viewTo&&kl(n,c);if(!m){var y=p[p.length-1].measure,C=y.maps?y.maps[y.maps.length-1]:y.map;m={node:C[C.length-1],offset:C[C.length-2]-C[C.length-3]}}if(!g||!m)return void e.removeAllRanges();var b,w=e.rangeCount&&e.getRangeAt(0);try{b=B(g.node,g.offset,m.offset,m.node)}catch(N){}b&&(!M&&n.state.focused?(e.collapse(g.node,g.offset),b.collapsed||(e.removeAllRanges(),e.addRange(b))):(e.removeAllRanges(),e.addRange(b)),w&&null==e.anchorNode?e.addRange(w):M&&this.startGracePeriod()),this.rememberSelection()}}},xe.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},xe.prototype.showMultipleSelections=function(e){Le(this.cm.display.cursorDiv,e.cursors),Le(this.cm.display.selectionDiv,e.selection)},xe.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},xe.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var n=e.getRangeAt(0).commonAncestorContainer;return x(this.div,n)},xe.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||Fe()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},xe.prototype.blur=function(){this.div.blur()},xe.prototype.getField=function(){return this.div},xe.prototype.supportsTouch=function(){return!0},xe.prototype.receivedFocus=function(){var e=this,n=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):mt(this.cm,function(){return n.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function a(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,a))})},xe.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},xe.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),n=this.cm;if(Nt&&Q&&this.cm.display.gutterSpecs.length&&function(e){for(var n=e;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var a=Wo(n,e.anchorNode,e.anchorOffset),o=Wo(n,e.focusNode,e.focusOffset);a&&o&&mt(n,function(){de(n.doc,Gn(a,o),ne),(a.bad||o.bad)&&(n.curOp.selectionChanged=!0)})}}},xe.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var u,d,p,e=this.cm,n=e.display,a=e.doc.sel.primary(),o=a.from(),c=a.to();if(0==o.ch&&o.line>e.firstLine()&&(o=D(o.line-1,J(e.doc,o.line-1).length)),c.ch==J(e.doc,c.line).text.length&&c.line<e.lastLine()&&(c=D(c.line+1,0)),o.line<n.viewFrom||c.line>n.viewTo-1)return!1;o.line==n.viewFrom||0==(u=oi(e,o.line))?(d=ye(n.view[0].line),p=n.view[0].node):(d=ye(n.view[u].line),p=n.view[u-1].node.nextSibling);var m,y,g=oi(e,c.line);if(g==n.view.length-1?(m=n.viewTo-1,y=n.lineDiv.lastChild):(m=ye(n.view[g+1].line)-1,y=n.view[g+1].node.previousSibling),!p)return!1;for(var C=e.doc.splitLines(function(e,n,a,o,c){var u="",d=!1,p=e.doc.lineSeparator(),g=!1;function y(){d&&(u+=p,g&&(u+=p),d=g=!1)}function C(b){b&&(y(),u+=b)}function w(b){if(1==b.nodeType){var N=b.getAttribute("cm-text");if(N)return void C(N);var P,k=b.getAttribute("cm-marker");if(k){var H=e.findMarks(D(o,0),D(c+1,0),function(b){return function(N){return N.id==b}}(+k));return void(H.length&&(P=H[0].find(0))&&C(bn(e.doc,P.from,P.to).join(p)))}if("false"==b.getAttribute("contenteditable"))return;var W=/^(pre|div|p|li|table|br)$/i.test(b.nodeName);if(!/^br$/i.test(b.nodeName)&&0==b.textContent.length)return;W&&y();for(var Y=0;Y<b.childNodes.length;Y++)w(b.childNodes[Y]);/^(pre|p)$/i.test(b.nodeName)&&(g=!0),W&&(d=!0)}else 3==b.nodeType&&C(b.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;w(n),n!=a;)n=n.nextSibling,g=!1;return u}(e,p,y,d,m)),w=bn(e.doc,D(d,0),D(m,J(e.doc,m).text.length));C.length>1&&w.length>1;)if(ge(C)==ge(w))C.pop(),w.pop(),m--;else{if(C[0]!=w[0])break;C.shift(),w.shift(),d++}for(var b=0,N=0,k=C[0],P=w[0],H=Math.min(k.length,P.length);b<H&&k.charCodeAt(b)==P.charCodeAt(b);)++b;for(var W=ge(C),Y=ge(w),G=Math.min(W.length-(1==C.length?b:0),Y.length-(1==w.length?b:0));N<G&&W.charCodeAt(W.length-N-1)==Y.charCodeAt(Y.length-N-1);)++N;if(1==C.length&&1==w.length&&d==o.line)for(;b&&b>o.ch&&W.charCodeAt(W.length-N-1)==Y.charCodeAt(Y.length-N-1);)b--,N++;C[C.length-1]=W.slice(0,W.length-N).replace(/^\u200b+/,""),C[0]=C[0].slice(b).replace(/\u200b+$/,"");var ie=D(d,b),ee=D(m,w.length?ge(w).length-N:0);return C.length>1||C[0]||oe(ie,ee)?(Oi(e.doc,C,ie,ee,"+input"),!0):void 0},xe.prototype.ensurePolled=function(){this.forceCompositionEnd()},xe.prototype.reset=function(){this.forceCompositionEnd()},xe.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},xe.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},xe.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&mt(this.cm,function(){return gt(e.cm)})},xe.prototype.setUneditable=function(e){e.contentEditable="false"},xe.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||st(this.cm,ra)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},xe.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},xe.prototype.onContextMenu=function(){},xe.prototype.resetPosition=function(){},xe.prototype.needsContentAttribute=!0;var je=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ke,this.hasSelection=!1,this.composing=null};je.prototype.init=function(e){var n=this,a=this,o=this.cm;this.createField(e);var c=this.textarea;function u(d){if(!Ue(o,d)){if(o.somethingSelected())gr({lineWise:!1,text:o.getSelections()});else{if(!o.options.lineWiseCopyCut)return;var p=Ml(o);gr({lineWise:!0,text:p.text}),"cut"==d.type?o.setSelections(p.ranges,null,ne):(a.prevInput="",c.value=p.text.join("\n"),an(c))}"cut"==d.type&&(o.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),on&&(c.style.width="0px"),te(c,"input",function(){ae&&fe>=9&&n.hasSelection&&(n.hasSelection=null),a.poll()}),te(c,"paste",function(d){Ue(o,d)||oa(d,o)||(o.state.pasteIncoming=+new Date,a.fastPoll())}),te(c,"cut",u),te(c,"copy",u),te(e.scroller,"paste",function(d){if(!Hn(e,d)&&!Ue(o,d)){if(!c.dispatchEvent)return o.state.pasteIncoming=+new Date,void a.focus();var p=new Event("paste");p.clipboardData=d.clipboardData,c.dispatchEvent(p)}}),te(e.lineSpace,"selectstart",function(d){Hn(e,d)||Je(d)}),te(c,"compositionstart",function(){var d=o.getCursor("from");a.composing&&a.composing.range.clear(),a.composing={start:d,range:o.markText(d,o.getCursor("to"),{className:"CodeMirror-composing"})}}),te(c,"compositionend",function(){a.composing&&(a.poll(),a.composing.range.clear(),a.composing=null)})},je.prototype.createField=function(e){this.wrapper=Ho(),this.textarea=this.wrapper.firstChild},je.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},je.prototype.prepareSelection=function(){var e=this.cm,n=e.display,a=e.doc,o=Wa(e);if(e.options.moveInputWithCursor){var c=gn(e,a.sel.primary().head,"div"),u=n.wrapper.getBoundingClientRect(),d=n.lineDiv.getBoundingClientRect();o.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,c.top+d.top-u.top)),o.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,c.left+d.left-u.left))}return o},je.prototype.showSelection=function(e){var a=this.cm.display;Le(a.cursorDiv,e.cursors),Le(a.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},je.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var n=this.cm;if(n.somethingSelected()){this.prevInput="";var a=n.getSelection();this.textarea.value=a,n.state.focused&&an(this.textarea),ae&&fe>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",ae&&fe>=9&&(this.hasSelection=null))}},je.prototype.getField=function(){return this.textarea},je.prototype.supportsTouch=function(){return!1},je.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!St||Fe()!=this.textarea))try{this.textarea.focus()}catch(e){}},je.prototype.blur=function(){this.textarea.blur()},je.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},je.prototype.receivedFocus=function(){this.slowPoll()},je.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},je.prototype.fastPoll=function(){var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,function a(){n.poll()||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,a))})},je.prototype.poll=function(){var e=this,n=this.cm,a=this.textarea,o=this.prevInput;if(this.contextMenuPending||!n.state.focused||fn(a)&&!o&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var c=a.value;if(c==o&&!n.somethingSelected())return!1;if(ae&&fe>=9&&this.hasSelection===c||_e&&/[\uf700-\uf7ff]/.test(c))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var u=c.charCodeAt(0);if(8203==u&&!o&&(o="\u200b"),8666==u)return this.reset(),this.cm.execCommand("undo")}for(var d=0,p=Math.min(o.length,c.length);d<p&&o.charCodeAt(d)==c.charCodeAt(d);)++d;return mt(n,function(){ra(n,c.slice(d),o.length-d,null,e.composing?"*compose":null),c.length>1e3||c.indexOf("\n")>-1?a.value=e.prevInput="":e.prevInput=c,e.composing&&(e.composing.range.clear(),e.composing.range=n.markText(e.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},je.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},je.prototype.onKeyPress=function(){ae&&fe>=9&&(this.hasSelection=null),this.fastPoll()},je.prototype.onContextMenu=function(e){var n=this,a=n.cm,o=a.display,c=n.textarea;n.contextMenuPending&&n.contextMenuPending();var u=Ci(a,e),d=o.scroller.scrollTop;if(u&&!he){a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(u)&&st(a,de)(a.doc,Gn(u),ne);var C,g=c.style.cssText,m=n.wrapper.style.cssText,y=n.wrapper.offsetParent.getBoundingClientRect();if(n.wrapper.style.cssText="position: static",c.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-y.top-5)+"px; left: "+(e.clientX-y.left-5)+"px;\n      z-index: 1000; background: "+(ae?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ze&&(C=window.scrollY),o.input.focus(),ze&&window.scrollTo(null,C),o.input.reset(),a.somethingSelected()||(c.value=n.prevInput=" "),n.contextMenuPending=b,o.selForContextMenu=a.doc.sel,clearTimeout(o.detectingSelectAll),ae&&fe>=9&&w(),yr){dn(e);var N=function(){Ne(window,"mouseup",N),setTimeout(b,20)};te(window,"mouseup",N)}else setTimeout(b,50)}function w(){if(null!=c.selectionStart){var k=a.somethingSelected(),P="\u200b"+(k?c.value:"");c.value="\u21da",c.value=P,n.prevInput=k?"":"\u200b",c.selectionStart=1,c.selectionEnd=P.length,o.selForContextMenu=a.doc.sel}}function b(){if(n.contextMenuPending==b&&(n.contextMenuPending=!1,n.wrapper.style.cssText=m,c.style.cssText=g,ae&&fe<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=d),null!=c.selectionStart)){(!ae||ae&&fe<9)&&w();var k=0,P=function(){o.selForContextMenu==a.doc.sel&&0==c.selectionStart&&c.selectionEnd>0&&"\u200b"==n.prevInput?st(a,Is)(a):k++<10?o.detectingSelectAll=setTimeout(P,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(P,200)}}},je.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},je.prototype.setUneditable=function(){},je.prototype.needsContentAttribute=!1,function(e){var n=e.optionHandlers;function a(o,c,u,d){e.defaults[o]=c,u&&(n[o]=d?function(p,g,m){m!=Di&&u(p,g,m)}:u)}e.defineOption=a,e.Init=Di,a("value","",function(o,c){return o.setValue(c)},!0),a("mode",null,function(o,c){o.doc.modeOption=c,zo(o)},!0),a("indentUnit",2,zo,!0),a("indentWithTabs",!1),a("smartIndent",!0),a("tabSize",4,function(o){er(o),Mr(o),gt(o)},!0),a("lineSeparator",null,function(o,c){if(o.doc.lineSep=c,c){var u=[],d=o.doc.first;o.doc.iter(function(g){for(var m=0;;){var y=g.text.indexOf(c,m);if(-1==y)break;m=y+c.length,u.push(D(d,y))}d++});for(var p=u.length-1;p>=0;p--)Oi(o.doc,c,u[p],D(u[p].line,u[p].ch+c.length))}}),a("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(o,c,u){o.state.specialChars=new RegExp(c.source+(c.test("\t")?"":"|\t"),"g"),u!=Di&&o.refresh()}),a("specialCharPlaceholder",Jl,function(o){return o.refresh()},!0),a("electricChars",!0),a("inputStyle",St?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),a("spellcheck",!1,function(o,c){return o.getInputField().spellcheck=c},!0),a("autocorrect",!1,function(o,c){return o.getInputField().autocorrect=c},!0),a("autocapitalize",!1,function(o,c){return o.getInputField().autocapitalize=c},!0),a("rtlMoveVisually",!_r),a("wholeLineUpdateBefore",!0),a("theme","default",function(o){Po(o),L(o)},!0),a("keyMap","default",function(o,c,u){var d=Yr(c),p=u!=Di&&Yr(u);p&&p.detach&&p.detach(o,d),d.attach&&d.attach(o,p||null)}),a("extraKeys",null),a("configureMouse",null),a("lineWrapping",!1,Tl,!0),a("gutters",[],function(o,c){o.display.gutterSpecs=_n(c,o.options.lineNumbers),L(o)},!0),a("fixedGutter",!0,function(o,c){o.display.gutters.style.left=c?uo(o.display)+"px":"0",o.refresh()},!0),a("coverGutterNextToScrollbar",!1,function(o){return Xi(o)},!0),a("scrollbarStyle","native",function(o){ms(o),Xi(o),o.display.scrollbars.setScrollTop(o.doc.scrollTop),o.display.scrollbars.setScrollLeft(o.doc.scrollLeft)},!0),a("lineNumbers",!1,function(o,c){o.display.gutterSpecs=_n(o.options.gutters,c),L(o)},!0),a("firstLineNumber",1,L,!0),a("lineNumberFormatter",function(o){return o},L,!0),a("showCursorWhenSelecting",!1,Ge,!0),a("resetSelectionOnContextMenu",!0),a("lineWiseCopyCut",!0),a("pasteLinesPerSelection",!0),a("selectionsMayTouch",!1),a("readOnly",!1,function(o,c){"nocursor"==c&&(zi(o),o.display.input.blur()),o.display.input.readOnlyChanged(c)}),a("screenReaderLabel",null,function(o,c){o.display.input.screenReaderLabelChanged(c=""===c?null:c)}),a("disableInput",!1,function(o,c){c||o.display.input.reset()},!0),a("dragDrop",!0,xl),a("allowDropFileTypes",null),a("cursorBlinkRate",530),a("cursorScrollMargin",0),a("cursorHeight",1,Ge,!0),a("singleCursorHeightPerLine",!0,Ge,!0),a("workTime",100),a("workDelay",100),a("flattenSpans",!0,er,!0),a("addModeClass",!1,er,!0),a("pollInterval",100),a("undoDepth",200,function(o,c){return o.doc.history.undoDepth=c}),a("historyEventDelay",1250),a("viewportMargin",10,function(o){return o.refresh()},!0),a("maxHighlightLength",1e4,er,!0),a("moveInputWithCursor",!0,function(o,c){c||o.display.input.resetPosition()}),a("tabindex",null,function(o,c){return o.display.input.getField().tabIndex=c||""}),a("autofocus",null),a("direction","ltr",function(o,c){return o.doc.setDirection(c)},!0),a("phrases",null)}(De),function(e){var n=e.optionHandlers,a=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(o,c){var u=this.options,d=u[o];u[o]==c&&"mode"!=o||(u[o]=c,n.hasOwnProperty(o)&&st(this,n[o])(this,c,d),Ae(this,"optionChange",this,o))},getOption:function(o){return this.options[o]},getDoc:function(){return this.doc},addKeyMap:function(o,c){this.state.keyMaps[c?"push":"unshift"](Yr(o))},removeKeyMap:function(o){for(var c=this.state.keyMaps,u=0;u<c.length;++u)if(c[u]==o||c[u].name==o)return c.splice(u,1),!0},addOverlay:at(function(o,c){var u=o.token?o:e.getMode(this.options,o);if(u.startState)throw new Error("Overlays may not be stateful.");(function(e,n,a){for(var o=0,c=a(n);o<e.length&&a(e[o])<=c;)o++;e.splice(o,0,n)})(this.state.overlays,{mode:u,modeSpec:o,opaque:c&&c.opaque,priority:c&&c.priority||0},function(d){return d.priority}),this.state.modeGen++,gt(this)}),removeOverlay:at(function(o){for(var c=this.state.overlays,u=0;u<c.length;++u){var d=c[u].modeSpec;if(d==o||"string"==typeof o&&d.name==o)return c.splice(u,1),this.state.modeGen++,void gt(this)}}),indentLine:at(function(o,c,u){"string"!=typeof c&&"number"!=typeof c&&(c=null==c?this.options.smartIndent?"smart":"prev":c?"add":"subtract"),ii(this.doc,o)&&pr(this,o,c,u)}),indentSelection:at(function(o){for(var c=this.doc.sel.ranges,u=-1,d=0;d<c.length;d++){var p=c[d];if(p.empty())p.head.line>u&&(pr(this,p.head.line,o,!0),u=p.head.line,d==this.doc.sel.primIndex&&bi(this));else{var g=p.from(),m=p.to(),y=Math.max(u,g.line);u=Math.min(this.lastLine(),m.line-(m.ch?0:1))+1;for(var C=y;C<u;++C)pr(this,C,o);var w=this.doc.sel.ranges;0==g.ch&&c.length==w.length&&w[d].from().ch>0&&wo(this.doc,d,new Se(g,w[d].to()),ne)}}}),getTokenAt:function(o,c){return Jo(this,o,c)},getLineTokens:function(o,c){return Jo(this,D(o),c,!0)},getTokenTypeAt:function(o){o=R(this.doc,o);var g,c=Qo(this,J(this.doc,o.line)),u=0,d=(c.length-1)/2,p=o.ch;if(0==p)g=c[2];else for(;;){var m=u+d>>1;if((m?c[2*m-1]:0)>=p)d=m;else{if(!(c[2*m+1]<p)){g=c[2*m+2];break}u=m+1}}var y=g?g.indexOf("overlay "):-1;return y<0?g:0==y?null:g.slice(0,y-1)},getModeAt:function(o){var c=this.doc.mode;return c.innerMode?e.innerMode(c,this.getTokenAt(o).state).mode:c},getHelper:function(o,c){return this.getHelpers(o,c)[0]},getHelpers:function(o,c){var u=[];if(!a.hasOwnProperty(c))return u;var d=a[c],p=this.getModeAt(o);if("string"==typeof p[c])d[p[c]]&&u.push(d[p[c]]);else if(p[c])for(var g=0;g<p[c].length;g++){var m=d[p[c][g]];m&&u.push(m)}else p.helperType&&d[p.helperType]?u.push(d[p.helperType]):d[p.name]&&u.push(d[p.name]);for(var y=0;y<d._global.length;y++){var C=d._global[y];C.pred(p,this)&&-1==Ye(u,C.val)&&u.push(C.val)}return u},getStateAfter:function(o,c){var u=this.doc;return Hi(this,(o=F(u,null==o?u.first+u.size-1:o))+1,c).state},cursorCoords:function(o,c){var d=this.doc.sel.primary();return gn(this,null==o?d.head:"object"==typeof o?R(this.doc,o):o?d.from():d.to(),c||"page")},charCoords:function(o,c){return lo(this,R(this.doc,o),c||"page")},coordsChar:function(o,c){return ls(this,(o=Pa(this,o,c||"page")).left,o.top)},lineAtHeight:function(o,c){return o=Pa(this,{top:o,left:0},c||"page").top,Xt(this.doc,o+this.display.viewOffset)},heightAtLine:function(o,c,u){var p,d=!1;if("number"==typeof o){var g=this.doc.first+this.doc.size-1;o<this.doc.first?o=this.doc.first:o>g&&(o=g,d=!0),p=J(this.doc,o)}else p=o;return ao(this,p,{top:0,left:0},c||"page",u||d).top+(d?this.doc.height-Bn(p):0)},defaultTextHeight:function(){return Gi(this.display)},defaultCharWidth:function(){return Qi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(o,c,u,d,p){var g=this.display,m=(o=gn(this,R(this.doc,o))).bottom,y=o.left;if(c.style.position="absolute",c.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(c),g.sizer.appendChild(c),"over"==d)m=o.top;else if("above"==d||"near"==d){var C=Math.max(g.wrapper.clientHeight,this.doc.height),w=Math.max(g.sizer.clientWidth,g.lineSpace.clientWidth);("above"==d||o.bottom+c.offsetHeight>C)&&o.top>c.offsetHeight?m=o.top-c.offsetHeight:o.bottom+c.offsetHeight<=C&&(m=o.bottom),y+c.offsetWidth>w&&(y=w-c.offsetWidth)}c.style.top=m+"px",c.style.left=c.style.right="","right"==p?(y=g.sizer.clientWidth-c.offsetWidth,c.style.right="0px"):("left"==p?y=0:"middle"==p&&(y=(g.sizer.clientWidth-c.offsetWidth)/2),c.style.left=y+"px"),u&&function(e,n){var a=_o(e,n);null!=a.scrollTop&&Si(e,a.scrollTop),null!=a.scrollLeft&&en(e,a.scrollLeft)}(this,{left:y,top:m,right:y+c.offsetWidth,bottom:m+c.offsetHeight})},triggerOnKeyDown:at($s),triggerOnKeyPress:at(Ks),triggerOnKeyUp:Xs,triggerOnMouseDown:at(ea),execCommand:function(o){if(hr.hasOwnProperty(o))return hr[o].call(null,this)},triggerElectric:at(function(o){Bo(this,o)}),findPosH:function(o,c,u,d){var p=1;c<0&&(p=-1,c=-c);for(var g=R(this.doc,o),m=0;m<c&&!(g=Yo(this.doc,g,p,u,d)).hitSide;++m);return g},moveH:at(function(o,c){var u=this;this.extendSelectionsBy(function(d){return u.display.shift||u.doc.extend||d.empty()?Yo(u.doc,d.head,o,c,u.options.rtlMoveVisually):o<0?d.from():d.to()},Me)}),deleteH:at(function(o,c){var d=this.doc;this.doc.sel.somethingSelected()?d.replaceSelection("",null,"+delete"):Ii(this,function(p){var g=Yo(d,p.head,o,c,!1);return o<0?{from:g,to:p.head}:{from:p.head,to:g}})}),findPosV:function(o,c,u,d){var p=1,g=d;c<0&&(p=-1,c=-c);for(var m=R(this.doc,o),y=0;y<c;++y){var C=gn(this,m,"div");if(null==g?g=C.left:C.left=g,(m=Il(this,C,p,u)).hitSide)break}return m},moveV:at(function(o,c){var u=this,d=this.doc,p=[],g=!this.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(y){if(g)return o<0?y.from():y.to();var C=gn(u,y.head,"div");null!=y.goalColumn&&(C.left=y.goalColumn),p.push(C.left);var w=Il(u,C,o,c);return"page"==c&&y==d.sel.primary()&&kr(u,lo(u,w,"div").top-C.top),w},Me),p.length)for(var m=0;m<d.sel.ranges.length;m++)d.sel.ranges[m].goalColumn=p[m]}),findWordAt:function(o){var u=J(this.doc,o.line).text,d=o.ch,p=o.ch;if(u){var g=this.getHelper(o,"wordChars");"before"!=o.sticky&&p!=u.length||!d?++p:--d;for(var m=u.charAt(d),y=qn(m,g)?function(C){return qn(C,g)}:/\s/.test(m)?function(C){return/\s/.test(C)}:function(C){return!/\s/.test(C)&&!qn(C)};d>0&&y(u.charAt(d-1));)--d;for(;p<u.length&&y(u.charAt(p));)++p}return new Se(D(o.line,d),D(o.line,p))},toggleOverwrite:function(o){null!=o&&o==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ht(this.display.cursorDiv,"CodeMirror-overwrite"):An(this.display.cursorDiv,"CodeMirror-overwrite"),Ae(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Fe()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:at(function(o,c){ji(this,o,c)}),getScrollInfo:function(){var o=this.display.scroller;return{left:o.scrollLeft,top:o.scrollTop,height:o.scrollHeight-Sn(this)-this.display.barHeight,width:o.scrollWidth-Sn(this)-this.display.barWidth,clientHeight:rs(this),clientWidth:_i(this)}},scrollIntoView:at(function(o,c){null==o?(o={from:this.doc.sel.primary().head,to:null},null==c&&(c=this.options.cursorScrollMargin)):"number"==typeof o?o={from:D(o,0),to:null}:null==o.from&&(o={from:o,to:null}),o.to||(o.to=o.from),o.margin=c||0,null!=o.from.line?function(e,n){Yn(e),e.curOp.scrollToPos=n}(this,o):ps(this,o.from,o.to,o.margin)}),setSize:at(function(o,c){var u=this,d=function(g){return"number"==typeof g||/^\d+$/.test(String(g))?g+"px":g};null!=o&&(this.display.wrapper.style.width=d(o)),null!=c&&(this.display.wrapper.style.height=d(c)),this.options.lineWrapping&&Ea(this);var p=this.display.viewFrom;this.doc.iter(p,this.display.viewTo,function(g){if(g.widgets)for(var m=0;m<g.widgets.length;m++)if(g.widgets[m].noHScroll){mn(u,p,"widget");break}++p}),this.curOp.forceUpdate=!0,Ae(this,"refresh",this)}),operation:function(o){return mt(this,o)},startOperation:function(){return Vn(this)},endOperation:function(){return Gt(this)},refresh:at(function(){var o=this.display.cachedTextHeight;gt(this),this.curOp.forceUpdate=!0,Mr(this),ji(this,this.doc.scrollLeft,this.doc.scrollTop),_s(this.display),(null==o||Math.abs(o-Gi(this.display))>.5||this.options.lineWrapping)&&fo(this),Ae(this,"refresh",this)}),swapDoc:at(function(o){var c=this.doc;return c.cm=null,this.state.selectingText&&this.state.selectingText(),bs(this,o),Mr(this),this.display.input.reset(),ji(this,o.scrollLeft,o.scrollTop),this.curOp.forceScroll=!0,ot(this,"swapDoc",this,c),c}),phrase:function(o){var c=this.options.phrases;return c&&Object.prototype.hasOwnProperty.call(c,o)?c[o]:o},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},hn(e),e.registerHelper=function(o,c,u){a.hasOwnProperty(o)||(a[o]=e[o]={_global:[]}),a[o][c]=u},e.registerGlobalHelper=function(o,c,u,d){e.registerHelper(o,c,d),a[o]._global.push({pred:u,val:d})}}(De);var sa="iter insert remove copy getEditor constructor".split(" ");for(var Gr in Be.prototype)Be.prototype.hasOwnProperty(Gr)&&Ye(sa,Gr)<0&&(De.prototype[Gr]=function(e){return function(){return e.apply(this.doc,arguments)}}(Be.prototype[Gr]));return hn(Be),De.inputStyles={textarea:je,contenteditable:xe},De.defineMode=function(e){!De.defaults.mode&&"null"!=e&&(De.defaults.mode=e),X.apply(this,arguments)},De.defineMIME=function(e,n){Pt[e]=n},De.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),De.defineMIME("text/plain","null"),De.defineExtension=function(e,n){De.prototype[e]=n},De.defineDocExtension=function(e,n){Be.prototype[e]=n},De.fromTextArea=function(e,n){if((n=n?Lt(n):{}).value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var a=Fe();n.autofocus=a==e||null!=e.getAttribute("autofocus")&&a==document.body}function o(){e.value=p.getValue()}var c;if(e.form&&(te(e.form,"submit",o),!n.leaveSubmitMethodAlone)){var u=e.form;c=u.submit;try{var d=u.submit=function(){o(),u.submit=c,u.submit(),u.submit=d}}catch(g){}}n.finishInit=function(g){g.save=o,g.getTextArea=function(){return e},g.toTextArea=function(){g.toTextArea=isNaN,o(),e.parentNode.removeChild(g.getWrapperElement()),e.style.display="",e.form&&(Ne(e.form,"submit",o),!n.leaveSubmitMethodAlone&&"function"==typeof e.form.submit&&(e.form.submit=c))}},e.style.display="none";var p=De(function(g){return e.parentNode.insertBefore(g,e.nextSibling)},n);return p},function(e){e.off=Ne,e.on=te,e.wheelEventPixels=Sc,e.Doc=Be,e.splitLines=Ri,e.countColumn=xt,e.findColumn=pi,e.isWordChar=qt,e.Pass=se,e.signal=Ae,e.Line=Yi,e.changeEnd=On,e.scrollbarModel=vn,e.Pos=D,e.cmpPos=oe,e.modes=Bi,e.mimeModes=Pt,e.resolveMode=ti,e.getMode=$t,e.modeExtensions=Pn,e.extendMode=$r,e.copyState=Wt,e.startState=ni,e.innerMode=Vt,e.commands=hr,e.keyMap=Mn,e.keyName=Zs,e.isModifierKey=Qs,e.lookupKey=Ni,e.normalizeKeyMap=Cn,e.StringStream=We,e.SharedTextMarker=cr,e.TextMarker=Un,e.LineWidget=lr,e.e_preventDefault=Je,e.e_stopPropagation=Li,e.e_stop=dn,e.addClass=ht,e.contains=x,e.rmClass=An,e.keyNames=hi}(De),De.version="5.65.1",De}()},8259:(fi,He,U)=>{!function(M){"use strict";M.defineMode("javascript",function(nt,i){var Nt,St,it=nt.indentUnit,ae=i.statementIndent,fe=i.jsonld,ze=i.json||fe,Qt=!1!==i.trackScope,Q=i.typescript,he=i.wordCharacters||/[\w$\xa1-\uffff]/,ve=function(){function v(Ve){return{type:Ve,style:"keyword"}}var z=v("keyword a"),I=v("keyword b"),F=v("keyword c"),R=v("keyword d"),me=v("operator"),Ce={type:"atom",style:"atom"};return{if:v("if"),while:z,with:z,else:I,do:I,try:I,finally:I,return:R,break:R,continue:R,new:v("new"),delete:F,void:F,throw:F,debugger:v("debugger"),var:v("var"),const:v("var"),let:v("var"),function:v("function"),catch:v("catch"),for:v("for"),switch:v("switch"),case:v("case"),default:v("default"),in:me,typeof:me,instanceof:me,true:Ce,false:Ce,null:Ce,undefined:Ce,NaN:Ce,Infinity:Ce,this:v("this"),class:v("class"),super:v("atom"),yield:F,export:v("export"),import:v("import"),extends:F,await:F}}(),bt=/[+\-*&%=<>!?|~^@]/,Zt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function _e(v,z,I){return Nt=v,St=I,z}function Dn(v,z){var I=v.next();if('"'==I||"'"==I)return z.tokenize=function(v){return function(z,I){var R,F=!1;if(fe&&"@"==z.peek()&&z.match(Zt))return I.tokenize=Dn,_e("jsonld-keyword","meta");for(;null!=(R=z.next())&&(R!=v||F);)F=!F&&"\\"==R;return F||(I.tokenize=Dn),_e("string","string")}}(I),z.tokenize(v,z);if("."==I&&v.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return _e("number","number");if("."==I&&v.match(".."))return _e("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(I))return _e(I);if("="==I&&v.eat(">"))return _e("=>","operator");if("0"==I&&v.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return _e("number","number");if(/\d/.test(I))return v.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),_e("number","number");if("/"==I)return v.eat("*")?(z.tokenize=Ut,Ut(v,z)):v.eat("/")?(v.skipToEnd(),_e("comment","comment")):vi(v,z,1)?(function(v){for(var I,z=!1,F=!1;null!=(I=v.next());){if(!z){if("/"==I&&!F)return;"["==I?F=!0:F&&"]"==I&&(F=!1)}z=!z&&"\\"==I}}(v),v.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),_e("regexp","string-2")):(v.eat("="),_e("operator","operator",v.current()));if("`"==I)return z.tokenize=sn,sn(v,z);if("#"==I&&"!"==v.peek())return v.skipToEnd(),_e("meta","meta");if("#"==I&&v.eatWhile(he))return _e("variable","property");if("<"==I&&v.match("!--")||"-"==I&&v.match("->")&&!/\S/.test(v.string.slice(0,v.start)))return v.skipToEnd(),_e("comment","comment");if(bt.test(I))return(">"!=I||!z.lexical||">"!=z.lexical.type)&&(v.eat("=")?("!"==I||"="==I)&&v.eat("="):/[<>*+\-|&?]/.test(I)&&(v.eat(I),">"==I&&v.eat(I))),"?"==I&&v.eat(".")?_e("."):_e("operator","operator",v.current());if(he.test(I)){v.eatWhile(he);var F=v.current();if("."!=z.lastType){if(ve.propertyIsEnumerable(F)){var R=ve[F];return _e(R.type,R.style,F)}if("async"==F&&v.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return _e("async","keyword",F)}return _e("variable","variable",F)}}function Ut(v,z){for(var F,I=!1;F=v.next();){if("/"==F&&I){z.tokenize=Dn;break}I="*"==F}return _e("comment","comment")}function sn(v,z){for(var F,I=!1;null!=(F=v.next());){if(!I&&("`"==F||"$"==F&&v.eat("{"))){z.tokenize=Dn;break}I=!I&&"\\"==F}return _e("quasi","string-2",v.current())}function Jt(v,z){z.fatArrowAt&&(z.fatArrowAt=null);var I=v.string.indexOf("=>",v.start);if(!(I<0)){if(Q){var F=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(v.string.slice(v.start,I));F&&(I=F.index)}for(var R=0,me=!1,Ce=I-1;Ce>=0;--Ce){var Ve=v.string.charAt(Ce),Ie="([{}])".indexOf(Ve);if(Ie>=0&&Ie<3){if(!R){++Ce;break}if(0==--R){"("==Ve&&(me=!0);break}}else if(Ie>=3&&Ie<6)++R;else if(he.test(Ve))me=!0;else if(/["'\/`]/.test(Ve))for(;;--Ce){if(0==Ce)return;if(v.string.charAt(Ce-1)==Ve&&"\\"!=v.string.charAt(Ce-2)){Ce--;break}}else if(me&&!R){++Ce;break}}me&&!R&&(z.fatArrowAt=Ce)}}var An={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function V(v,z,I,F,R,me){this.indented=v,this.column=z,this.type=I,this.prev=R,this.info=me,null!=F&&(this.align=F)}function Le(v,z){if(!Qt)return!1;for(var I=v.localVars;I;I=I.next)if(I.name==z)return!0;for(var F=v.context;F;F=F.prev)for(I=F.vars;I;I=I.next)if(I.name==z)return!0}function K(v,z,I,F,R){var me=v.cc;for(O.state=v,O.stream=R,O.marked=null,O.cc=me,O.style=z,v.lexical.hasOwnProperty("align")||(v.lexical.align=!0);;)if((me.length?me.pop():ze?we:Me)(I,F)){for(;me.length&&me[me.length-1].lex;)me.pop()();return O.marked?O.marked:"variable"==I&&Le(v,F)?"variable-2":z}}var O={state:null,column:null,marked:null,cc:null};function B(){for(var v=arguments.length-1;v>=0;v--)O.cc.push(arguments[v])}function x(){return B.apply(null,arguments),!0}function Fe(v,z){for(var I=z;I;I=I.next)if(I.name==v)return!0;return!1}function ht(v){var z=O.state;if(O.marked="def",Qt){if(z.context)if("var"==z.lexical.info&&z.context&&z.context.block){var I=wt(v,z.context);if(null!=I)return void(z.context=I)}else if(!Fe(v,z.localVars))return void(z.localVars=new Lt(v,z.localVars));i.globalVars&&!Fe(v,z.globalVars)&&(z.globalVars=new Lt(v,z.globalVars))}}function wt(v,z){if(z){if(z.block){var I=wt(v,z.prev);return I?I==z.prev?z:new Yt(I,z.vars,!0):null}return Fe(v,z.vars)?z:new Yt(z.prev,new Lt(v,z.vars),!1)}return null}function an(v){return"public"==v||"private"==v||"protected"==v||"abstract"==v||"readonly"==v}function Yt(v,z,I){this.prev=v,this.vars=z,this.block=I}function Lt(v,z){this.name=v,this.next=z}var xt=new Lt("this",new Lt("arguments",null));function ke(){O.state.context=new Yt(O.state.context,O.state.localVars,!1),O.state.localVars=xt}function Ye(){O.state.context=new Yt(O.state.context,O.state.localVars,!0),O.state.localVars=null}function It(){O.state.localVars=O.state.context.vars,O.state.context=O.state.context.prev}function se(v,z){var I=function(){var F=O.state,R=F.indented;if("stat"==F.lexical.type)R=F.lexical.indented;else for(var me=F.lexical;me&&")"==me.type&&me.align;me=me.prev)R=me.indented;F.lexical=new V(R,O.stream.column(),v,null,F.lexical,z)};return I.lex=!0,I}function ne(){var v=O.state;v.lexical.prev&&(")"==v.lexical.type&&(v.indented=v.lexical.indented),v.lexical=v.lexical.prev)}function pe(v){return function z(I){return I==v?x():";"==v||"}"==I||")"==I||"]"==I?B():x(z)}}function Me(v,z){return"var"==v?x(se("vardef",z),zr,pe(";"),ne):"keyword a"==v?x(se("form"),ge,Me,ne):"keyword b"==v?x(se("form"),Me,ne):"keyword d"==v?O.stream.match(/^\s*$/,!1)?x():x(se("stat"),En,pe(";"),ne):"debugger"==v?x(pe(";")):"{"==v?x(se("}"),Ye,te,ne,It):";"==v?x():"if"==v?("else"==O.state.lexical.info&&O.state.cc[O.state.cc.length-1]==ne&&O.state.cc.pop()(),x(se("form"),ge,Me,ne,Fn)):"function"==v?x(X):"for"==v?x(se("form"),Ye,br,Me,It,ne):"class"==v||Q&&"interface"==z?(O.marked="keyword",x(se("form","class"==v?v:z),$r,ne)):"variable"==v?Q&&"declare"==z?(O.marked="keyword",x(Me)):Q&&("module"==z||"enum"==z||"type"==z)&&O.stream.match(/^\s*\w/,!1)?(O.marked="keyword","enum"==z?x(mi):"type"==z?x(ti,pe("operator"),be,pe(";")):x(se("form"),Tt,pe("{"),se("}"),te,ne,ne)):Q&&"namespace"==z?(O.marked="keyword",x(se("form"),we,Me,ne)):Q&&"abstract"==z?(O.marked="keyword",x(Me)):x(se("stat"),Xn):"switch"==v?x(se("form"),ge,pe("{"),se("}","switch"),Ye,te,ne,ne,It):"case"==v?x(we,pe(":")):"default"==v?x(pe(":")):"catch"==v?x(se("form"),ke,pi,Me,ne,It):"export"==v?x(se("stat"),We,ne):"import"==v?x(se("stat"),bn,ne):"async"==v?x(Me):"@"==z?x(we,Me):B(se("stat"),we,pe(";"),ne)}function pi(v){if("("==v)return x($t,pe(")"))}function we(v,z){return jn(v,z,!1)}function ft(v,z){return jn(v,z,!0)}function ge(v){return"("!=v?B():x(se(")"),En,pe(")"),ne)}function jn(v,z,I){if(O.state.fatArrowAt==O.stream.start){var F=I?Ei:qn;if("("==v)return x(ke,se(")"),Te($t,")"),ne,pe("=>"),F,It);if("variable"==v)return B(ke,Tt,pe("=>"),F,It)}var R=I?ln:zn;return An.hasOwnProperty(v)?x(R):"function"==v?x(X,R):"class"==v||Q&&"interface"==z?(O.marked="keyword",x(se("form"),Pn,ne)):"keyword c"==v||"async"==v?x(I?ft:we):"("==v?x(se(")"),En,pe(")"),ne,R):"operator"==v||"spread"==v?x(I?ft:we):"["==v?x(se("]"),ii,ne,R):"{"==v?Ln(cn,"}",null,R):"quasi"==v?B(jt,R):"new"==v?x(function(v){return function(z){return"."==z?x(v?gi:$n):"variable"==z&&Q?x(Cr,v?ln:zn):B(v?ft:we)}}(I)):x()}function En(v){return v.match(/[;\}\)\],]/)?B():B(we)}function zn(v,z){return","==v?x(En):ln(v,z,!1)}function ln(v,z,I){var F=0==I?zn:ln,R=0==I?we:ft;if("=>"==v)return x(ke,I?Ei:qn,It);if("operator"==v)return/\+\+|--/.test(z)||Q&&"!"==z?x(F):Q&&"<"==z&&O.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?x(se(">"),Te(be,">"),ne,F):"?"==z?x(we,pe(":"),R):x(R);if("quasi"==v)return B(jt,F);if(";"!=v){if("("==v)return Ln(ft,")","call",F);if("."==v)return x(jr,F);if("["==v)return x(se("]"),En,pe("]"),ne,F);if(Q&&"as"==z)return O.marked="keyword",x(be,F);if("regexp"==v)return O.state.lastType=O.marked="operator",O.stream.backUp(O.stream.pos-O.stream.start-1),x(R)}}function jt(v,z){return"quasi"!=v?B():"${"!=z.slice(z.length-2)?x(jt):x(En,qt)}function qt(v){if("}"==v)return O.marked="string-2",O.state.tokenize=sn,x(jt)}function qn(v){return Jt(O.stream,O.state),B("{"==v?Me:we)}function Ei(v){return Jt(O.stream,O.state),B("{"==v?Me:ft)}function $n(v,z){if("target"==z)return O.marked="keyword",x(zn)}function gi(v,z){if("target"==z)return O.marked="keyword",x(ln)}function Xn(v){return":"==v?x(ne,Me):B(zn,pe(";"),ne)}function jr(v){if("variable"==v)return O.marked="property",x()}function cn(v,z){return"async"==v?(O.marked="property",x(cn)):"variable"==v||"keyword"==O.style?(O.marked="property","get"==z||"set"==z?x(Kn):(Q&&O.state.fatArrowAt==O.stream.start&&(I=O.stream.match(/^\s*:\s*/,!1))&&(O.state.fatArrowAt=O.stream.pos+I[0].length),x(un))):"number"==v||"string"==v?(O.marked=fe?"property":O.style+" property",x(un)):"jsonld-keyword"==v?x(un):Q&&an(z)?(O.marked="keyword",x(cn)):"["==v?x(we,kt,pe("]"),un):"spread"==v?x(ft,un):"*"==z?(O.marked="keyword",x(cn)):":"==v?B(un):void 0;var I}function Kn(v){return"variable"!=v?B(un):(O.marked="property",x(X))}function un(v){return":"==v?x(ft):"("==v?B(X):void 0}function Te(v,z,I){function F(R,me){if(I?I.indexOf(R)>-1:","==R){var Ce=O.state.lexical;return"call"==Ce.info&&(Ce.pos=(Ce.pos||0)+1),x(function(Ve,Ie){return Ve==z||Ie==z?B():B(v)},F)}return R==z||me==z?x():I&&I.indexOf(";")>-1?B(v):x(pe(z))}return function(R,me){return R==z||me==z?x():B(v,F)}}function Ln(v,z,I){for(var F=3;F<arguments.length;F++)O.cc.push(arguments[F]);return x(se(z,I),Te(v,z),ne)}function te(v){return"}"==v?x():B(Me,te)}function kt(v,z){if(Q){if(":"==v)return x(be);if("?"==z)return x(kt)}}function Ne(v,z){if(Q&&(":"==v||"in"==z))return x(be)}function Ae(v){if(Q&&":"==v)return O.stream.match(/^\s*\w+\s+is\b/,!1)?x(we,Ue,be):x(be)}function Ue(v,z){if("is"==z)return O.marked="keyword",x()}function be(v,z){return"keyof"==z||"typeof"==z||"infer"==z||"readonly"==z?(O.marked="keyword",x("typeof"==z?ft:be)):"variable"==v||"void"==z?(O.marked="type",x(Ft)):"|"==z||"&"==z?x(be):"string"==v||"number"==v||"atom"==v?x(Ft):"["==v?x(se("]"),Te(be,"]",","),ne,Ft):"{"==v?x(se("}"),hn,ne,Ft):"("==v?x(Te(dn,")"),dt,Ft):"<"==v?x(Te(be,">"),be):"quasi"==v?B(Li,Ft):void 0}function dt(v){if("=>"==v)return x(be)}function hn(v){return v.match(/[\}\)\]]/)?x():","==v||";"==v?x(hn):B(Je,hn)}function Je(v,z){return"variable"==v||"keyword"==O.style?(O.marked="property",x(Je)):"?"==z||"number"==v||"string"==v?x(Je):":"==v?x(be):"["==v?x(pe("variable"),Ne,pe("]"),Je):"("==v?B(le,Je):v.match(/[;\}\)\],]/)?void 0:x()}function Li(v,z){return"quasi"!=v?B():"${"!=z.slice(z.length-2)?x(Li):x(be,Fi)}function Fi(v){if("}"==v)return O.marked="string-2",O.state.tokenize=sn,x(Li)}function dn(v,z){return"variable"==v&&O.stream.match(/^\s*[?:]/,!1)||"?"==z?x(dn):":"==v?x(be):"spread"==v?x(dn):B(be)}function Ft(v,z){return"<"==z?x(se(">"),Te(be,">"),ne,Ft):"|"==z||"."==v||"&"==z?x(be):"["==v?x(be,pe("]"),Ft):"extends"==z||"implements"==z?(O.marked="keyword",x(be)):"?"==z?x(be,pe(":"),be):void 0}function Cr(v,z){if("<"==z)return x(se(">"),Te(be,">"),ne,Ft)}function Pi(){return B(be,pt)}function pt(v,z){if("="==z)return x(be)}function zr(v,z){return"enum"==z?(O.marked="keyword",x(mi)):B(Tt,kt,fn,qr)}function Tt(v,z){return Q&&an(z)?(O.marked="keyword",x(Tt)):"variable"==v?(ht(z),x()):"spread"==v?x(Tt):"["==v?Ln(Ri,"]"):"{"==v?Ln(ei,"}"):void 0}function ei(v,z){return"variable"!=v||O.stream.match(/^\s*:/,!1)?("variable"==v&&(O.marked="property"),"spread"==v?x(Tt):"}"==v?B():"["==v?x(we,pe("]"),pe(":"),ei):x(pe(":"),Tt,fn)):(ht(z),x(fn))}function Ri(){return B(Tt,fn)}function fn(v,z){if("="==z)return x(ft)}function qr(v){if(","==v)return x(zr)}function Fn(v,z){if("keyword b"==v&&"else"==z)return x(se("form","else"),Me,ne)}function br(v,z){return"await"==z?x(br):"("==v?x(se(")"),Bi,ne):void 0}function Bi(v){return"var"==v?x(zr,Pt):"variable"==v?x(Pt):B(Pt)}function Pt(v,z){return")"==v?x():";"==v?x(Pt):"in"==z||"of"==z?(O.marked="keyword",x(we,Pt)):B(we,Pt)}function X(v,z){return"*"==z?(O.marked="keyword",x(X)):"variable"==v?(ht(z),x(X)):"("==v?x(ke,se(")"),Te($t,")"),ne,Ae,Me,It):Q&&"<"==z?x(se(">"),Te(Pi,">"),ne,X):void 0}function le(v,z){return"*"==z?(O.marked="keyword",x(le)):"variable"==v?(ht(z),x(le)):"("==v?x(ke,se(")"),Te($t,")"),ne,Ae,It):Q&&"<"==z?x(se(">"),Te(Pi,">"),ne,le):void 0}function ti(v,z){return"keyword"==v||"variable"==v?(O.marked="type",x(ti)):"<"==z?x(se(">"),Te(Pi,">"),ne):void 0}function $t(v,z){return"@"==z&&x(we,$t),"spread"==v?x($t):Q&&an(z)?(O.marked="keyword",x($t)):Q&&"this"==v?x(kt,fn):B(Tt,kt,fn)}function Pn(v,z){return"variable"==v?$r(v,z):Wt(v,z)}function $r(v,z){if("variable"==v)return ht(z),x(Wt)}function Wt(v,z){return"<"==z?x(se(">"),Te(Pi,">"),ne,Wt):"extends"==z||"implements"==z||Q&&","==v?("implements"==z&&(O.marked="keyword"),x(Q?be:we,Wt)):"{"==v?x(se("}"),Vt,ne):void 0}function Vt(v,z){return"async"==v||"variable"==v&&("static"==z||"get"==z||"set"==z||Q&&an(z))&&O.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(O.marked="keyword",x(Vt)):"variable"==v||"keyword"==O.style?(O.marked="property",x(ni,Vt)):"number"==v||"string"==v?x(ni,Vt):"["==v?x(we,kt,pe("]"),ni,Vt):"*"==z?(O.marked="keyword",x(Vt)):Q&&"("==v?B(le,Vt):";"==v||","==v?x(Vt):"}"==v?x():"@"==z?x(we,Vt):void 0}function ni(v,z){if("!"==z||"?"==z)return x(ni);if(":"==v)return x(be,fn);if("="==z)return x(ft);var I=O.state.lexical.prev;return B(I&&"interface"==I.info?le:X)}function We(v,z){return"*"==z?(O.marked="keyword",x(Xt,pe(";"))):"default"==z?(O.marked="keyword",x(we,pe(";"))):"{"==v?x(Te(J,"}"),Xt,pe(";")):B(Me)}function J(v,z){return"as"==z?(O.marked="keyword",x(pe("variable"))):"variable"==v?B(ft,J):void 0}function bn(v){return"string"==v?x():"("==v?B(we):"."==v?B(zn):B(Rn,Dt,Xt)}function Rn(v,z){return"{"==v?Ln(Rn,"}"):("variable"==v&&ht(z),"*"==z&&(O.marked="keyword"),x(ye))}function Dt(v){if(","==v)return x(Rn,Dt)}function ye(v,z){if("as"==z)return O.marked="keyword",x(Rn)}function Xt(v,z){if("from"==z)return O.marked="keyword",x(we)}function ii(v){return"]"==v?x():B(Te(ft,"]"))}function mi(){return B(se("form"),Tt,pe("{"),se("}"),Te(D,"}"),ne,ne)}function D(){return B(Tt,fn)}function vi(v,z,I){return z.tokenize==Dn&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(z.lastType)||"quasi"==z.lastType&&/\{\s*$/.test(v.string.slice(0,v.pos-(I||0)))}return ke.lex=Ye.lex=!0,It.lex=!0,ne.lex=!0,{startState:function(v){var z={tokenize:Dn,lastType:"sof",cc:[],lexical:new V((v||0)-it,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Yt(null,null,!1),indented:v||0};return i.globalVars&&"object"==typeof i.globalVars&&(z.globalVars=i.globalVars),z},token:function(v,z){if(v.sol()&&(z.lexical.hasOwnProperty("align")||(z.lexical.align=!1),z.indented=v.indentation(),Jt(v,z)),z.tokenize!=Ut&&v.eatSpace())return null;var I=z.tokenize(v,z);return"comment"==Nt?I:(z.lastType="operator"!=Nt||"++"!=St&&"--"!=St?Nt:"incdec",K(z,I,Nt,St,v))},indent:function(v,z){if(v.tokenize==Ut||v.tokenize==sn)return M.Pass;if(v.tokenize!=Dn)return 0;var R,I=z&&z.charAt(0),F=v.lexical;if(!/^\s*else\b/.test(z))for(var me=v.cc.length-1;me>=0;--me){var Ce=v.cc[me];if(Ce==ne)F=F.prev;else if(Ce!=Fn&&Ce!=It)break}for(;("stat"==F.type||"form"==F.type)&&("}"==I||(R=v.cc[v.cc.length-1])&&(R==zn||R==ln)&&!/^[,\.=+\-*:?[\(]/.test(z));)F=F.prev;ae&&")"==F.type&&"stat"==F.prev.type&&(F=F.prev);var Ve=F.type,Ie=I==Ve;return"vardef"==Ve?F.indented+("operator"==v.lastType||","==v.lastType?F.info.length+1:0):"form"==Ve&&"{"==I?F.indented:"form"==Ve?F.indented+it:"stat"==Ve?F.indented+(function(v,z){return"operator"==v.lastType||","==v.lastType||bt.test(z.charAt(0))||/[,.]/.test(z.charAt(0))}(v,z)?ae||it:0):"switch"!=F.info||Ie||0==i.doubleIndentSwitch?F.align?F.column+(Ie?0:1):F.indented+(Ie?0:it):F.indented+(/^(?:case|default)\b/.test(z)?it:2*it)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:ze?null:"/*",blockCommentEnd:ze?null:"*/",blockCommentContinue:ze?null:" * ",lineComment:ze?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:ze?"json":"javascript",jsonldMode:fe,jsonMode:ze,expressionAllowed:vi,skipExpression:function(v){K(v,"atom","atom","true",new M.StringStream("",2,null))}}}),M.registerHelper("wordChars","javascript",/[\w$]/),M.defineMIME("text/javascript","javascript"),M.defineMIME("text/ecmascript","javascript"),M.defineMIME("application/javascript","javascript"),M.defineMIME("application/x-javascript","javascript"),M.defineMIME("application/ecmascript","javascript"),M.defineMIME("application/json",{name:"javascript",json:!0}),M.defineMIME("application/x-json",{name:"javascript",json:!0}),M.defineMIME("application/manifest+json",{name:"javascript",json:!0}),M.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),M.defineMIME("text/typescript",{name:"javascript",typescript:!0}),M.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(U(7476))},6466:(fi,He,U)=>{"use strict";U.r(He),U.d(He,{ChartsModule:()=>Ud});var M=U(8583),nt=U(9763),i=U(7716),it=U(3858);class ve{attach(l){return this._attachedHost=l,l.attach(this)}detach(){let l=this._attachedHost;null!=l&&(this._attachedHost=null,l.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(l){this._attachedHost=l}}class bt extends ve{constructor(l,t,r,h){super(),this.component=l,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=h}}class Zt extends ve{constructor(l,t,r){super(),this.templateRef=l,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(l,t=this.context){return this.context=t,super.attach(l)}detach(){return this.context=void 0,super.detach()}}class on extends ve{constructor(l){super(),this.element=l instanceof i.SBq?l.nativeElement:l}}class Nt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(l){return l instanceof bt?(this._attachedPortal=l,this.attachComponentPortal(l)):l instanceof Zt?(this._attachedPortal=l,this.attachTemplatePortal(l)):this.attachDomPortal&&l instanceof on?(this._attachedPortal=l,this.attachDomPortal(l)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(l){this._disposeFn=l}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _e extends Nt{constructor(l,t,r,h,f){super(),this.outletElement=l,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=h,this.attachDomPortal=_=>{const S=_.element,T=this._document.createComment("dom-portal");S.parentNode.insertBefore(T,S),this.outletElement.appendChild(S),this._attachedPortal=_,super.setDisposeFn(()=>{T.parentNode&&T.parentNode.replaceChild(S,T)})},this._document=f}attachComponentPortal(l){const r=(l.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(l.component);let h;return l.viewContainerRef?(h=l.viewContainerRef.createComponent(r,l.viewContainerRef.length,l.injector||l.viewContainerRef.injector),this.setDisposeFn(()=>h.destroy())):(h=r.create(l.injector||this._defaultInjector),this._appRef.attachView(h.hostView),this.setDisposeFn(()=>{this._appRef.detachView(h.hostView),h.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(h)),this._attachedPortal=l,h}attachTemplatePortal(l){let t=l.viewContainerRef,r=t.createEmbeddedView(l.templateRef,l.context);return r.rootNodes.forEach(h=>this.outletElement.appendChild(h)),r.detectChanges(),this.setDisposeFn(()=>{let h=t.indexOf(r);-1!==h&&t.remove(h)}),this._attachedPortal=l,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(l){return l.hostView.rootNodes[0]}}let sn=(()=>{class s extends Nt{constructor(t,r,h){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new i.vpe,this.attachDomPortal=f=>{const _=f.element,S=this._document.createComment("dom-portal");f.setAttachedHost(this),_.parentNode.insertBefore(S,_),this._getRootNode().appendChild(_),this._attachedPortal=f,super.setDisposeFn(()=>{S.parentNode&&S.parentNode.replaceChild(_,S)})},this._document=h}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,f=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),_=r.createComponent(f,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(_.hostView.rootNodes[0]),super.setDisposeFn(()=>_.destroy()),this._attachedPortal=t,this._attachedRef=_,this.attached.emit(_),_}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i._Vd),i.Y36(i.s_b),i.Y36(M.K0))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.qOj]}),s})(),Jt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({}),s})();var V=U(9765),Le=U(5435),K=U(5257),O=U(6782),B=U(9490),x=U(5917),Fe=U(7574),ht=U(2759),wt=U(5319);class an extends wt.w{constructor(l,t){super()}schedule(l,t=0){return this}}class Yt extends an{constructor(l,t){super(l,t),this.scheduler=l,this.work=t,this.pending=!1}schedule(l,t=0){if(this.closed)return this;this.state=l;const r=this.id,h=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(h,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(h,this.id,t),this}requestAsyncId(l,t,r=0){return setInterval(l.flush.bind(l,this),r)}recycleAsyncId(l,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(l,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(l,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l,t){let h,r=!1;try{this.work(l)}catch(f){r=!0,h=!!f&&f||new Error(f)}if(r)return this.unsubscribe(),h}_unsubscribe(){const l=this.id,t=this.scheduler,r=t.actions,h=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==h&&r.splice(h,1),null!=l&&(this.id=this.recycleAsyncId(t,l,null)),this.delay=null}}let xt=(()=>{class s{constructor(t,r=s.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,h){return new this.SchedulerAction(this,t).schedule(h,r)}}return s.now=()=>Date.now(),s})();class ke extends xt{constructor(l,t=xt.now){super(l,()=>ke.delegate&&ke.delegate!==this?ke.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(l,t=0,r){return ke.delegate&&ke.delegate!==this?ke.delegate.schedule(l,t,r):super.schedule(l,t,r)}flush(l){const{actions:t}=this;if(this.active)return void t.push(l);let r;this.active=!0;do{if(r=l.execute(l.state,l.delay))break}while(l=t.shift());if(this.active=!1,r){for(;l=t.shift();)l.unsubscribe();throw r}}}const It=new class extends ke{flush(l){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,h=-1,f=t.length;l=l||t.shift();do{if(r=l.execute(l.state,l.delay))break}while(++h<f&&(l=t.shift()));if(this.active=!1,r){for(;++h<f&&(l=t.shift());)l.unsubscribe();throw r}}}(class extends Yt{constructor(l,t){super(l,t),this.scheduler=l,this.work=t}requestAsyncId(l,t,r=0){return null!==r&&r>0?super.requestAsyncId(l,t,r):(l.actions.push(this),l.scheduled||(l.scheduled=requestAnimationFrame(()=>l.flush(null))))}recycleAsyncId(l,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(l,t,r);0===l.actions.length&&(cancelAnimationFrame(t),l.scheduled=void 0)}});let ne=1;const pe=Promise.resolve(),Me={};function pi(s){return s in Me&&(delete Me[s],!0)}const we={setImmediate(s){const l=ne++;return Me[l]=!0,pe.then(()=>pi(l)&&s()),l},clearImmediate(s){pi(s)}},En=new class extends ke{flush(l){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,h=-1,f=t.length;l=l||t.shift();do{if(r=l.execute(l.state,l.delay))break}while(++h<f&&(l=t.shift()));if(this.active=!1,r){for(;++h<f&&(l=t.shift());)l.unsubscribe();throw r}}}(class extends Yt{constructor(l,t){super(l,t),this.scheduler=l,this.work=t}requestAsyncId(l,t,r=0){return null!==r&&r>0?super.requestAsyncId(l,t,r):(l.actions.push(this),l.scheduled||(l.scheduled=we.setImmediate(l.flush.bind(l,null))))}recycleAsyncId(l,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(l,t,r);0===l.actions.length&&(we.clearImmediate(t),l.scheduled=void 0)}});function ln(s){return!!s&&(s instanceof Fe.y||"function"==typeof s.lift&&"function"==typeof s.subscribe)}var jt=U(7393);function qt(s,l){return t=>t.lift(new qn(s,l))}class qn{constructor(l,t){this.compare=l,this.keySelector=t}call(l,t){return t.subscribe(new Ei(l,this.compare,this.keySelector))}}class Ei extends jt.L{constructor(l,t,r){super(l),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(l,t){return l===t}_next(l){let t;try{const{keySelector:h}=this;t=h?h(l):l}catch(h){return this.destination.error(h)}let r=!1;if(this.hasKey)try{const{compare:h}=this;r=h(this.key,t)}catch(h){return this.destination.error(h)}else this.hasKey=!0;r||(this.key=t,this.destination.next(l))}}const $n=new ke(Yt);var gi=U(5345);class jr{constructor(l){this.durationSelector=l}call(l,t){return t.subscribe(new cn(l,this.durationSelector))}}class cn extends gi.Ds{constructor(l,t){super(l),this.durationSelector=t,this.hasValue=!1}_next(l){if(this.value=l,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:h}=this;t=h(l)}catch(h){return this.destination.error(h)}const r=(0,gi.ft)(t,new gi.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:l,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(l))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Kn=U(9796);function un(s){return!(0,Kn.k)(s)&&s-parseFloat(s)+1>=0}var Te=U(4869);function te(s){const{index:l,period:t,subscriber:r}=s;if(r.next(l),!r.closed){if(-1===t)return r.complete();s.index=l+1,this.schedule(s,t)}}function kt(s,l=$n){return function(s){return function(t){return t.lift(new jr(s))}}(()=>function(s=0,l,t){let r=-1;return un(l)?r=Number(l)<1?1:Number(l):(0,Te.K)(l)&&(t=l),(0,Te.K)(t)||(t=$n),new Fe.y(h=>{const f=un(s)?s:+s-t.now();return t.schedule(te,f,{index:0,period:r,subscriber:h})})}(s,l))}var Ne=U(9761);class Ue{call(l,t){return t.subscribe(new be(l))}}class be extends jt.L{constructor(l){super(l),this.hasPrev=!1}_next(l){let t;this.hasPrev?t=[this.prev,l]:this.hasPrev=!0,this.prev=l,t&&this.destination.next(t)}}var dt=U(3190);const Fi=new class extends ke{}(class extends Yt{constructor(l,t){super(l,t),this.scheduler=l,this.work=t}schedule(l,t=0){return t>0?super.schedule(l,t):(this.delay=t,this.state=l,this.scheduler.flush(this),this)}execute(l,t){return t>0||this.closed?super.execute(l,t):this._execute(l,t)}requestAsyncId(l,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(l,t,r):l.flush(this)}});var dn=U(9193);class pt{constructor(l,t,r){this.kind=l,this.value=t,this.error=r,this.hasValue="N"===l}observe(l){switch(this.kind){case"N":return l.next&&l.next(this.value);case"E":return l.error&&l.error(this.error);case"C":return l.complete&&l.complete()}}do(l,t,r){switch(this.kind){case"N":return l&&l(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(l,t,r){return l&&"function"==typeof l.next?this.observe(l):this.do(l,t,r)}toObservable(){switch(this.kind){case"N":return(0,x.of)(this.value);case"E":return s=this.error,new Fe.y(t=>t.error(s));case"C":return(0,dn.c)()}var s;throw new Error("unexpected notification kind value")}static createNext(l){return void 0!==l?new pt("N",l):pt.undefinedValueNotification}static createError(l){return new pt("E",void 0,l)}static createComplete(){return pt.completeNotification}}pt.completeNotification=new pt("C"),pt.undefinedValueNotification=new pt("N",void 0);class ei extends jt.L{constructor(l,t,r=0){super(l),this.scheduler=t,this.delay=r}static dispatch(l){const{notification:t,destination:r}=l;t.observe(r),this.unsubscribe()}scheduleMessage(l){this.destination.add(this.scheduler.schedule(ei.dispatch,this.delay,new Ri(l,this.destination)))}_next(l){this.scheduleMessage(pt.createNext(l))}_error(l){this.scheduleMessage(pt.createError(l)),this.unsubscribe()}_complete(){this.scheduleMessage(pt.createComplete()),this.unsubscribe()}}class Ri{constructor(l,t){this.notification=l,this.destination=t}}var fn=U(7971),qr=U(8858);class Fn extends V.xQ{constructor(l=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=l<1?1:l,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(l){if(!this.isStopped){const t=this._events;t.push(l),t.length>this._bufferSize&&t.shift()}super.next(l)}nextTimeWindow(l){this.isStopped||(this._events.push(new br(this._getNow(),l)),this._trimBufferThenGetEvents()),super.next(l)}_subscribe(l){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),h=this.scheduler,f=r.length;let _;if(this.closed)throw new fn.N;if(this.isStopped||this.hasError?_=wt.w.EMPTY:(this.observers.push(l),_=new qr.W(this,l)),h&&l.add(l=new ei(l,h)),t)for(let S=0;S<f&&!l.closed;S++)l.next(r[S]);else for(let S=0;S<f&&!l.closed;S++)l.next(r[S].value);return this.hasError?l.error(this.thrownError):this.isStopped&&l.complete(),_}_getNow(){return(this.scheduler||Fi).now()}_trimBufferThenGetEvents(){const l=this._getNow(),t=this._bufferSize,r=this._windowTime,h=this._events,f=h.length;let _=0;for(;_<f&&!(l-h[_].time<r);)_++;return f>t&&(_=Math.max(_,f-t)),_>0&&h.splice(0,_),h}}class br{constructor(l,t){this.time=l,this.value=t}}var X=U(521),le=U(946);class Pn extends class{}{constructor(l){super(),this._data=l}connect(){return ln(this._data)?this._data:(0,x.of)(this._data)}disconnect(){}}class Wt{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(l,t,r,h,f){l.forEachOperation((_,S,T)=>{let E,q;null==_.previousIndex?(E=this._insertView(()=>r(_,S,T),T,t,h(_)),q=E?1:0):null==T?(this._detachAndCacheView(S,t),q=3):(E=this._moveView(S,T,t,h(_)),q=2),f&&f({context:null==E?void 0:E.context,operation:q,record:_})})}detach(){for(const l of this._viewCache)l.destroy();this._viewCache=[]}_insertView(l,t,r,h){const f=this._insertViewFromCache(t,r);if(f)return void(f.context.$implicit=h);const _=l();return r.createEmbeddedView(_.templateRef,_.context,_.index)}_detachAndCacheView(l,t){const r=t.detach(l);this._maybeCacheView(r,t)}_moveView(l,t,r,h){const f=r.get(l);return r.move(f,t),f.context.$implicit=h,f}_maybeCacheView(l,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(l);else{const r=t.indexOf(l);-1===r?l.destroy():t.remove(r)}}_insertViewFromCache(l,t){const r=this._viewCache.pop();return r&&t.insert(r,l),r||null}}const J=new i.OlP("_ViewRepeater"),bn=["contentWrapper"],Rn=["*"],Dt=new i.OlP("VIRTUAL_SCROLL_STRATEGY");class ye{constructor(l,t,r){this._scrolledIndexChange=new V.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(qt()),this._viewport=null,this._itemSize=l,this._minBufferPx=t,this._maxBufferPx=r}attach(l){this._viewport=l,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(l,t,r){this._itemSize=l,this._minBufferPx=t,this._maxBufferPx=r,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(l,t){this._viewport&&this._viewport.scrollToOffset(l*this._itemSize,t)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const l=this._viewport.getRenderedRange(),t={start:l.start,end:l.end},r=this._viewport.getViewportSize(),h=this._viewport.getDataLength();let f=this._viewport.measureScrollOffset(),_=this._itemSize>0?f/this._itemSize:0;if(t.end>h){const T=Math.ceil(r/this._itemSize),E=Math.max(0,Math.min(_,h-T));_!=E&&(_=E,f=E*this._itemSize,t.start=Math.floor(_)),t.end=Math.max(0,Math.min(h,t.start+T))}const S=f-t.start*this._itemSize;if(S<this._minBufferPx&&0!=t.start){const T=Math.ceil((this._maxBufferPx-S)/this._itemSize);t.start=Math.max(0,t.start-T),t.end=Math.min(h,Math.ceil(_+(r+this._minBufferPx)/this._itemSize))}else{const T=t.end*this._itemSize-(f+r);if(T<this._minBufferPx&&t.end!=h){const E=Math.ceil((this._maxBufferPx-T)/this._itemSize);E>0&&(t.end=Math.min(h,t.end+E),t.start=Math.max(0,Math.floor(_-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(_))}}function Xt(s){return s._scrollStrategy}let ii=(()=>{class s{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new ye(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=(0,B.su)(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=(0,B.su)(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=(0,B.su)(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275dir=i.lG2({type:s,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[i._Bn([{provide:Dt,useFactory:Xt,deps:[(0,i.Gpc)(()=>s)]}]),i.TTD]}),s})(),D=(()=>{class s{constructor(t,r,h){this._ngZone=t,this._platform=r,this._scrolled=new V.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=h}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Fe.y(r=>{this._globalSubscription||this._addGlobalListener();const h=t>0?this._scrolled.pipe(kt(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{h.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,x.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const h=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,Le.h)(f=>!f||h.indexOf(f)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((h,f)=>{this._scrollableContainsElement(f,t)&&r.push(f)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let h=(0,B.fI)(r),f=t.getElementRef().nativeElement;do{if(h==f)return!0}while(h=h.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,ht.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(i.R0b),i.LFG(X.t4),i.LFG(M.K0,8))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(i.R0b),i.LFG(X.t4),i.LFG(M.K0,8))},token:s,providedIn:"root"}),s})(),oe=(()=>{class s{constructor(t,r,h,f){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=h,this.dir=f,this._destroyed=new V.xQ,this._elementScrolled=new Fe.y(_=>this.ngZone.runOutsideAngular(()=>(0,ht.R)(this.elementRef.nativeElement,"scroll").pipe((0,O.R)(this._destroyed)).subscribe(_)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,h=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=h?t.end:t.start),null==t.right&&(t.right=h?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),h&&0!=(0,X._i)()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==(0,X._i)()?t.left=t.right:1==(0,X._i)()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;(0,X.Mq)()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",h="right",f=this.elementRef.nativeElement;if("top"==t)return f.scrollTop;if("bottom"==t)return f.scrollHeight-f.clientHeight-f.scrollTop;const _=this.dir&&"rtl"==this.dir.value;return"start"==t?t=_?h:r:"end"==t&&(t=_?r:h),_&&2==(0,X._i)()?t==r?f.scrollWidth-f.clientWidth-f.scrollLeft:f.scrollLeft:_&&1==(0,X._i)()?t==r?f.scrollLeft+f.scrollWidth-f.clientWidth:-f.scrollLeft:t==r?f.scrollLeft:f.scrollWidth-f.clientWidth-f.scrollLeft}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(D),i.Y36(i.R0b),i.Y36(le.Is,8))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),s})(),v=(()=>{class s{constructor(t,r,h){this._platform=t,this._change=new V.xQ,this._changeListener=f=>{this._change.next(f)},this._document=h,r.runOutsideAngular(()=>{if(t.isBrowser){const f=this._getWindow();f.addEventListener("resize",this._changeListener),f.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:h}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+h,right:t.left+r,height:h,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),h=t.documentElement,f=h.getBoundingClientRect();return{top:-f.top||t.body.scrollTop||r.scrollY||h.scrollTop||0,left:-f.left||t.body.scrollLeft||r.scrollX||h.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(kt(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(X.t4),i.LFG(i.R0b),i.LFG(M.K0,8))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(X.t4),i.LFG(i.R0b),i.LFG(M.K0,8))},token:s,providedIn:"root"}),s})();const I="undefined"!=typeof requestAnimationFrame?It:En;let F=(()=>{class s extends oe{constructor(t,r,h,f,_,S,T){super(t,S,h,_),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=f,this._detachedSubject=new V.xQ,this._renderedRangeSubject=new V.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Fe.y(E=>this._scrollStrategy.scrolledIndexChange.subscribe(q=>Promise.resolve().then(()=>this.ngZone.run(()=>E.next(q))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=wt.w.EMPTY,this._viewportChanges=T.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=(0,B.Ig)(t)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,Ne.O)(null),kt(0,I)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe((0,O.R)(this._detachedSubject)).subscribe(r=>{const h=r.length;h!==this._dataLength&&(this._dataLength=h,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function(s,l){return s.start==l.start&&s.end==l.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){const f="horizontal"==this.orientation,_=f?"X":"Y";let T=`translate${_}(${Number((f&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(T+=` translate${_}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=T&&(this._renderedContentTransform=T,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const h={behavior:r};"horizontal"===this.orientation?h.start=t:h.top=t,this.scrollTo(h)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(Dt,8),i.Y36(le.Is,8),i.Y36(D),i.Y36(v))},s.\u0275cmp=i.Xpm({type:s,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&i.Gf(bn,7),2&t){let h;i.iGM(h=i.CRH())&&(r._contentWrapper=h.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&i.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[i._Bn([{provide:oe,useExisting:s}]),i.qOj],ngContentSelectors:Rn,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(i.F$t(),i.TgZ(0,"div",0,1),i.Hsn(2),i.qZA(),i._UZ(3,"div",2)),2&t&&(i.xp6(3),i.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),s})();function R(s,l,t){if(!t.getBoundingClientRect)return 0;const h=t.getBoundingClientRect();return"horizontal"===s?"start"===l?h.left:h.right:"start"===l?h.top:h.bottom}let me=(()=>{class s{constructor(t,r,h,f,_,S){this._viewContainerRef=t,this._template=r,this._differs=h,this._viewRepeater=f,this._viewport=_,this.viewChange=new V.xQ,this._dataSourceChanges=new V.xQ,this.dataStream=this._dataSourceChanges.pipe((0,Ne.O)(null),s=>s.lift(new Ue),(0,dt.w)(([T,E])=>this._changeDataSource(T,E)),function(s,l,t){let r;return r=s&&"object"==typeof s?s:{bufferSize:s,windowTime:l,refCount:!1,scheduler:t},h=>h.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:l=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let h,_,f=0,S=!1,T=!1;return function(q){let ue;f++,!h||S?(S=!1,h=new Fn(s,l,r),ue=h.subscribe(this),_=q.subscribe({next(ut){h.next(ut)},error(ut){S=!0,h.error(ut)},complete(){T=!0,_=void 0,h.complete()}}),T&&(_=void 0)):ue=h.subscribe(this),this.add(()=>{f--,ue.unsubscribe(),ue=void 0,_&&!T&&t&&0===f&&(_.unsubscribe(),_=void 0,h=void 0)})}}(r))}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new V.xQ,this.dataStream.subscribe(T=>{this._data=T,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,O.R)(this._destroyed)).subscribe(T=>{this._renderedRange=T,S.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function(s){return s&&"function"==typeof s.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new Pn(ln(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(r,h)=>t(r+(this._renderedRange?this._renderedRange.start:0),h):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=(0,B.su)(t)}measureRangeSize(t,r){if(t.start>=t.end)return 0;const h=t.start-this._renderedRange.start,f=t.end-t.start;let _,S;for(let T=0;T<f;T++){const E=this._viewContainerRef.get(T+h);if(E&&E.rootNodes.length){_=S=E.rootNodes[0];break}}for(let T=f-1;T>-1;T--){const E=this._viewContainerRef.get(T+h);if(E&&E.rootNodes.length){S=E.rootNodes[E.rootNodes.length-1];break}}return _&&S?R(r,"end",S)-R(r,"start",_):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,r)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,r):r)),this._needsUpdate=!0)}_changeDataSource(t,r){return t&&t.disconnect(this),this._needsUpdate=!0,r?r.connect(this):(0,x.of)()}_updateContext(){const t=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const h=this._viewContainerRef.get(r);h.context.index=this._renderedRange.start+r,h.context.count=t,this._updateComputedContextProperties(h.context),h.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(f,_,S)=>this._getEmbeddedViewArgs(f,S),f=>f.item),t.forEachIdentityChange(f=>{this._viewContainerRef.get(f.currentIndex).context.$implicit=f.item});const r=this._data.length;let h=this._viewContainerRef.length;for(;h--;){const f=this._viewContainerRef.get(h);f.context.index=this._renderedRange.start+h,f.context.count=r,this._updateComputedContextProperties(f.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,r){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:r}}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(J),i.Y36(F,4),i.Y36(i.R0b))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[i._Bn([{provide:J,useClass:Wt}])]}),s})(),Ce=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({}),s})(),Ve=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,X.ud,Ce],le.vT,Ce]}),s})();var Ie=U(6682);class Qo{constructor(l,t){this.predicate=l,this.inclusive=t}call(l,t){return t.subscribe(new Hi(l,this.predicate,this.inclusive))}}class Hi extends jt.L{constructor(l,t,r){super(l),this.predicate=t,this.inclusive=r,this.index=0}_next(l){const t=this.destination;let r;try{r=this.predicate(l,this.index++)}catch(h){return void t.error(h)}this.nextOrComplete(l,r)}nextOrComplete(l,t){const r=this.destination;Boolean(t)?r.next(l):(this.inclusive&&r.next(l),r.complete())}}const ho=(0,X.Mq)();class fo{constructor(l,t){this._viewportRuler=l,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const l=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=l.style.left||"",this._previousHTMLStyles.top=l.style.top||"",l.style.left=(0,B.HM)(-this._previousScrollPosition.left),l.style.top=(0,B.HM)(-this._previousScrollPosition.top),l.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const l=this._document.documentElement,r=l.style,h=this._document.body.style,f=r.scrollBehavior||"",_=h.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,l.classList.remove("cdk-global-scrollblock"),ho&&(r.scrollBehavior=h.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ho&&(r.scrollBehavior=f,h.scrollBehavior=_)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class oi{constructor(l,t,r,h){this._scrollDispatcher=l,this._ngZone=t,this._viewportRuler=r,this._config=h,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(l){this._overlayRef=l}enable(){if(this._scrollSubscription)return;const l=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=l.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=l.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gt{enable(){}disable(){}attach(){}}function mn(s,l){return l.some(t=>s.bottom<t.top||s.top>t.bottom||s.right<t.left||s.left>t.right)}function xn(s,l){return l.some(t=>s.top<t.top||s.bottom>t.bottom||s.left<t.left||s.right>t.right)}class Nr{constructor(l,t,r,h){this._scrollDispatcher=l,this._viewportRuler=t,this._ngZone=r,this._config=h,this._scrollSubscription=null}attach(l){this._overlayRef=l}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:h}=this._viewportRuler.getViewportSize();mn(t,[{width:r,height:h,bottom:h,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ya=(()=>{class s{constructor(t,r,h,f){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=h,this.noop=()=>new gt,this.close=_=>new oi(this._scrollDispatcher,this._ngZone,this._viewportRuler,_),this.block=()=>new fo(this._viewportRuler,this._document),this.reposition=_=>new Nr(this._scrollDispatcher,this._viewportRuler,this._ngZone,_),this._document=f}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(D),i.LFG(v),i.LFG(i.R0b),i.LFG(M.K0))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(D),i.LFG(v),i.LFG(i.R0b),i.LFG(M.K0))},token:s,providedIn:"root"}),s})();class po{constructor(l){if(this.scrollStrategy=new gt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,l){const t=Object.keys(l);for(const r of t)void 0!==l[r]&&(this[r]=l[r])}}}class Ge{constructor(l,t,r,h,f){this.offsetX=r,this.offsetY=h,this.panelClass=f,this.originX=l.originX,this.originY=l.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class go{constructor(l,t){this.connectionPair=l,this.scrollableViewProperties=t}}let Ir=(()=>{class s{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(M.K0))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(M.K0))},token:s,providedIn:"root"}),s})(),us=(()=>{class s extends Ir{constructor(t){super(t),this._keydownListener=r=>{const h=this._attachedOverlays;for(let f=h.length-1;f>-1;f--)if(h[f]._keydownEvents.observers.length>0){h[f]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(M.K0))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(M.K0))},token:s,providedIn:"root"}),s})(),vo=(()=>{class s extends Ir{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=h=>{this._pointerDownEventTarget=(0,X.sA)(h)},this._clickListener=h=>{const f=(0,X.sA)(h),_="click"===h.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:f;this._pointerDownEventTarget=null;const S=this._attachedOverlays.slice();for(let T=S.length-1;T>-1;T--){const E=S[T];if(!(E._outsidePointerEvents.observers.length<1)&&E.hasAttached()){if(E.overlayElement.contains(f)||E.overlayElement.contains(_))break;E._outsidePointerEvents.next(h)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(M.K0),i.LFG(X.t4))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(M.K0),i.LFG(X.t4))},token:s,providedIn:"root"}),s})(),Zi=(()=>{class s{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||(0,X.Oy)()){const h=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let f=0;f<h.length;f++)h[f].parentNode.removeChild(h[f])}const r=this._document.createElement("div");r.classList.add(t),(0,X.Oy)()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(M.K0),i.LFG(X.t4))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(M.K0),i.LFG(X.t4))},token:s,providedIn:"root"}),s})();class zi{constructor(l,t,r,h,f,_,S,T,E){this._portalOutlet=l,this._host=t,this._pane=r,this._config=h,this._ngZone=f,this._keyboardDispatcher=_,this._document=S,this._location=T,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new V.xQ,this._attachments=new V.xQ,this._detachments=new V.xQ,this._locationChanges=wt.w.EMPTY,this._backdropClickHandler=q=>this._backdropClick.next(q),this._keydownEvents=new V.xQ,this._outsidePointerEvents=new V.xQ,h.scrollStrategy&&(this._scrollStrategy=h.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=h.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(l){let t=this._portalOutlet.attach(l);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,K.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const l=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),l}dispose(){const l=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,l&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(l){l!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=l,this.hasAttached()&&(l.attach(this),this.updatePosition()))}updateSize(l){this._config=Object.assign(Object.assign({},this._config),l),this._updateElementSize()}setDirection(l){this._config=Object.assign(Object.assign({},this._config),{direction:l}),this._updateElementDirection()}addPanelClass(l){this._pane&&this._toggleClasses(this._pane,l,!0)}removePanelClass(l){this._pane&&this._toggleClasses(this._pane,l,!1)}getDirection(){const l=this._config.direction;return l?"string"==typeof l?l:l.value:"ltr"}updateScrollStrategy(l){l!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=l,this.hasAttached()&&(l.attach(this),l.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const l=this._pane.style;l.width=(0,B.HM)(this._config.width),l.height=(0,B.HM)(this._config.height),l.minWidth=(0,B.HM)(this._config.minWidth),l.minHeight=(0,B.HM)(this._config.minHeight),l.maxWidth=(0,B.HM)(this._config.maxWidth),l.maxHeight=(0,B.HM)(this._config.maxHeight)}_togglePointerEvents(l){this._pane.style.pointerEvents=l?"":"none"}_attachBackdrop(){const l="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(l)})}):this._backdropElement.classList.add(l)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const l=this._backdropElement;if(!l)return;let t;const r=()=>{l&&(l.removeEventListener("click",this._backdropClickHandler),l.removeEventListener("transitionend",r),this._disposeBackdrop(l)),this._config.backdropClass&&this._toggleClasses(l,this._config.backdropClass,!1),clearTimeout(t)};l.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{l.addEventListener("transitionend",r)}),l.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(l,t,r){const h=l.classList;(0,B.Eq)(t).forEach(f=>{f&&(r?h.add(f):h.remove(f))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const l=this._ngZone.onStable.pipe((0,O.R)((0,Ie.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),l.unsubscribe())})})}_disposeScrollStrategy(){const l=this._scrollStrategy;l&&(l.disable(),l.detach&&l.detach())}_disposeBackdrop(l){l&&(l.parentNode&&l.parentNode.removeChild(l),this._backdropElement===l&&(this._backdropElement=null))}}const Ui="cdk-overlay-connected-position-bounding-box",hs=/([A-Za-z%]+)$/;class Ji{constructor(l,t,r,h,f){this._viewportRuler=t,this._document=r,this._platform=h,this._overlayContainer=f,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V.xQ,this._resizeSubscription=wt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(l)}get positions(){return this._preferredPositions}attach(l){this._validatePositions(),l.hostElement.classList.add(Ui),this._overlayRef=l,this._boundingBox=l.hostElement,this._pane=l.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const l=this._originRect,t=this._overlayRect,r=this._viewportRect,h=[];let f;for(let _ of this._preferredPositions){let S=this._getOriginPoint(l,_),T=this._getOverlayPoint(S,t,_),E=this._getOverlayFit(T,t,r,_);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(_,S);this._canFitWithFlexibleDimensions(E,T,r)?h.push({position:_,origin:S,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(S,_)}):(!f||f.overlayFit.visibleArea<E.visibleArea)&&(f={overlayFit:E,overlayPoint:T,originPoint:S,position:_,overlayRect:t})}if(h.length){let _=null,S=-1;for(const T of h){const E=T.boundingBoxRect.width*T.boundingBoxRect.height*(T.position.weight||1);E>S&&(S=E,_=T)}return this._isPushed=!1,void this._applyPosition(_.position,_.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(f.position,f.originPoint);this._applyPosition(f.position,f.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&si(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ui),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const l=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,l);this._applyPosition(l,t)}}withScrollableContainers(l){return this._scrollables=l,this}withPositions(l){return this._preferredPositions=l,-1===l.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(l){return this._viewportMargin=l,this}withFlexibleDimensions(l=!0){return this._hasFlexibleDimensions=l,this}withGrowAfterOpen(l=!0){return this._growAfterOpen=l,this}withPush(l=!0){return this._canPush=l,this}withLockedPosition(l=!0){return this._positionLocked=l,this}setOrigin(l){return this._origin=l,this}withDefaultOffsetX(l){return this._offsetX=l,this}withDefaultOffsetY(l){return this._offsetY=l,this}withTransformOriginOn(l){return this._transformOriginSelector=l,this}_getOriginPoint(l,t){let r,h;if("center"==t.originX)r=l.left+l.width/2;else{const f=this._isRtl()?l.right:l.left,_=this._isRtl()?l.left:l.right;r="start"==t.originX?f:_}return h="center"==t.originY?l.top+l.height/2:"top"==t.originY?l.top:l.bottom,{x:r,y:h}}_getOverlayPoint(l,t,r){let h,f;return h="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,f="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:l.x+h,y:l.y+f}}_getOverlayFit(l,t,r,h){const f=fs(t);let{x:_,y:S}=l,T=this._getOffset(h,"x"),E=this._getOffset(h,"y");T&&(_+=T),E&&(S+=E);let ut=0-S,At=S+f.height-r.height,Et=this._subtractOverflows(f.width,0-_,_+f.width-r.width),Zr=this._subtractOverflows(f.height,ut,At),Ur=Et*Zr;return{visibleArea:Ur,isCompletelyWithinViewport:f.width*f.height===Ur,fitsInViewportVertically:Zr===f.height,fitsInViewportHorizontally:Et==f.width}}_canFitWithFlexibleDimensions(l,t,r){if(this._hasFlexibleDimensions){const h=r.bottom-t.y,f=r.right-t.x,_=ds(this._overlayRef.getConfig().minHeight),S=ds(this._overlayRef.getConfig().minWidth),E=l.fitsInViewportHorizontally||null!=S&&S<=f;return(l.fitsInViewportVertically||null!=_&&_<=h)&&E}return!1}_pushOverlayOnScreen(l,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:l.x+this._previousPushAmount.x,y:l.y+this._previousPushAmount.y};const h=fs(t),f=this._viewportRect,_=Math.max(l.x+h.width-f.width,0),S=Math.max(l.y+h.height-f.height,0),T=Math.max(f.top-r.top-l.y,0),E=Math.max(f.left-r.left-l.x,0);let q=0,ue=0;return q=h.width<=f.width?E||-_:l.x<this._viewportMargin?f.left-r.left-l.x:0,ue=h.height<=f.height?T||-S:l.y<this._viewportMargin?f.top-r.top-l.y:0,this._previousPushAmount={x:q,y:ue},{x:l.x+q,y:l.y+ue}}_applyPosition(l,t){if(this._setTransformOrigin(l),this._setOverlayElementStyles(t,l),this._setBoundingBoxStyles(t,l),l.panelClass&&this._addPanelClasses(l.panelClass),this._lastPosition=l,this._positionChanges.observers.length){const r=this._getScrollVisibility(),h=new go(l,r);this._positionChanges.next(h)}this._isInitialRender=!1}_setTransformOrigin(l){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,h=l.overlayY;r="center"===l.overlayX?"center":this._isRtl()?"start"===l.overlayX?"right":"left":"start"===l.overlayX?"left":"right";for(let f=0;f<t.length;f++)t[f].style.transformOrigin=`${r} ${h}`}_calculateBoundingBoxRect(l,t){const r=this._viewportRect,h=this._isRtl();let f,_,S,q,ue,ut;if("top"===t.overlayY)_=l.y,f=r.height-_+this._viewportMargin;else if("bottom"===t.overlayY)S=r.height-l.y+2*this._viewportMargin,f=r.height-S+this._viewportMargin;else{const At=Math.min(r.bottom-l.y+r.top,l.y),Et=this._lastBoundingBoxSize.height;f=2*At,_=l.y-At,f>Et&&!this._isInitialRender&&!this._growAfterOpen&&(_=l.y-Et/2)}if("end"===t.overlayX&&!h||"start"===t.overlayX&&h)ut=r.width-l.x+this._viewportMargin,q=l.x-this._viewportMargin;else if("start"===t.overlayX&&!h||"end"===t.overlayX&&h)ue=l.x,q=r.right-l.x;else{const At=Math.min(r.right-l.x+r.left,l.x),Et=this._lastBoundingBoxSize.width;q=2*At,ue=l.x-At,q>Et&&!this._isInitialRender&&!this._growAfterOpen&&(ue=l.x-Et/2)}return{top:_,left:ue,bottom:S,right:ut,width:q,height:f}}_setBoundingBoxStyles(l,t){const r=this._calculateBoundingBoxRect(l,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const h={};if(this._hasExactPosition())h.top=h.left="0",h.bottom=h.right=h.maxHeight=h.maxWidth="",h.width=h.height="100%";else{const f=this._overlayRef.getConfig().maxHeight,_=this._overlayRef.getConfig().maxWidth;h.height=(0,B.HM)(r.height),h.top=(0,B.HM)(r.top),h.bottom=(0,B.HM)(r.bottom),h.width=(0,B.HM)(r.width),h.left=(0,B.HM)(r.left),h.right=(0,B.HM)(r.right),h.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",h.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",f&&(h.maxHeight=(0,B.HM)(f)),_&&(h.maxWidth=(0,B.HM)(_))}this._lastBoundingBoxSize=r,si(this._boundingBox.style,h)}_resetBoundingBoxStyles(){si(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){si(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(l,t){const r={},h=this._hasExactPosition(),f=this._hasFlexibleDimensions,_=this._overlayRef.getConfig();if(h){const q=this._viewportRuler.getViewportScrollPosition();si(r,this._getExactOverlayY(t,l,q)),si(r,this._getExactOverlayX(t,l,q))}else r.position="static";let S="",T=this._getOffset(t,"x"),E=this._getOffset(t,"y");T&&(S+=`translateX(${T}px) `),E&&(S+=`translateY(${E}px)`),r.transform=S.trim(),_.maxHeight&&(h?r.maxHeight=(0,B.HM)(_.maxHeight):f&&(r.maxHeight="")),_.maxWidth&&(h?r.maxWidth=(0,B.HM)(_.maxWidth):f&&(r.maxWidth="")),si(this._pane.style,r)}_getExactOverlayY(l,t,r){let h={top:"",bottom:""},f=this._getOverlayPoint(t,this._overlayRect,l);this._isPushed&&(f=this._pushOverlayOnScreen(f,this._overlayRect,r));let _=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return f.y-=_,"bottom"===l.overlayY?h.bottom=this._document.documentElement.clientHeight-(f.y+this._overlayRect.height)+"px":h.top=(0,B.HM)(f.y),h}_getExactOverlayX(l,t,r){let _,h={left:"",right:""},f=this._getOverlayPoint(t,this._overlayRect,l);return this._isPushed&&(f=this._pushOverlayOnScreen(f,this._overlayRect,r)),_=this._isRtl()?"end"===l.overlayX?"left":"right":"end"===l.overlayX?"right":"left","right"===_?h.right=this._document.documentElement.clientWidth-(f.x+this._overlayRect.width)+"px":h.left=(0,B.HM)(f.x),h}_getScrollVisibility(){const l=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(h=>h.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xn(l,r),isOriginOutsideView:mn(l,r),isOverlayClipped:xn(t,r),isOverlayOutsideView:mn(t,r)}}_subtractOverflows(l,...t){return t.reduce((r,h)=>r-Math.max(h,0),l)}_getNarrowedViewportRect(){const l=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+l-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:l-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(l,t){return"x"===t?null==l.offsetX?this._offsetX:l.offsetX:null==l.offsetY?this._offsetY:l.offsetY}_validatePositions(){}_addPanelClasses(l){this._pane&&(0,B.Eq)(l).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(l=>{this._pane.classList.remove(l)}),this._appliedPanelClasses=[])}_getOriginRect(){const l=this._origin;if(l instanceof i.SBq)return l.nativeElement.getBoundingClientRect();if(l instanceof Element)return l.getBoundingClientRect();const t=l.width||0,r=l.height||0;return{top:l.y,bottom:l.y+r,left:l.x,right:l.x+t,height:r,width:t}}}function si(s,l){for(let t in l)l.hasOwnProperty(t)&&(s[t]=l[t]);return s}function ds(s){if("number"!=typeof s&&null!=s){const[l,t]=s.split(hs);return t&&"px"!==t?null:parseFloat(l)}return s||null}function fs(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}class _o{constructor(l,t,r,h,f,_,S){this._preferredPositions=[],this._positionStrategy=new Ji(r,h,f,_,S).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(l,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(l){this._overlayRef=l,this._positionStrategy.attach(l),this._direction&&(l.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(l){this._positionStrategy.withScrollableContainers(l)}withFallbackPosition(l,t,r,h){const f=new Ge(l,t,r,h);return this._preferredPositions.push(f),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(l){return this._overlayRef?this._overlayRef.setDirection(l):this._direction=l,this}withOffsetX(l){return this._positionStrategy.withDefaultOffsetX(l),this}withOffsetY(l){return this._positionStrategy.withDefaultOffsetY(l),this}withLockedPosition(l){return this._positionStrategy.withLockedPosition(l),this}withPositions(l){return this._preferredPositions=l.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(l){return this._positionStrategy.setOrigin(l),this}}const kr="cdk-global-overlay-wrapper";class bi{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(l){const t=l.getConfig();this._overlayRef=l,this._width&&!t.width&&l.updateSize({width:this._width}),this._height&&!t.height&&l.updateSize({height:this._height}),l.hostElement.classList.add(kr),this._isDisposed=!1}top(l=""){return this._bottomOffset="",this._topOffset=l,this._alignItems="flex-start",this}left(l=""){return this._rightOffset="",this._leftOffset=l,this._justifyContent="flex-start",this}bottom(l=""){return this._topOffset="",this._bottomOffset=l,this._alignItems="flex-end",this}right(l=""){return this._leftOffset="",this._rightOffset=l,this._justifyContent="flex-end",this}width(l=""){return this._overlayRef?this._overlayRef.updateSize({width:l}):this._width=l,this}height(l=""){return this._overlayRef?this._overlayRef.updateSize({height:l}):this._height=l,this}centerHorizontally(l=""){return this.left(l),this._justifyContent="center",this}centerVertically(l=""){return this.top(l),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const l=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:h,height:f,maxWidth:_,maxHeight:S}=r,T=!("100%"!==h&&"100vw"!==h||_&&"100%"!==_&&"100vw"!==_),E=!("100%"!==f&&"100vh"!==f||S&&"100%"!==S&&"100vh"!==S);l.position=this._cssPosition,l.marginLeft=T?"0":this._leftOffset,l.marginTop=E?"0":this._topOffset,l.marginBottom=this._bottomOffset,l.marginRight=this._rightOffset,T?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const l=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(kr),r.justifyContent=r.alignItems=l.marginTop=l.marginBottom=l.marginLeft=l.marginRight=l.position="",this._overlayRef=null,this._isDisposed=!0}}let ji=(()=>{class s{constructor(t,r,h,f){this._viewportRuler=t,this._document=r,this._platform=h,this._overlayContainer=f}global(){return new bi}connectedTo(t,r,h){return new _o(r,h,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ji(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(v),i.LFG(M.K0),i.LFG(X.t4),i.LFG(Zi))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(v),i.LFG(M.K0),i.LFG(X.t4),i.LFG(Zi))},token:s,providedIn:"root"}),s})(),Va=0,Yn=(()=>{class s{constructor(t,r,h,f,_,S,T,E,q,ue,ut){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=h,this._positionBuilder=f,this._keyboardDispatcher=_,this._injector=S,this._ngZone=T,this._document=E,this._directionality=q,this._location=ue,this._outsideClickDispatcher=ut}create(t){const r=this._createHostElement(),h=this._createPaneElement(r),f=this._createPortalOutlet(h),_=new po(t);return _.direction=_.direction||this._directionality.value,new zi(f,r,h,_,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Va++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.z2F)),new _e(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(Ya),i.LFG(Zi),i.LFG(i._Vd),i.LFG(ji),i.LFG(us),i.LFG(i.zs3),i.LFG(i.R0b),i.LFG(M.K0),i.LFG(le.Is),i.LFG(M.Ye),i.LFG(vo))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();const ps=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Si=new i.OlP("cdk-connected-overlay-scroll-strategy");let qi=(()=>{class s{constructor(t){this.elementRef=t}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),s})(),en=(()=>{class s{constructor(t,r,h,f,_){this._overlay=t,this._dir=_,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=wt.w.EMPTY,this._attachSubscription=wt.w.EMPTY,this._detachSubscription=wt.w.EMPTY,this._positionSubscription=wt.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.vpe,this.positionChange=new i.vpe,this.attach=new i.vpe,this.detach=new i.vpe,this.overlayKeydown=new i.vpe,this.overlayOutsideClick=new i.vpe,this._templatePortal=new Zt(r,h),this._scrollStrategyFactory=f,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=(0,B.Ig)(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=(0,B.Ig)(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=(0,B.Ig)(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=(0,B.Ig)(t)}get push(){return this._push}set push(t){this._push=(0,B.Ig)(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ps);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!function(s,...l){return l.length?l.some(t=>s[t]):s.altKey||s.shiftKey||s.ctrlKey||s.metaKey}(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new po({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(h=>({originX:h.originX,originY:h.originY,overlayX:h.overlayX,overlayY:h.overlayY,offsetX:h.offsetX||this.offsetX,offsetY:h.offsetY||this.offsetY,panelClass:h.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(s,l=!1){return t=>t.lift(new Qo(s,l))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(Yn),i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(Si),i.Y36(le.Is,8))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.TTD]}),s})();const ai={provide:Si,deps:[Yn],useFactory:function(s){return()=>s.scrollStrategies.reposition()}};let Wn=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[Yn,ai],imports:[[le.vT,Jt,Ve],Ve]}),s})();var gs=U(8939),vn=U(8002),ms=U(8397);let vs=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({}),s})();const Vn=new Set;let Gt,yo=(()=>{class s{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qa}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(s){if(!Vn.has(s))try{Gt||(Gt=document.createElement("style"),Gt.setAttribute("type","text/css"),document.head.appendChild(Gt)),Gt.sheet&&(Gt.sheet.insertRule(`@media ${s} {body{ }}`,0),Vn.add(s))}catch(l){console.error(l)}}(t),this._matchMedia(t)}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(X.t4))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(X.t4))},token:s,providedIn:"root"}),s})();function Qa(s){return{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{}}}const mt=()=>{};let at=(()=>{class s{constructor(t,r){this.ngZone=t,this.rendererFactory2=r,this.resizeSource$=new V.xQ,this.listeners=0,this.disposeHandle=mt,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=mt}subscribe(){return this.registerListener(),this.resizeSource$.pipe(kt(16),(0,gs.x)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=mt)}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(i.R0b),i.LFG(i.FYo))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(i.R0b),i.LFG(i.FYo))},token:s,providedIn:"root"}),s})();const rt=new Map;let wi=(()=>{class s{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return ms.N.isTestMode?rt:this._singletonRegistry}registerSingletonWithKey(t,r){const h=this.singletonRegistry.has(t),f=h?this.singletonRegistry.get(t):this.withNewTarget(r);h||this.singletonRegistry.set(t,f)}getSingletonWithKey(t){return this.singletonRegistry.has(t)?this.singletonRegistry.get(t).target:null}withNewTarget(t){return{target:t}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=i.Yz7({factory:function(){return new s},token:s,providedIn:"root"}),s})();var Ki=(()=>{return(s=Ki||(Ki={})).xxl="xxl",s.xl="xl",s.lg="lg",s.md="md",s.sm="sm",s.xs="xs",Ki;var s})();const li={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let Dr=(()=>{class s{constructor(t,r){this.resizeService=t,this.mediaMatcher=r,this.resizeService.subscribe().subscribe(()=>{})}subscribe(t,r){if(r){const h=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe((0,vn.U)(h),(0,Ne.O)(h()),qt((f,_)=>f[0]===_[0]),(0,vn.U)(f=>f[1]))}{const h=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe((0,vn.U)(h),(0,Ne.O)(h()),qt())}}matchMedia(t,r){let h=Ki.md;const f={};return Object.keys(t).map(_=>{const S=_,T=this.mediaMatcher.matchMedia(li[S]).matches;f[_]=T,T&&(h=S)}),r?[h,f]:h}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(at),i.LFG(yo))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(at),i.LFG(yo))},token:s,providedIn:"root"}),s})(),xi=(()=>{class s extends V.xQ{ngOnDestroy(){this.next(),this.complete()}}return s.\u0275fac=function(){let l;return function(r){return(l||(l=i.n5z(s)))(r||s)}}(),s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();var j=U(6182);let Ot=(()=>{class s{constructor(t,r){this.viewContainer=t,this.templateRef=r,this.embeddedViewRef=null,this.context=new ys,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(t,r){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof i.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const r=this.nzStringTemplateOutlet instanceof i.Rgc?this.nzStringTemplateOutletContext:this.context,h=this.embeddedViewRef.context;if(r)for(const f of Object.keys(r))h[f]=r[f]}ngOnChanges(t){const{nzStringTemplateOutletContext:r,nzStringTemplateOutlet:h}=t;h&&(this.context.$implicit=h.currentValue),(()=>{let S=!1;if(h)if(h.firstChange)S=!0;else{const ue=h.currentValue instanceof i.Rgc;S=h.previousValue instanceof i.Rgc||ue}return r&&(q=>{const ue=Object.keys(q.previousValue||{}),ut=Object.keys(q.currentValue||{});if(ue.length===ut.length){for(const At of ut)if(-1===ue.indexOf(At))return!0;return!1}return!0})(r)||S})()?this.recreateView():this.updateContext()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.s_b),i.Y36(i.Rgc))},s.\u0275dir=i.lG2({type:s,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[i.TTD]}),s})();class ys{}let _n=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[M.ez]]}),s})();var Xe=U(3599),L=U(7238);let Rt=(()=>{class s{}return s.SLOW="0.3s",s.BASE="0.2s",s.FAST="0.1s",s})(),lt=(()=>{class s{}return s.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",s.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",s.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",s.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",s.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",s.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",s.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",s.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",s.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",s.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",s.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",s.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",s.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",s.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",s})();const Tn=(0,L.X$)("collapseMotion",[(0,L.SB)("expanded",(0,L.oB)({height:"*"})),(0,L.SB)("collapsed",(0,L.oB)({height:0,overflow:"hidden"})),(0,L.SB)("hidden",(0,L.oB)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,L.eR)("expanded => collapsed",(0,L.jt)(`150ms ${lt.EASE_IN_OUT}`)),(0,L.eR)("expanded => hidden",(0,L.jt)(`150ms ${lt.EASE_IN_OUT}`)),(0,L.eR)("collapsed => expanded",(0,L.jt)(`150ms ${lt.EASE_IN_OUT}`)),(0,L.eR)("hidden => expanded",(0,L.jt)(`150ms ${lt.EASE_IN_OUT}`))]),Bt=((0,L.X$)("treeCollapseMotion",[(0,L.eR)("* => *",[(0,L.IO)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,L.oB)({overflow:"hidden"}),(0,L.EY)(0,[(0,L.jt)(`150ms ${lt.EASE_IN_OUT}`,(0,L.oB)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,L.IO)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,L.oB)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,L.EY)(0,[(0,L.jt)(`150ms ${lt.EASE_IN_OUT}`,(0,L.oB)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),(0,L.X$)("fadeMotion",[(0,L.eR)(":enter",[(0,L.oB)({opacity:0}),(0,L.jt)(`${Rt.BASE}`,(0,L.oB)({opacity:1}))]),(0,L.eR)(":leave",[(0,L.oB)({opacity:1}),(0,L.jt)(`${Rt.BASE}`,(0,L.oB)({opacity:0}))])]),(0,L.X$)("helpMotion",[(0,L.eR)(":enter",[(0,L.oB)({opacity:0,transform:"translateY(-5px)"}),(0,L.jt)(`${Rt.SLOW} ${lt.EASE_IN_OUT}`,(0,L.oB)({opacity:1,transform:"translateY(0)"}))]),(0,L.eR)(":leave",[(0,L.oB)({opacity:1,transform:"translateY(0)"}),(0,L.jt)(`${Rt.SLOW} ${lt.EASE_IN_OUT}`,(0,L.oB)({opacity:0,transform:"translateY(-5px)"}))])]),(0,L.X$)("moveUpMotion",[(0,L.eR)("* => enter",[(0,L.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,L.jt)(`${Rt.BASE}`,(0,L.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,L.eR)("* => leave",[(0,L.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,L.jt)(`${Rt.BASE}`,(0,L.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])])),tn=((0,L.X$)("notificationMotion",[(0,L.SB)("enterRight",(0,L.oB)({opacity:1,transform:"translateX(0)"})),(0,L.eR)("* => enterRight",[(0,L.oB)({opacity:0,transform:"translateX(5%)"}),(0,L.jt)("100ms linear")]),(0,L.SB)("enterLeft",(0,L.oB)({opacity:1,transform:"translateX(0)"})),(0,L.eR)("* => enterLeft",[(0,L.oB)({opacity:0,transform:"translateX(-5%)"}),(0,L.jt)("100ms linear")]),(0,L.SB)("leave",(0,L.oB)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,L.eR)("* => leave",[(0,L.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,L.jt)("100ms linear")])]),`${Rt.BASE} ${lt.EASE_OUT_QUINT}`),Gn=`${Rt.BASE} ${lt.EASE_IN_QUINT}`,On=(0,L.X$)("slideMotion",[(0,L.SB)("void",(0,L.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,L.SB)("enter",(0,L.oB)({opacity:1,transform:"scaleY(1)"})),(0,L.eR)("void => *",[(0,L.jt)(tn)]),(0,L.eR)("* => void",[(0,L.jt)(Gn)])]),Ar=((0,L.X$)("slideAlertMotion",[(0,L.eR)(":leave",[(0,L.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,L.jt)(`${Rt.SLOW} ${lt.EASE_IN_OUT_CIRC}`,(0,L.oB)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,L.X$)("zoomBigMotion",[(0,L.eR)("void => active",[(0,L.oB)({opacity:0,transform:"scale(0.8)"}),(0,L.jt)(`${Rt.BASE} ${lt.EASE_OUT_CIRC}`,(0,L.oB)({opacity:1,transform:"scale(1)"}))]),(0,L.eR)("active => void",[(0,L.oB)({opacity:1,transform:"scale(1)"}),(0,L.jt)(`${Rt.BASE} ${lt.EASE_IN_OUT_CIRC}`,(0,L.oB)({opacity:0,transform:"scale(0.8)"}))])]));(0,L.X$)("zoomBadgeMotion",[(0,L.eR)(":enter",[(0,L.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,L.jt)(`${Rt.SLOW} ${lt.EASE_OUT_BACK}`,(0,L.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,L.eR)(":leave",[(0,L.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,L.jt)(`${Rt.SLOW} ${lt.EASE_IN_BACK}`,(0,L.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);var Pe=U(2729);function zo(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"nz-message",2),i.NdJ("destroyed",function(h){return i.CHM(t),i.oxw().remove(h.id,h.userAction)}),i.qZA()}2&s&&i.Q6J("instance",l.$implicit)}function er(s,l){1&s&&i._UZ(0,"i",10)}function zs(s,l){1&s&&i._UZ(0,"i",11)}function bo(s,l){1&s&&i._UZ(0,"i",12)}function Qn(s,l){1&s&&i._UZ(0,"i",13)}function bs(s,l){1&s&&i._UZ(0,"i",14)}function Ss(s,l){if(1&s&&(i.ynx(0),i._UZ(1,"span",15),i.BQk()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("innerHTML",t.instance.content,i.oJD)}}let qa=0,So=(()=>{class s{constructor(t,r){this.cdr=t,this.nzConfigService=r,this.instances=[],this.destroy$=new V.xQ,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(t){const r=this.onCreate(t);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,r],this.readyInstances(),r}remove(t,r=!1){this.instances.some((h,f)=>h.messageId===t&&(this.instances.splice(f,1),this.instances=[...this.instances],this.onRemove(h,r),this.readyInstances(),!0))}removeAll(){this.instances.forEach(t=>this.onRemove(t,!1)),this.instances=[],this.readyInstances()}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new V.xQ,t}onRemove(t,r){t.onClose.next(r),t.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(t){const{nzDuration:r,nzAnimate:h,nzPauseOnHover:f}=this.config;return Object.assign({nzDuration:r,nzAnimate:h,nzPauseOnHover:f},t)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO),i.Y36(Pe.jY))},s.\u0275dir=i.lG2({type:s}),s})(),ws=(()=>{class s{constructor(t){this.cdr=t,this.destroyed=new i.vpe,this.animationStateChanged=new V.xQ,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,Le.h)(t=>"done"===t.phaseName&&"leave"===t.toState),(0,K.q)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(t=!1){this.userAction=t,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:t})},200)):this.destroyed.next({id:this.instance.messageId,userAction:t})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO))},s.\u0275dir=i.lG2({type:s}),s})();const Lr="message",xs={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let $a=(()=>{class s extends So{constructor(t,r){super(t,r),this.destroy$=new V.xQ,this.dir="ltr",this.instances=[];const h=this.nzConfigService.getConfigForComponent(Lr);this.dir=(null==h?void 0:h.nzDirection)||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(Lr).pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.updateConfig();const t=this.nzConfigService.getConfigForComponent(Lr);if(t){const{nzDirection:r}=t;this.dir=r||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},xs),this.config),this.nzConfigService.getConfigForComponent(Lr)),this.top=(0,j.WX)(this.config.nzTop),this.cdr.markForCheck()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO),i.Y36(Pe.jY))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[i.qOj],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,zo,1,1,"nz-message",1),i.qZA()),2&t&&(i.Udp("top",r.top),i.ekj("ant-message-rtl","rtl"===r.dir),i.xp6(1),i.Q6J("ngForOf",r.instances))},directives:function(){return[M.sg,Os]},encapsulation:2,changeDetection:0}),s})(),Ts=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({}),s})(),Fr=(()=>{class s extends class{constructor(l,t,r){this.nzSingletonService=l,this.overlay=t,this.injector=r}remove(l){this.container&&(l?this.container.remove(l):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${qa++}`}withContainer(l){let t=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(t)return t;const r=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),h=new bt(l,null,this.injector),f=r.attach(h);return r.overlayElement.style.zIndex="1010",t||(this.container=t=f.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,t)),t}}{constructor(t,r,h){super(t,r,h),this.componentPrefix="message-"}success(t,r){return this.createInstance({type:"success",content:t},r)}error(t,r){return this.createInstance({type:"error",content:t},r)}info(t,r){return this.createInstance({type:"info",content:t},r)}warning(t,r){return this.createInstance({type:"warning",content:t},r)}loading(t,r){return this.createInstance({type:"loading",content:t},r)}create(t,r,h){return this.createInstance({type:t,content:r},h)}createInstance(t,r){return this.container=this.withContainer($a),this.container.create(Object.assign(Object.assign({},t),{createdAt:new Date,messageId:this.getInstanceId(),options:r}))}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(wi),i.LFG(Yn),i.LFG(i.zs3))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(wi),i.LFG(Yn),i.LFG(i.gxx))},token:s,providedIn:Ts}),s})(),Os=(()=>{class s extends ws{constructor(t){super(t),this.destroyed=new i.vpe}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[i.qOj],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.NdJ("@moveUpMotion.done",function(f){return r.animationStateChanged.next(f)})("mouseenter",function(){return r.onEnter()})("mouseleave",function(){return r.onLeave()}),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.ynx(3,3),i.YNc(4,er,1,0,"i",4),i.YNc(5,zs,1,0,"i",5),i.YNc(6,bo,1,0,"i",6),i.YNc(7,Qn,1,0,"i",7),i.YNc(8,bs,1,0,"i",8),i.BQk(),i.YNc(9,Ss,2,1,"ng-container",9),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.Q6J("@moveUpMotion",r.instance.state),i.xp6(2),i.Q6J("ngClass","ant-message-"+r.instance.type),i.xp6(1),i.Q6J("ngSwitch",r.instance.type),i.xp6(1),i.Q6J("ngSwitchCase","success"),i.xp6(1),i.Q6J("ngSwitchCase","info"),i.xp6(1),i.Q6J("ngSwitchCase","warning"),i.xp6(1),i.Q6J("ngSwitchCase","error"),i.xp6(1),i.Q6J("ngSwitchCase","loading"),i.xp6(1),i.Q6J("nzStringTemplateOutlet",r.instance.content))},directives:[M.mk,M.RF,M.n9,Ot,Xe.Ls],encapsulation:2,data:{animation:[Bt]},changeDetection:0}),s})(),Ms=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,Wn,Xe.PV,_n,Ts]]}),s})();var Re=U(665),re=U(4762),vt=U(6215),ci=U(739),tr=U(9773),Ns=U(6736),wo=U(6237);const xo="nz-animate-disabled";let yn=(()=>{class s{constructor(t,r,h){this.element=t,this.renderer=r,this.animationType=h,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=(0,B.fI)(this.element);!t||(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,xo):this.renderer.removeClass(t,xo))}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(wo.Qb,8))},s.\u0275dir=i.lG2({type:s,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[i.TTD]}),(0,re.gn)([(0,j.yF)()],s.prototype,"nzNoAnimation",void 0),s})(),Pr=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[M.ez]]}),s})();const de={top:new Ge({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Ge({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Ge({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Ge({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Ge({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Ge({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Ge({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Ge({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Ge({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Ge({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Ge({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Ge({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Ge({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Ge({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},nr=[de.top,de.right,de.bottom,de.left];function Zn(s){for(const l in de)if(s.connectionPair.originX===de[l].originX&&s.connectionPair.originY===de[l].originY&&s.connectionPair.overlayX===de[l].overlayX&&s.connectionPair.overlayY===de[l].overlayY)return l}new Ge({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Ge({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new Ge({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});let ir=(()=>{class s{constructor(t,r){this.cdkConnectedOverlay=t,this.nzDestroyService=r,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe((0,O.R)(this.nzDestroyService)).subscribe(h=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(h)})}updateArrowPosition(t){const h=this.cdkConnectedOverlay.origin.elementRef.nativeElement.getBoundingClientRect(),f=Zn(t);let _=0,S=0;"topLeft"===f||"bottomLeft"===f?_=h.width/2-14:"topRight"===f||"bottomRight"===f?_=-(h.width/2-14):"leftTop"===f||"rightTop"===f?S=h.height/2-10:("leftBottom"===f||"rightBottom"===f)&&(S=-(h.height/2-10)),(this.cdkConnectedOverlay.offsetX!==_||this.cdkConnectedOverlay.offsetY!==S)&&(this.cdkConnectedOverlay.offsetY=S,this.cdkConnectedOverlay.offsetX=_,this.cdkConnectedOverlay.overlayRef.updatePosition())}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(en),i.Y36(xi))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[i._Bn([xi])]}),(0,re.gn)([(0,j.yF)()],s.prototype,"nzArrowPointAtCenter",void 0),s})(),To=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({}),s})();const Is=["nz-submenu",""];function ks(s,l){1&s&&i.Hsn(0,0,["*ngIf","!nzTitle"])}function Ti(s,l){if(1&s&&i._UZ(0,"div",6),2&s){const t=i.oxw(),r=i.MAs(7);i.Q6J("mode",t.mode)("nzOpen",t.nzOpen)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("menuClass",t.nzMenuClassName)("templateOutlet",r)}}function Ds(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"div",8),i.NdJ("subMenuMouseState",function(h){return i.CHM(t),i.oxw(2).setMouseEnterState(h)}),i.qZA()}if(2&s){const t=i.oxw(2),r=i.MAs(7);i.Q6J("theme",t.theme)("mode",t.mode)("nzOpen",t.nzOpen)("position",t.position)("nzDisabled",t.nzDisabled)("isMenuInsideDropDown",t.isMenuInsideDropDown)("templateOutlet",r)("menuClass",t.nzMenuClassName)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}function Rr(s,l){if(1&s){const t=i.EpF();i.YNc(0,Ds,1,10,"ng-template",7),i.NdJ("positionChange",function(h){return i.CHM(t),i.oxw().onPositionChange(h)})}if(2&s){const t=i.oxw(),r=i.MAs(1);i.Q6J("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayWidth",t.triggerWidth)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function As(s,l){1&s&&i.Hsn(0,1)}const rr=[[["","title",""]],"*"],tl=["[title]","*"],ar=["nz-submenu-title",""];function lr(s,l){if(1&s&&i._UZ(0,"i",4),2&s){const t=i.oxw();i.Q6J("nzType",t.nzIcon)}}function Ps(s,l){if(1&s&&(i.ynx(0),i.TgZ(1,"span"),i._uU(2),i.qZA(),i.BQk()),2&s){const t=i.oxw();i.xp6(2),i.Oqu(t.nzTitle)}}function nl(s,l){1&s&&i._UZ(0,"i",8)}function Rs(s,l){1&s&&i._UZ(0,"i",9)}function Un(s,l){if(1&s&&(i.TgZ(0,"span",5),i.YNc(1,nl,1,0,"i",6),i.YNc(2,Rs,1,0,"i",7),i.qZA()),2&s){const t=i.oxw();i.Q6J("ngSwitch",t.dir),i.xp6(1),i.Q6J("ngSwitchCase","rtl")}}function Mi(s,l){1&s&&i._UZ(0,"i",10)}const cr=["*"],il=["nz-submenu-inline-child",""];function Bs(s,l){}const rl=["nz-submenu-none-inline-child",""];function ol(s,l){}let ui=(()=>{class s{constructor(){this.descendantMenuItemClick$=new V.xQ,this.childMenuItemClick$=new V.xQ,this.theme$=new vt.X("light"),this.mode$=new vt.X("vertical"),this.inlineIndent$=new vt.X(24),this.isChildSubMenuOpen$=new vt.X(!1)}onDescendantMenuItemClick(t){this.descendantMenuItemClick$.next(t)}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setMode(t){this.mode$.next(t)}setTheme(t){this.theme$.next(t)}setInlineIndent(t){this.inlineIndent$.next(t)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();const Be=new i.OlP("NzIsInDropDownMenuToken"),Oo=new i.OlP("NzMenuServiceLocalToken");let Mo=(()=>{class s{constructor(t,r,h){this.nzHostSubmenuService=t,this.nzMenuService=r,this.isMenuInsideDropDown=h,this.mode$=this.nzMenuService.mode$.pipe((0,vn.U)(T=>"inline"===T?"inline":"vertical"===T||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new vt.X(!1),this.isChildSubMenuOpen$=new vt.X(!1),this.isMouseEnterTitleOrOverlay$=new V.xQ,this.childMenuItemClick$=new V.xQ,this.destroy$=new V.xQ,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const f=this.childMenuItemClick$.pipe((0,tr.zg)(()=>this.mode$),(0,Le.h)(T=>"inline"!==T||this.isMenuInsideDropDown),(0,Ns.h)(!1)),_=(0,Ie.T)(this.isMouseEnterTitleOrOverlay$,f);(0,ci.aj)([this.isChildSubMenuOpen$,_]).pipe((0,vn.U)(([T,E])=>T||E),kt(150),qt(),(0,O.R)(this.destroy$)).pipe(qt()).subscribe(T=>{this.setOpenStateWithoutDebounce(T),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(T):this.nzMenuService.isChildSubMenuOpen$.next(T)})}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setOpenStateWithoutDebounce(t){this.isCurrentSubMenuOpen$.next(t)}setMouseEnterTitleOrOverlayState(t){this.isMouseEnterTitleOrOverlay$.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(s,12),i.LFG(ui),i.LFG(Be))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})(),No=(()=>{class s{constructor(t,r,h,f,_,S,T,E){this.nzMenuService=t,this.cdr=r,this.nzSubmenuService=h,this.isMenuInsideDropDown=f,this.directionality=_,this.routerLink=S,this.routerLinkWithHref=T,this.router=E,this.destroy$=new V.xQ,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new V.xQ,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,E&&this.router.events.pipe((0,O.R)(this.destroy$),(0,Le.h)(q=>q instanceof nt.m2)).subscribe(()=>{this.updateRouterActive()})}clickMenuItem(t){this.nzDisabled?(t.preventDefault(),t.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(t){this.nzSelected=t,this.selected$.next(t)}updateRouterActive(){!this.listOfRouterLink||!this.listOfRouterLinkWithHref||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.nzSelected!==t&&(this.nzSelected=t,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.routerLink&&t(this.routerLink)||this.routerLinkWithHref&&t(this.routerLinkWithHref)||this.listOfRouterLink.some(t)||this.listOfRouterLinkWithHref.some(t)}isLinkActive(t){return r=>t.isActive(r.urlTree,this.nzMatchRouterExact)}ngOnInit(){var t;(0,ci.aj)([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,O.R)(this.destroy$)).subscribe(([r,h])=>{this.inlinePaddingLeft="inline"===r?this.level*h:null}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe((0,O.R)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.listOfRouterLinkWithHref.changes.pipe((0,O.R)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(t){t.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(ui),i.Y36(i.sBO),i.Y36(Mo,8),i.Y36(Be),i.Y36(le.Is,8),i.Y36(nt.rH,8),i.Y36(nt.yS,8),i.Y36(nt.F0,8))},s.\u0275dir=i.lG2({type:s,selectors:[["","nz-menu-item",""]],contentQueries:function(t,r,h){if(1&t&&(i.Suo(h,nt.rH,5),i.Suo(h,nt.yS,5)),2&t){let f;i.iGM(f=i.CRH())&&(r.listOfRouterLink=f),i.iGM(f=i.CRH())&&(r.listOfRouterLinkWithHref=f)}},hostVars:20,hostBindings:function(t,r){1&t&&i.NdJ("click",function(f){return r.clickMenuItem(f)}),2&t&&(i.Udp("padding-left","rtl"===r.dir?null:r.nzPaddingLeft||r.inlinePaddingLeft,"px")("padding-right","rtl"===r.dir?r.nzPaddingLeft||r.inlinePaddingLeft:null,"px"),i.ekj("ant-dropdown-menu-item",r.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",r.isMenuInsideDropDown&&r.nzSelected)("ant-dropdown-menu-item-danger",r.isMenuInsideDropDown&&r.nzDanger)("ant-dropdown-menu-item-disabled",r.isMenuInsideDropDown&&r.nzDisabled)("ant-menu-item",!r.isMenuInsideDropDown)("ant-menu-item-selected",!r.isMenuInsideDropDown&&r.nzSelected)("ant-menu-item-danger",!r.isMenuInsideDropDown&&r.nzDanger)("ant-menu-item-disabled",!r.isMenuInsideDropDown&&r.nzDisabled))},inputs:{nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter",nzPaddingLeft:"nzPaddingLeft"},exportAs:["nzMenuItem"],features:[i.TTD]}),(0,re.gn)([(0,j.yF)()],s.prototype,"nzDisabled",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzSelected",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzDanger",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzMatchRouterExact",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzMatchRouter",void 0),s})();const Hs=[de.rightTop,de.right,de.rightBottom,de.leftTop,de.left,de.leftBottom],Ys=[de.bottomLeft];let Ws=(()=>{class s{constructor(t,r,h,f,_,S,T){this.nzMenuService=t,this.cdr=r,this.nzSubmenuService=h,this.platform=f,this.isMenuInsideDropDown=_,this.directionality=S,this.noAnimation=T,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzOpenChange=new i.vpe,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new V.xQ,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=Hs,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}setOpenStateWithoutDebounce(t){this.nzSubmenuService.setOpenStateWithoutDebounce(t)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(t){this.isActive=t,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(t)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(t){const r=Zn(t);"rightTop"===r||"rightBottom"===r||"right"===r?this.position="right":("leftTop"===r||"leftBottom"===r||"left"===r)&&(this.position="left")}ngOnInit(){var t;this.nzMenuService.theme$.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.theme=r,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.mode=r,"horizontal"===r?this.overlayPositions=Ys:"vertical"===r&&(this.overlayPositions=Hs),this.cdr.markForCheck()}),(0,ci.aj)([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,O.R)(this.destroy$)).subscribe(([r,h])=>{this.inlinePaddingLeft="inline"===r?this.level*h:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.isActive=r,r!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=r,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const t=this.listOfNzMenuItemDirective,r=t.changes,h=(0,Ie.T)(r,...t.map(f=>f.selected$));r.pipe((0,Ne.O)(t),(0,dt.w)(()=>h),(0,Ne.O)(!0),(0,vn.U)(()=>t.some(f=>f.nzSelected)),(0,O.R)(this.destroy$)).subscribe(f=>{this.isSelected=f,this.cdr.markForCheck()})}ngOnChanges(t){const{nzOpen:r}=t;r&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(ui),i.Y36(i.sBO),i.Y36(Mo),i.Y36(X.t4),i.Y36(Be),i.Y36(le.Is,8),i.Y36(yn,9))},s.\u0275cmp=i.Xpm({type:s,selectors:[["","nz-submenu",""]],contentQueries:function(t,r,h){if(1&t&&(i.Suo(h,s,5),i.Suo(h,No,5)),2&t){let f;i.iGM(f=i.CRH())&&(r.listOfNzSubMenuComponent=f),i.iGM(f=i.CRH())&&(r.listOfNzMenuItemDirective=f)}},viewQuery:function(t,r){if(1&t&&i.Gf(qi,7,i.SBq),2&t){let h;i.iGM(h=i.CRH())&&(r.cdkOverlayOrigin=h.first)}},hostVars:34,hostBindings:function(t,r){2&t&&i.ekj("ant-dropdown-menu-submenu",r.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",r.isMenuInsideDropDown&&r.nzDisabled)("ant-dropdown-menu-submenu-open",r.isMenuInsideDropDown&&r.nzOpen)("ant-dropdown-menu-submenu-selected",r.isMenuInsideDropDown&&r.isSelected)("ant-dropdown-menu-submenu-vertical",r.isMenuInsideDropDown&&"vertical"===r.mode)("ant-dropdown-menu-submenu-horizontal",r.isMenuInsideDropDown&&"horizontal"===r.mode)("ant-dropdown-menu-submenu-inline",r.isMenuInsideDropDown&&"inline"===r.mode)("ant-dropdown-menu-submenu-active",r.isMenuInsideDropDown&&r.isActive)("ant-menu-submenu",!r.isMenuInsideDropDown)("ant-menu-submenu-disabled",!r.isMenuInsideDropDown&&r.nzDisabled)("ant-menu-submenu-open",!r.isMenuInsideDropDown&&r.nzOpen)("ant-menu-submenu-selected",!r.isMenuInsideDropDown&&r.isSelected)("ant-menu-submenu-vertical",!r.isMenuInsideDropDown&&"vertical"===r.mode)("ant-menu-submenu-horizontal",!r.isMenuInsideDropDown&&"horizontal"===r.mode)("ant-menu-submenu-inline",!r.isMenuInsideDropDown&&"inline"===r.mode)("ant-menu-submenu-active",!r.isMenuInsideDropDown&&r.isActive)("ant-menu-submenu-rtl","rtl"===r.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],features:[i._Bn([Mo]),i.TTD],attrs:Is,ngContentSelectors:tl,decls:8,vars:9,consts:[["nz-submenu-title","","cdkOverlayOrigin","",3,"nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft","subMenuMouseState","toggleSubMenu"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet",4,"ngIf","ngIfElse"],["nonInlineTemplate",""],["subMenuTemplate",""],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","positionChange"],["nz-submenu-none-inline-child","",3,"theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation","subMenuMouseState"]],template:function(t,r){if(1&t&&(i.F$t(rr),i.TgZ(0,"div",0,1),i.NdJ("subMenuMouseState",function(f){return r.setMouseEnterState(f)})("toggleSubMenu",function(){return r.toggleSubMenu()}),i.YNc(2,ks,1,0,"ng-content",2),i.qZA(),i.YNc(3,Ti,1,6,"div",3),i.YNc(4,Rr,1,5,"ng-template",null,4,i.W1O),i.YNc(6,As,1,0,"ng-template",null,5,i.W1O)),2&t){const h=i.MAs(5);i.Q6J("nzIcon",r.nzIcon)("nzTitle",r.nzTitle)("mode",r.mode)("nzDisabled",r.nzDisabled)("isMenuInsideDropDown",r.isMenuInsideDropDown)("paddingLeft",r.nzPaddingLeft||r.inlinePaddingLeft),i.xp6(2),i.Q6J("ngIf",!r.nzTitle),i.xp6(1),i.Q6J("ngIf","inline"===r.mode)("ngIfElse",h)}},directives:function(){return[Hr,qi,M.O5,ur,yn,en,Mn]},encapsulation:2,changeDetection:0}),(0,re.gn)([(0,j.yF)()],s.prototype,"nzOpen",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzDisabled",void 0),s})();function Vs(s,l){return s||l}function sl(s){return s||!1}let al=(()=>{class s{constructor(t,r,h,f){this.nzMenuService=t,this.isMenuInsideDropDown=r,this.cdr=h,this.directionality=f,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new i.vpe,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new vt.X(this.nzInlineCollapsed),this.mode$=new vt.X(this.nzMode),this.destroy$=new V.xQ,this.listOfOpenedNzSubMenuComponent=[]}setInlineCollapsed(t){this.nzInlineCollapsed=t,this.inlineCollapsed$.next(t)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(t=>t.nzOpen),this.listOfNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}ngOnInit(){var t;(0,ci.aj)([this.inlineCollapsed$,this.mode$]).pipe((0,O.R)(this.destroy$)).subscribe(([r,h])=>{this.actualMode=r?"vertical":h,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.nzClick.emit(r),this.nzSelectable&&!r.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(h=>h.setSelectedState(h===r))}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzInlineCollapsed:r,nzInlineIndent:h,nzTheme:f,nzMode:_}=t;r&&this.inlineCollapsed$.next(this.nzInlineCollapsed),h&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),f&&this.nzMenuService.setTheme(this.nzTheme),_&&(this.mode$.next(this.nzMode),!t.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(S=>S.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(ui),i.Y36(Be),i.Y36(i.sBO),i.Y36(le.Is,8))},s.\u0275dir=i.lG2({type:s,selectors:[["","nz-menu",""]],contentQueries:function(t,r,h){if(1&t&&(i.Suo(h,No,5),i.Suo(h,Ws,5)),2&t){let f;i.iGM(f=i.CRH())&&(r.listOfNzMenuItemDirective=f),i.iGM(f=i.CRH())&&(r.listOfNzSubMenuComponent=f)}},hostVars:34,hostBindings:function(t,r){2&t&&i.ekj("ant-dropdown-menu",r.isMenuInsideDropDown)("ant-dropdown-menu-root",r.isMenuInsideDropDown)("ant-dropdown-menu-light",r.isMenuInsideDropDown&&"light"===r.nzTheme)("ant-dropdown-menu-dark",r.isMenuInsideDropDown&&"dark"===r.nzTheme)("ant-dropdown-menu-vertical",r.isMenuInsideDropDown&&"vertical"===r.actualMode)("ant-dropdown-menu-horizontal",r.isMenuInsideDropDown&&"horizontal"===r.actualMode)("ant-dropdown-menu-inline",r.isMenuInsideDropDown&&"inline"===r.actualMode)("ant-dropdown-menu-inline-collapsed",r.isMenuInsideDropDown&&r.nzInlineCollapsed)("ant-menu",!r.isMenuInsideDropDown)("ant-menu-root",!r.isMenuInsideDropDown)("ant-menu-light",!r.isMenuInsideDropDown&&"light"===r.nzTheme)("ant-menu-dark",!r.isMenuInsideDropDown&&"dark"===r.nzTheme)("ant-menu-vertical",!r.isMenuInsideDropDown&&"vertical"===r.actualMode)("ant-menu-horizontal",!r.isMenuInsideDropDown&&"horizontal"===r.actualMode)("ant-menu-inline",!r.isMenuInsideDropDown&&"inline"===r.actualMode)("ant-menu-inline-collapsed",!r.isMenuInsideDropDown&&r.nzInlineCollapsed)("ant-menu-rtl","rtl"===r.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],features:[i._Bn([{provide:Oo,useClass:ui},{provide:ui,useFactory:Vs,deps:[[new i.tp0,new i.FiY,ui],Oo]},{provide:Be,useFactory:sl,deps:[[new i.tp0,new i.FiY,Be]]}]),i.TTD]}),(0,re.gn)([(0,j.yF)()],s.prototype,"nzInlineCollapsed",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzSelectable",void 0),s})(),Hr=(()=>{class s{constructor(t,r){this.cdr=t,this.directionality=r,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new i.vpe,this.subMenuMouseState=new i.vpe,this.dir="ltr",this.destroy$=new V.xQ}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO),i.Y36(le.Is,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.clickTitle()})("mouseenter",function(){return r.setMouseState(!0)})("mouseleave",function(){return r.setMouseState(!1)}),2&t&&(i.Udp("padding-left","rtl"===r.dir?null:r.paddingLeft,"px")("padding-right","rtl"===r.dir?r.paddingLeft:null,"px"),i.ekj("ant-dropdown-menu-submenu-title",r.isMenuInsideDropDown)("ant-menu-submenu-title",!r.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],attrs:ar,ngContentSelectors:cr,decls:6,vars:4,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch",4,"ngIf","ngIfElse"],["notDropdownTpl",""],["nz-icon","",3,"nzType"],[1,"ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch"],["nz-icon","","nzType","left","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchCase"],["nz-icon","","nzType","right","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(t,r){if(1&t&&(i.F$t(),i.YNc(0,lr,1,1,"i",0),i.YNc(1,Ps,3,1,"ng-container",1),i.Hsn(2),i.YNc(3,Un,3,2,"span",2),i.YNc(4,Mi,1,0,"ng-template",null,3,i.W1O)),2&t){const h=i.MAs(5);i.Q6J("ngIf",r.nzIcon),i.xp6(1),i.Q6J("nzStringTemplateOutlet",r.nzTitle),i.xp6(2),i.Q6J("ngIf",r.isMenuInsideDropDown)("ngIfElse",h)}},directives:[M.O5,Ot,Xe.Ls,M.RF,M.n9,M.ED],encapsulation:2,changeDetection:0}),s})(),ur=(()=>{class s{constructor(t,r,h){this.elementRef=t,this.renderer=r,this.directionality=h,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new V.xQ,this.elementRef.nativeElement.classList.add("ant-menu","ant-menu-inline","ant-menu-sub")}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){var t;this.calcMotionState(),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnChanges(t){const{mode:r,nzOpen:h,menuClass:f}=t;(r||h)&&this.calcMotionState(),f&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(_=>!!_).forEach(_=>{this.renderer.removeClass(this.elementRef.nativeElement,_)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(_=>!!_).forEach(_=>{this.renderer.addClass(this.elementRef.nativeElement,_)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(le.Is,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["","nz-submenu-inline-child",""]],hostVars:3,hostBindings:function(t,r){2&t&&(i.d8E("@collapseMotion",r.expandState),i.ekj("ant-menu-rtl","rtl"===r.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],features:[i.TTD],attrs:il,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&i.YNc(0,Bs,0,0,"ng-template",0),2&t&&i.Q6J("ngTemplateOutlet",r.templateOutlet)},directives:[M.tP],encapsulation:2,data:{animation:[Tn]},changeDetection:0}),s})(),Mn=(()=>{class s{constructor(t,r){this.elementRef=t,this.directionality=r,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new i.vpe,this.expandState="collapsed",this.dir="ltr",this.destroy$=new V.xQ,this.elementRef.nativeElement.classList.add("ant-menu-submenu","ant-menu-submenu-popup")}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){var t;this.calcMotionState(),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnChanges(t){const{mode:r,nzOpen:h}=t;(r||h)&&this.calcMotionState()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(le.Is,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["","nz-submenu-none-inline-child",""]],hostVars:14,hostBindings:function(t,r){1&t&&i.NdJ("mouseenter",function(){return r.setMouseState(!0)})("mouseleave",function(){return r.setMouseState(!1)}),2&t&&(i.d8E("@slideMotion",r.expandState)("@zoomBigMotion",r.expandState),i.ekj("ant-menu-light","light"===r.theme)("ant-menu-dark","dark"===r.theme)("ant-menu-submenu-placement-bottom","horizontal"===r.mode)("ant-menu-submenu-placement-right","vertical"===r.mode&&"right"===r.position)("ant-menu-submenu-placement-left","vertical"===r.mode&&"left"===r.position)("ant-menu-submenu-rtl","rtl"===r.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],features:[i.TTD],attrs:rl,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,ol,0,0,"ng-template",1),i.qZA()),2&t&&(i.ekj("ant-dropdown-menu",r.isMenuInsideDropDown)("ant-menu",!r.isMenuInsideDropDown)("ant-dropdown-menu-vertical",r.isMenuInsideDropDown)("ant-menu-vertical",!r.isMenuInsideDropDown)("ant-dropdown-menu-sub",r.isMenuInsideDropDown)("ant-menu-sub",!r.isMenuInsideDropDown)("ant-menu-rtl","rtl"===r.dir),i.Q6J("ngClass",r.menuClass),i.xp6(1),i.Q6J("ngTemplateOutlet",r.templateOutlet))},directives:[M.mk,M.tP],encapsulation:2,data:{animation:[Ar,On]},changeDetection:0}),s})(),Gs=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,X.ud,Wn,Xe.PV,Pr,_n]]}),s})();var Cn=U(4514);let Ni=(()=>{class s{constructor(t){this.fb=t,this.search=new i.vpe}ngOnInit(){this.formGroup=this.fb.group({title:[null]})}submit(){this.search.emit(this.formGroup.value)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(Re.qu))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-header"]],outputs:{search:"search"},decls:6,vars:1,consts:[["nz-menu","","nzMode","horizontal",1,"header"],["nz-menu-item","","nzSelected",""],[1,"search-box"],[3,"formGroup","ngSubmit"],["formControlName","title","placeholder","\u8bf7\u8f93\u5165"]],template:function(t,r){1&t&&(i.TgZ(0,"ul",0),i.TgZ(1,"li",1),i._uU(2," \u5168\u90e8 "),i.qZA(),i.TgZ(3,"div",2),i.TgZ(4,"form",3),i.NdJ("ngSubmit",function(){return r.submit()}),i._UZ(5,"input",4),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Q6J("formGroup",r.formGroup))},directives:[al,No,Cn.w,Re._Y,Re.JL,Re.sg,Re.Fj,Re.JJ,Re.u],styles:[".header[_ngcontent-%COMP%]{display:flex}.search-box[_ngcontent-%COMP%]{display:inline-flex;flex:1;justify-content:flex-end;padding-right:16px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{transition:width .4s ease-in-out;border:1px solid #dddddd;border-radius:100px;padding:5px 3rem 5px 16px;margin-left:8px;width:180px;max-width:240px;line-height:normal;height:65%;-webkit-appearance:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;width:300px}"]}),s})();function Qs(s,l){1&s&&i.Hsn(0)}const Io=["*"];function Zs(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(3);i.xp6(1),i.Oqu(t.nzTitle)}}function Yr(s,l){if(1&s&&(i.TgZ(0,"div",11),i.YNc(1,Zs,2,1,"ng-container",12),i.qZA()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzTitle)}}function Ii(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(3);i.xp6(1),i.Oqu(t.nzExtra)}}function ko(s,l){if(1&s&&(i.TgZ(0,"div",13),i.YNc(1,Ii,2,1,"ng-container",12),i.qZA()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzExtra)}}function Do(s,l){}function Ao(s,l){if(1&s&&(i.ynx(0),i.YNc(1,Do,0,0,"ng-template",14),i.BQk()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",t.listOfNzCardTabComponent.template)}}function cl(s,l){if(1&s&&(i.TgZ(0,"div",6),i.TgZ(1,"div",7),i.YNc(2,Yr,2,1,"div",8),i.YNc(3,ko,2,1,"div",9),i.qZA(),i.YNc(4,Ao,2,1,"ng-container",10),i.qZA()),2&s){const t=i.oxw();i.xp6(2),i.Q6J("ngIf",t.nzTitle),i.xp6(1),i.Q6J("ngIf",t.nzExtra),i.xp6(1),i.Q6J("ngIf",t.listOfNzCardTabComponent)}}function hr(s,l){}function Us(s,l){if(1&s&&(i.TgZ(0,"div",15),i.YNc(1,hr,0,0,"ng-template",14),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",t.nzCover)}}function ul(s,l){1&s&&(i.ynx(0),i.Hsn(1),i.BQk())}function Js(s,l){1&s&&i._UZ(0,"nz-card-loading")}function Wr(s,l){}function hl(s,l){if(1&s&&(i.TgZ(0,"li"),i.TgZ(1,"span"),i.YNc(2,Wr,0,0,"ng-template",14),i.qZA(),i.qZA()),2&s){const t=l.$implicit,r=i.oxw(2);i.Udp("width",100/r.nzActions.length,"%"),i.xp6(2),i.Q6J("ngTemplateOutlet",t)}}function dl(s,l){if(1&s&&(i.TgZ(0,"ul",16),i.YNc(1,hl,3,3,"li",17),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.nzActions)}}function dr(s,l){1&s&&(i.TgZ(0,"div",4),i._UZ(1,"div",5),i.qZA()),2&s&&i.Q6J("ngClass",l.$implicit)}function js(s,l){if(1&s&&(i.TgZ(0,"div",2),i.YNc(1,dr,2,1,"div",3),i.qZA()),2&s){const t=l.$implicit;i.xp6(1),i.Q6J("ngForOf",t)}}function qs(s,l){}function fl(s,l){if(1&s&&(i.TgZ(0,"div",2),i.YNc(1,qs,0,0,"ng-template",3),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",t.nzAvatar)}}function Eo(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(3);i.xp6(1),i.Oqu(t.nzTitle)}}function $s(s,l){if(1&s&&(i.TgZ(0,"div",7),i.YNc(1,Eo,2,1,"ng-container",8),i.qZA()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzTitle)}}function pl(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(3);i.xp6(1),i.Oqu(t.nzDescription)}}function Xs(s,l){if(1&s&&(i.TgZ(0,"div",9),i.YNc(1,pl,2,1,"ng-container",8),i.qZA()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzDescription)}}function Ks(s,l){if(1&s&&(i.TgZ(0,"div",4),i.YNc(1,$s,2,1,"div",5),i.YNc(2,Xs,2,1,"div",6),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.nzTitle),i.xp6(1),i.Q6J("ngIf",t.nzDescription)}}let gl=(()=>{class s{constructor(t){this.elementRef=t,this.nzHoverable=!0,this.elementRef.nativeElement.classList.add("ant-card-grid")}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275dir=i.lG2({type:s,selectors:[["","nz-card-grid",""]],hostVars:2,hostBindings:function(t,r){2&t&&i.ekj("ant-card-hoverable",r.nzHoverable)},inputs:{nzHoverable:"nzHoverable"},exportAs:["nzCardGrid"]}),(0,re.gn)([(0,j.yF)()],s.prototype,"nzHoverable",void 0),s})(),Lo=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-card-tab"]],viewQuery:function(t,r){if(1&t&&i.Gf(i.Rgc,7),2&t){let h;i.iGM(h=i.CRH())&&(r.template=h.first)}},exportAs:["nzCardTab"],ngContentSelectors:Io,decls:1,vars:0,template:function(t,r){1&t&&(i.F$t(),i.YNc(0,Qs,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),s})(),fr=(()=>{class s{constructor(t,r,h,f){this.nzConfigService=t,this.cdr=r,this.elementRef=h,this.directionality=f,this._nzModuleName="card",this.nzBordered=!0,this.nzBorderless=!1,this.nzLoading=!1,this.nzHoverable=!1,this.nzBodyStyle=null,this.nzActions=[],this.nzType=null,this.nzSize="default",this.dir="ltr",this.destroy$=new V.xQ,this.elementRef.nativeElement.classList.add("ant-card"),this.nzConfigService.getConfigChangeEventForComponent("card").pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(Pe.jY),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(le.Is,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-card"]],contentQueries:function(t,r,h){if(1&t&&(i.Suo(h,Lo,5),i.Suo(h,gl,4)),2&t){let f;i.iGM(f=i.CRH())&&(r.listOfNzCardTabComponent=f.first),i.iGM(f=i.CRH())&&(r.listOfNzCardGridDirective=f)}},hostVars:16,hostBindings:function(t,r){2&t&&i.ekj("ant-card-loading",r.nzLoading)("ant-card-bordered",!1===r.nzBorderless&&r.nzBordered)("ant-card-hoverable",r.nzHoverable)("ant-card-small","small"===r.nzSize)("ant-card-contain-grid",r.listOfNzCardGridDirective&&r.listOfNzCardGridDirective.length)("ant-card-type-inner","inner"===r.nzType)("ant-card-contain-tabs",!!r.listOfNzCardTabComponent)("ant-card-rtl","rtl"===r.dir)},inputs:{nzBordered:"nzBordered",nzBorderless:"nzBorderless",nzLoading:"nzLoading",nzHoverable:"nzHoverable",nzBodyStyle:"nzBodyStyle",nzActions:"nzActions",nzType:"nzType",nzSize:"nzSize",nzCover:"nzCover",nzTitle:"nzTitle",nzExtra:"nzExtra"},exportAs:["nzCard"],ngContentSelectors:Io,decls:7,vars:6,consts:[["class","ant-card-head",4,"ngIf"],["class","ant-card-cover",4,"ngIf"],[1,"ant-card-body",3,"ngStyle"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["class","ant-card-actions",4,"ngIf"],[1,"ant-card-head"],[1,"ant-card-head-wrapper"],["class","ant-card-head-title",4,"ngIf"],["class","ant-card-extra",4,"ngIf"],[4,"ngIf"],[1,"ant-card-head-title"],[4,"nzStringTemplateOutlet"],[1,"ant-card-extra"],[3,"ngTemplateOutlet"],[1,"ant-card-cover"],[1,"ant-card-actions"],[3,"width",4,"ngFor","ngForOf"]],template:function(t,r){if(1&t&&(i.F$t(),i.YNc(0,cl,5,3,"div",0),i.YNc(1,Us,2,1,"div",1),i.TgZ(2,"div",2),i.YNc(3,ul,2,0,"ng-container",3),i.YNc(4,Js,1,0,"ng-template",null,4,i.W1O),i.qZA(),i.YNc(6,dl,2,1,"ul",5)),2&t){const h=i.MAs(5);i.Q6J("ngIf",r.nzTitle||r.nzExtra||r.listOfNzCardTabComponent),i.xp6(1),i.Q6J("ngIf",r.nzCover),i.xp6(1),i.Q6J("ngStyle",r.nzBodyStyle),i.xp6(1),i.Q6J("ngIf",!r.nzLoading)("ngIfElse",h),i.xp6(3),i.Q6J("ngIf",r.nzActions.length)}},directives:function(){return[M.O5,M.PC,Ot,M.tP,ml,M.sg]},encapsulation:2,changeDetection:0}),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzBordered",void 0),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzBorderless",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzLoading",void 0),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzHoverable",void 0),(0,re.gn)([(0,Pe.oS)()],s.prototype,"nzSize",void 0),s})(),ml=(()=>{class s{constructor(t){this.elementRef=t,this.listOfLoading=[["ant-col-22"],["ant-col-8","ant-col-15"],["ant-col-6","ant-col-18"],["ant-col-13","ant-col-9"],["ant-col-4","ant-col-3","ant-col-16"],["ant-col-8","ant-col-6","ant-col-8"]],this.elementRef.nativeElement.classList.add("ant-card-loading-content")}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-card-loading"]],exportAs:["nzCardLoading"],decls:2,vars:1,consts:[[1,"ant-card-loading-content"],["class","ant-row","style","margin-left: -4px; margin-right: -4px;",4,"ngFor","ngForOf"],[1,"ant-row",2,"margin-left","-4px","margin-right","-4px"],["style","padding-left: 4px; padding-right: 4px;",3,"ngClass",4,"ngFor","ngForOf"],[2,"padding-left","4px","padding-right","4px",3,"ngClass"],[1,"ant-card-loading-block"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,js,2,1,"div",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngForOf",r.listOfLoading))},directives:[M.sg,M.mk],encapsulation:2,changeDetection:0}),s})(),ea=(()=>{class s{constructor(t){this.elementRef=t,this.nzTitle=null,this.nzDescription=null,this.nzAvatar=null,this.elementRef.nativeElement.classList.add("ant-card-meta")}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-card-meta"]],inputs:{nzTitle:"nzTitle",nzDescription:"nzDescription",nzAvatar:"nzAvatar"},exportAs:["nzCardMeta"],decls:2,vars:2,consts:[["class","ant-card-meta-avatar",4,"ngIf"],["class","ant-card-meta-detail",4,"ngIf"],[1,"ant-card-meta-avatar"],[3,"ngTemplateOutlet"],[1,"ant-card-meta-detail"],["class","ant-card-meta-title",4,"ngIf"],["class","ant-card-meta-description",4,"ngIf"],[1,"ant-card-meta-title"],[4,"nzStringTemplateOutlet"],[1,"ant-card-meta-description"]],template:function(t,r){1&t&&(i.YNc(0,fl,2,1,"div",0),i.YNc(1,Ks,3,2,"div",1)),2&t&&(i.Q6J("ngIf",r.nzAvatar),i.xp6(1),i.Q6J("ngIf",r.nzTitle||r.nzDescription))},directives:[M.O5,M.tP,Ot],encapsulation:2,changeDetection:0}),s})(),ta=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[M.ez,_n],le.vT]}),s})();const _l=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],zl=["overlay"];function bl(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(2);i.xp6(1),i.Oqu(t.nzTitle)}}function na(s,l){if(1&s&&(i.TgZ(0,"div",2),i.TgZ(1,"div",3),i.TgZ(2,"div",4),i._UZ(3,"span",5),i.qZA(),i.TgZ(4,"div",6),i.YNc(5,bl,2,1,"ng-container",7),i.qZA(),i.qZA(),i.qZA()),2&s){const t=i.oxw();i.ekj("ant-tooltip-rtl","rtl"===t.dir),i.Q6J("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),i.xp6(3),i.Q6J("ngStyle",t._contentStyleMap),i.xp6(1),i.Q6J("ngStyle",t._contentStyleMap),i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzTitle)("nzStringTemplateOutletContext",t.nzTitleContext)}}let Fo=(()=>{class s{constructor(t,r,h,f,_,S){this.elementRef=t,this.hostView=r,this.resolver=h,this.renderer=f,this.noAnimation=_,this.nzConfigService=S,this.visibleChange=new i.vpe,this.internalVisible=!1,this.destroy$=new V.xQ,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return void 0!==this.trigger?this.trigger:"hover"}get _placement(){const t=this.placement;return Array.isArray(t)&&t.length>0?t:"string"==typeof t&&t?[t]:["top"]}get _visible(){return(void 0!==this.visible?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}ngOnChanges(t){const{trigger:r}=t;r&&!r.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){var t;null===(t=this.component)||void 0===t||t.show()}hide(){var t;null===(t=this.component)||void 0===t||t.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.hostView.createComponent(this.componentFactory);this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin({elementRef:this.origin||this.elementRef}),this.initProperties(),this.component.nzVisibleChange.pipe(qt(),(0,O.R)(this.destroy$)).subscribe(r=>{this.internalVisible=r,this.visibleChange.emit(r)})}registerTriggers(){const t=this.elementRef.nativeElement,r=this.trigger;if(this.removeTriggerListeners(),"hover"===r){let h;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{var f;this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),(null===(f=this.component)||void 0===f?void 0:f.overlay.overlayRef)&&!h&&(h=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(h,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(h,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===r?(this.triggerDisposables.push(this.renderer.listen(t,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"focusout",()=>this.hide()))):"click"===r&&this.triggerDisposables.push(this.renderer.listen(t,"click",h=>{h.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){var r;const h=Object.assign({title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter]},this.getProxyPropertyMap());(t||Object.keys(h).filter(f=>!f.startsWith("directive"))).forEach(f=>{if(h[f]){const[_,S]=h[f];this.updateComponentValue(_,S())}}),null===(r=this.component)||void 0===r||r.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,r){void 0!==r&&(this.component[t]=r)}delayEnterLeave(t,r,h=-1){this.delayTimer?this.clearTogglingTimer():h>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,r?this.show():this.hide()},1e3*h):r&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(i.s_b),i.Y36(i._Vd),i.Y36(i.Qsj),i.Y36(yn),i.Y36(Pe.jY))},s.\u0275dir=i.lG2({type:s,features:[i.TTD]}),s})(),ia=(()=>{class s{constructor(t,r,h){this.cdr=t,this.directionality=r,this.noAnimation=h,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new V.xQ,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...nr],this.destroy$=new V.xQ}set nzVisible(t){const r=(0,j.sw)(t);this._visible!==r&&(this._visible=r,this.nzVisibleChange.next(r))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){const r=t.map(h=>de[h]);this._positions=[...r,...nr]}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){!this.nzVisible||(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=Zn(t),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){!this.origin.elementRef.nativeElement.contains(t.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO),i.Y36(le.Is,8),i.Y36(yn))},s.\u0275dir=i.lG2({type:s,viewQuery:function(t,r){if(1&t&&i.Gf(zl,5),2&t){let h;i.iGM(h=i.CRH())&&(r.overlay=h.first)}}}),s})(),Po=(()=>{class s extends Fo{constructor(t,r,h,f,_){super(t,r,h,f,_),this.titleContext=null,this.trigger="hover",this.placement="top",this.visibleChange=new i.vpe,this.componentFactory=this.resolver.resolveComponentFactory(Di)}getProxyPropertyMap(){return Object.assign(Object.assign({},super.getProxyPropertyMap()),{nzTooltipColor:["nzColor",()=>this.nzTooltipColor],nzTooltipTitleContext:["nzTitleContext",()=>this.titleContext]})}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(i.s_b),i.Y36(i._Vd),i.Y36(i.Qsj),i.Y36(yn,9))},s.\u0275dir=i.lG2({type:s,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(t,r){2&t&&i.ekj("ant-tooltip-open",r.visible)},inputs:{titleContext:["nzTooltipTitleContext","titleContext"],trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],title:["nzTooltipTitle","title"],directiveTitle:["nz-tooltip","directiveTitle"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:["nzTooltipArrowPointAtCenter","arrowPointAtCenter"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[i.qOj]}),(0,re.gn)([(0,j.yF)()],s.prototype,"arrowPointAtCenter",void 0),s})(),Di=(()=>{class s extends ia{constructor(t,r,h){super(t,r,h),this.noAnimation=h,this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return function(s){return!(s instanceof i.Rgc||""!==s&&(0,j.DX)(s))}(this.nzTitle)}updateStyles(){const t=this.nzColor&&function(s){return-1!==_l.indexOf(s)}(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null}}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO),i.Y36(le.Is,8),i.Y36(yn,9))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[i.qOj],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(t,r){1&t&&(i.YNc(0,na,6,11,"ng-template",0,1,i.W1O),i.NdJ("overlayOutsideClick",function(f){return r.onClickOutside(f)})("detach",function(){return r.hide()})("positionChange",function(f){return r.onPositionChange(f)})),2&t&&i.Q6J("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",r.nzArrowPointAtCenter)},directives:[en,ir,M.mk,M.PC,yn,Ot],encapsulation:2,data:{animation:[Ar]},changeDetection:0}),s})(),Vr=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,Wn,_n,To,Pr]]}),s})();var Nn=U(6756);class xl{constructor(l){this.total=l}call(l,t){return t.subscribe(new Tl(l,this.total))}}class Tl extends jt.L{constructor(l,t){super(l),this.total=t,this.count=0}_next(l){++this.count>this.total&&this.destination.next(l)}}let Ht=(()=>{class s{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=i.Yz7({factory:function(){return new s},token:s,providedIn:"root"}),s})(),oa=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[Ht]}),s})();"undefined"!=typeof Element&&Element;const Ke=new i.OlP("cdk-input-modality-detector-options"),Ee={ignoreKeys:[18,17,224,91,16]},et=(0,X.i$)({passive:!0,capture:!0});let Qe=(()=>{class s{constructor(t,r,h,f){this._platform=t,this._mostRecentTarget=null,this._modality=new vt.X(null),this._lastTouchMs=0,this._onKeydown=_=>{var S,T;(null===(T=null===(S=this._options)||void 0===S?void 0:S.ignoreKeys)||void 0===T?void 0:T.some(E=>E===_.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,X.sA)(_))},this._onMousedown=_=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(s){return 0===s.offsetX&&0===s.offsetY}(_)?"keyboard":"mouse"),this._mostRecentTarget=(0,X.sA)(_))},this._onTouchstart=_=>{!function(s){const l=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!l||-1!==l.identifier||null!=l.radiusX&&1!==l.radiusX||null!=l.radiusY&&1!==l.radiusY)}(_)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,X.sA)(_)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},Ee),f),this.modalityDetected=this._modality.pipe(l=>l.lift(new xl(1))),this.modalityChanged=this.modalityDetected.pipe(qt()),t.isBrowser&&r.runOutsideAngular(()=>{h.addEventListener("keydown",this._onKeydown,et),h.addEventListener("mousedown",this._onMousedown,et),h.addEventListener("touchstart",this._onTouchstart,et)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,et),document.removeEventListener("mousedown",this._onMousedown,et),document.removeEventListener("touchstart",this._onTouchstart,et))}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(X.t4),i.LFG(i.R0b),i.LFG(M.K0),i.LFG(Ke,8))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(X.t4),i.LFG(i.R0b),i.LFG(M.K0),i.LFG(Ke,8))},token:s,providedIn:"root"}),s})();const yt=new i.OlP("cdk-focus-monitor-default-options"),In=(0,X.i$)({passive:!0,capture:!0});let nn=(()=>{class s{constructor(t,r,h,f,_){this._ngZone=t,this._platform=r,this._inputModalityDetector=h,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new V.xQ,this._rootNodeFocusAndBlurListener=S=>{const T=(0,X.sA)(S),E="focus"===S.type?this._onFocus:this._onBlur;for(let q=T;q;q=q.parentElement)E.call(this,S,q)},this._document=f,this._detectionMode=(null==_?void 0:_.detectionMode)||0}monitor(t,r=!1){const h=(0,B.fI)(t);if(!this._platform.isBrowser||1!==h.nodeType)return(0,x.of)(null);const f=(0,X.kV)(h)||this._getDocument(),_=this._elementInfo.get(h);if(_)return r&&(_.checkChildren=!0),_.subject;const S={checkChildren:r,subject:new V.xQ,rootNode:f};return this._elementInfo.set(h,S),this._registerGlobalListeners(S),S.subject}stopMonitoring(t){const r=(0,B.fI)(t),h=this._elementInfo.get(r);h&&(h.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(h))}focusVia(t,r,h){const f=(0,B.fI)(t);f===this._getDocument().activeElement?this._getClosestElementsInfo(f).forEach(([S,T])=>this._originChanged(S,r,T)):(this._setOrigin(r),"function"==typeof f.focus&&f.focus(h))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,h){h?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const h=this._elementInfo.get(r),f=(0,X.sA)(t);!h||!h.checkChildren&&r!==f||this._originChanged(r,this._getFocusOrigin(f),h)}_onBlur(t,r){const h=this._elementInfo.get(r);!h||h.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(h.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,h=this._rootNodeFocusListenerCount.get(r)||0;h||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,In),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,In)}),this._rootNodeFocusListenerCount.set(r,h+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,O.R)(this._stopInputModalityDetector)).subscribe(f=>{this._setOrigin(f,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const h=this._rootNodeFocusListenerCount.get(r);h>1?this._rootNodeFocusListenerCount.set(r,h-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,In),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,In),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,h){this._setClasses(t,r),this._emitOrigin(h.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((h,f)=>{(f===t||h.checkChildren&&f.contains(t))&&r.push([f,h])}),r}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(i.R0b),i.LFG(X.t4),i.LFG(Qe),i.LFG(M.K0,8),i.LFG(yt,8))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(i.R0b),i.LFG(X.t4),i.LFG(Qe),i.LFG(M.K0,8),i.LFG(yt,8))},token:s,providedIn:"root"}),s})();const rn="cdk-high-contrast-black-on-white",tt="cdk-high-contrast-white-on-black",vr="cdk-high-contrast-active";let kn=(()=>{class s{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,h=r&&r.getComputedStyle?r.getComputedStyle(t):null,f=(h&&h.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),f){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(vr),t.remove(rn),t.remove(tt),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(vr),t.add(rn)):2===r&&(t.add(vr),t.add(tt))}}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(X.t4),i.LFG(M.K0))},s.\u0275prov=i.Yz7({factory:function(){return new s(i.LFG(X.t4),i.LFG(M.K0))},token:s,providedIn:"root"}),s})(),di=(()=>{class s{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return s.\u0275fac=function(t){return new(t||s)(i.LFG(kn))},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[X.ud,oa]]}),s})();const Jn=["moz","ms","webkit"];function Qr(s){if("undefined"==typeof window)return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(s);const l=Jn.filter(t=>`${t}CancelAnimationFrame`in window||`${t}CancelRequestAnimationFrame`in window)[0];return l?(window[`${l}CancelAnimationFrame`]||window[`${l}CancelRequestAnimationFrame`]).call(this,s):clearTimeout(s)}const Ic=function(){if("undefined"==typeof window)return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const s=Jn.filter(l=>`${l}RequestAnimationFrame`in window)[0];return s?window[`${s}RequestAnimationFrame`]:function(){let s=0;return function(l){const t=(new Date).getTime(),r=Math.max(0,16-(t-s)),h=setTimeout(()=>{l(t+r)},r);return s=t+r,h}}()}();function Qc(s,l){1&s&&i._UZ(0,"nz-empty",6),2&s&&i.Q6J("nzNotFoundImage","simple")}function Zc(s,l){1&s&&i._UZ(0,"nz-empty",7),2&s&&i.Q6J("nzNotFoundImage","simple")}function Uc(s,l){1&s&&i._UZ(0,"nz-empty")}function Jc(s,l){if(1&s&&(i.ynx(0,2),i.YNc(1,Qc,1,1,"nz-empty",3),i.YNc(2,Zc,1,1,"nz-empty",4),i.YNc(3,Uc,1,0,"nz-empty",5),i.BQk()),2&s){const t=i.oxw();i.Q6J("ngSwitch",t.size),i.xp6(1),i.Q6J("ngSwitchCase","normal"),i.xp6(1),i.Q6J("ngSwitchCase","small")}}function jc(s,l){}function qc(s,l){if(1&s&&i.YNc(0,jc,0,0,"ng-template",8),2&s){const t=i.oxw(2);i.Q6J("cdkPortalOutlet",t.contentPortal)}}function $c(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(2);i.xp6(1),i.hij(" ",t.content," ")}}function Xc(s,l){if(1&s&&(i.ynx(0),i.YNc(1,qc,1,1,void 0,1),i.YNc(2,$c,2,1,"ng-container",1),i.BQk()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngIf","string"!==t.contentType),i.xp6(1),i.Q6J("ngIf","string"===t.contentType)}}function Kc(s,l){if(1&s&&(i.ynx(0),i._UZ(1,"img",5),i.BQk()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("src",t.nzNotFoundImage,i.LSH)("alt",t.isContentString?t.nzNotFoundContent:"empty")}}function eu(s,l){if(1&s&&(i.ynx(0),i.YNc(1,Kc,2,2,"ng-container",4),i.BQk()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzNotFoundImage)}}function tu(s,l){1&s&&i._UZ(0,"nz-empty-default")}function nu(s,l){1&s&&i._UZ(0,"nz-empty-simple")}function iu(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(2);i.xp6(1),i.hij(" ",t.isContentString?t.nzNotFoundContent:t.locale.description," ")}}function ru(s,l){if(1&s&&(i.TgZ(0,"p",6),i.YNc(1,iu,2,1,"ng-container",4),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzNotFoundContent)}}function ou(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw(2);i.xp6(1),i.hij(" ",t.nzNotFoundFooter," ")}}function su(s,l){if(1&s&&(i.TgZ(0,"div",7),i.YNc(1,ou,2,1,"ng-container",4),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("nzStringTemplateOutlet",t.nzNotFoundFooter)}}const au=new i.OlP("nz-empty-component-name");let cu=(()=>{class s{constructor(t,r,h,f){this.configService=t,this.viewContainerRef=r,this.cdr=h,this.injector=f,this.contentType="string",this.size="",this.destroy$=new V.xQ}ngOnChanges(t){t.nzComponentName&&(this.size=function(s){switch(s){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(t.nzComponentName.currentValue)),t.specificContent&&!t.specificContent.isFirstChange()&&(this.content=t.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const t=this.content;if("string"==typeof t)this.contentType="string";else if(t instanceof i.Rgc){const r={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new Zt(t,this.viewContainerRef,r)}else if(t instanceof i.DyG){const r=i.zs3.create({parent:this.injector,providers:[{provide:au,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new bt(t,this.viewContainerRef,r)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,Ne.O)(!0),(0,O.R)(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(Pe.jY),i.Y36(i.s_b),i.Y36(i.sBO),i.Y36(i.zs3))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[i.TTD],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","ant-empty-normal",3,"nzNotFoundImage",4,"ngSwitchCase"],["class","ant-empty-small",3,"nzNotFoundImage",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-empty-normal",3,"nzNotFoundImage"],[1,"ant-empty-small",3,"nzNotFoundImage"],[3,"cdkPortalOutlet"]],template:function(t,r){1&t&&(i.YNc(0,Jc,4,3,"ng-container",0),i.YNc(1,Xc,3,2,"ng-container",1)),2&t&&(i.Q6J("ngIf",!r.content&&null!==r.specificContent),i.xp6(1),i.Q6J("ngIf",r.content))},directives:function(){return[M.O5,M.RF,M.n9,M.ED,hu,sn]},encapsulation:2,changeDetection:0}),s})();const uu=["default","simple"];let hu=(()=>{class s{constructor(t,r){this.i18n=t,this.cdr=r,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new V.xQ}ngOnChanges(t){const{nzNotFoundContent:r,nzNotFoundImage:h}=t;if(r&&(this.isContentString="string"==typeof r.currentValue),h){const f=h.currentValue||"default";this.isImageBuildIn=uu.findIndex(_=>_===f)>-1}}ngOnInit(){this.i18n.localeChange.pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(Nn.wi),i.Y36(i.sBO))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[i.TTD],decls:6,vars:5,consts:[[1,"ant-empty-image"],[4,"ngIf"],["class","ant-empty-description",4,"ngIf"],["class","ant-empty-footer",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"src","alt"],[1,"ant-empty-description"],[1,"ant-empty-footer"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,eu,2,1,"ng-container",1),i.YNc(2,tu,1,0,"nz-empty-default",1),i.YNc(3,nu,1,0,"nz-empty-simple",1),i.qZA(),i.YNc(4,ru,2,1,"p",2),i.YNc(5,su,2,1,"div",3)),2&t&&(i.xp6(1),i.Q6J("ngIf",!r.isImageBuildIn),i.xp6(1),i.Q6J("ngIf",r.isImageBuildIn&&"simple"!==r.nzNotFoundImage),i.xp6(1),i.Q6J("ngIf",r.isImageBuildIn&&"simple"===r.nzNotFoundImage),i.xp6(1),i.Q6J("ngIf",null!==r.nzNotFoundContent),i.xp6(1),i.Q6J("ngIf",r.nzNotFoundFooter))},directives:function(){return[M.O5,Ot,du,fu]},encapsulation:2,changeDetection:0}),s})(),du=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(t,r){1&t&&(i.O4$(),i.TgZ(0,"svg",0),i.TgZ(1,"g",1),i.TgZ(2,"g",2),i._UZ(3,"ellipse",3),i._UZ(4,"path",4),i._UZ(5,"path",5),i._UZ(6,"path",6),i._UZ(7,"path",7),i.qZA(),i._UZ(8,"path",8),i.TgZ(9,"g",9),i._UZ(10,"ellipse",10),i._UZ(11,"path",11),i.qZA(),i.qZA(),i.qZA())},encapsulation:2,changeDetection:0}),s})(),fu=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(t,r){1&t&&(i.O4$(),i.TgZ(0,"svg",0),i.TgZ(1,"g",1),i._UZ(2,"ellipse",2),i.TgZ(3,"g",3),i._UZ(4,"path",4),i._UZ(5,"path",5),i.qZA(),i.qZA(),i.qZA())},encapsulation:2,changeDetection:0}),s})(),pu=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,Jt,_n,Nn.YI]]}),s})();const kc=["*"];function gu(s,l){if(1&s&&(i.TgZ(0,"div",4),i._UZ(1,"nz-embed-empty",5),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("specificContent",t.notFoundContent)}}function mu(s,l){if(1&s&&i._UZ(0,"nz-option-item-group",9),2&s){const t=i.oxw().$implicit;i.Q6J("nzLabel",t.groupLabel)}}function vu(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"nz-option-item",10),i.NdJ("itemHover",function(h){return i.CHM(t),i.oxw(2).onItemHover(h)})("itemClick",function(h){return i.CHM(t),i.oxw(2).onItemClick(h)}),i.qZA()}if(2&s){const t=i.oxw().$implicit,r=i.oxw();i.Q6J("icon",r.menuItemSelectedIcon)("customContent",t.nzCustomContent)("template",t.template)("grouped",!!t.groupLabel)("disabled",t.nzDisabled)("showState","tags"===r.mode||"multiple"===r.mode)("label",t.nzLabel)("compareWith",r.compareWith)("activatedValue",r.activatedValue)("listOfSelectedValue",r.listOfSelectedValue)("value",t.nzValue)}}function _u(s,l){1&s&&(i.ynx(0,6),i.YNc(1,mu,1,1,"nz-option-item-group",7),i.YNc(2,vu,1,11,"nz-option-item",8),i.BQk()),2&s&&(i.Q6J("ngSwitch",l.$implicit.type),i.xp6(1),i.Q6J("ngSwitchCase","group"),i.xp6(1),i.Q6J("ngSwitchCase","item"))}function yu(s,l){}function Cu(s,l){1&s&&i.Hsn(0)}const zu=["inputElement"],bu=["mirrorElement"];function Su(s,l){1&s&&i._UZ(0,"span",3,4)}function wu(s,l){if(1&s&&i._UZ(0,"nz-select-item",6),2&s){const t=i.oxw(2);i.Q6J("deletable",!1)("disabled",!1)("removeIcon",t.removeIcon)("label",t.listOfTopItem[0].nzLabel)("contentTemplateOutlet",t.customTemplate)("contentTemplateOutletContext",t.listOfTopItem[0])}}function xu(s,l){if(1&s){const t=i.EpF();i.ynx(0),i.TgZ(1,"nz-select-search",4),i.NdJ("isComposingChange",function(h){return i.CHM(t),i.oxw().isComposingChange(h)})("valueChange",function(h){return i.CHM(t),i.oxw().onInputValueChange(h)}),i.qZA(),i.YNc(2,wu,1,6,"nz-select-item",5),i.BQk()}if(2&s){const t=i.oxw();i.xp6(1),i.Q6J("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("showInput",t.showSearch)("mirrorSync",!1)("autofocus",t.autofocus)("focusTrigger",t.open),i.xp6(1),i.Q6J("ngIf",t.isShowSingleLabel)}}function Tu(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"nz-select-item",9),i.NdJ("delete",function(){const f=i.CHM(t).$implicit;return i.oxw(2).onDeleteItem(f.contentTemplateOutletContext)}),i.qZA()}if(2&s){const t=l.$implicit,r=i.oxw(2);i.Q6J("removeIcon",r.removeIcon)("label",t.nzLabel)("disabled",t.nzDisabled||r.disabled)("contentTemplateOutlet",t.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",t.contentTemplateOutletContext)}}function Ou(s,l){if(1&s){const t=i.EpF();i.ynx(0),i.YNc(1,Tu,1,6,"nz-select-item",7),i.TgZ(2,"nz-select-search",8),i.NdJ("isComposingChange",function(h){return i.CHM(t),i.oxw().isComposingChange(h)})("valueChange",function(h){return i.CHM(t),i.oxw().onInputValueChange(h)}),i.qZA(),i.BQk()}if(2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.listOfSlicedItem)("ngForTrackBy",t.trackValue),i.xp6(1),i.Q6J("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("autofocus",t.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",t.open)}}function Mu(s,l){if(1&s&&i._UZ(0,"nz-select-placeholder",10),2&s){const t=i.oxw();i.Q6J("placeholder",t.placeHolder)}}function Nu(s,l){if(1&s&&i._UZ(0,"nz-select-arrow",5),2&s){const t=i.oxw();i.Q6J("loading",t.nzLoading)("search",t.nzOpen&&t.nzShowSearch)("suffixIcon",t.nzSuffixIcon)}}function Iu(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"nz-select-clear",6),i.NdJ("clear",function(){return i.CHM(t),i.oxw().onClearSelection()}),i.qZA()}if(2&s){const t=i.oxw();i.Q6J("clearIcon",t.nzClearIcon)}}function ku(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"nz-option-container",7),i.NdJ("keydown",function(h){return i.CHM(t),i.oxw().onKeyDown(h)})("itemClick",function(h){return i.CHM(t),i.oxw().onItemClick(h)})("scrollToBottom",function(){return i.CHM(t),i.oxw().nzScrollToBottom.emit()}),i.qZA()}if(2&s){const t=i.oxw();i.ekj("ant-select-dropdown-placement-bottomLeft","bottom"===t.dropDownPosition)("ant-select-dropdown-placement-topLeft","top"===t.dropDownPosition),i.Q6J("ngStyle",t.nzDropdownStyle)("itemSize",t.nzOptionHeightPx)("maxItemLength",t.nzOptionOverflowSize)("matchWidth",t.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("listOfContainerItem",t.listOfContainerItem)("menuItemSelectedIcon",t.nzMenuItemSelectedIcon)("notFoundContent",t.nzNotFoundContent)("activatedValue",t.activatedValue)("listOfSelectedValue",t.listOfValue)("dropdownRender",t.nzDropdownRender)("compareWith",t.compareWith)("mode",t.nzMode)}}function Du(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw();i.xp6(1),i.Oqu(t.nzLabel)}}function Au(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw();i.xp6(1),i.Oqu(t.label)}}function Eu(s,l){}function Lu(s,l){if(1&s&&(i.ynx(0),i.YNc(1,Eu,0,0,"ng-template",3),i.BQk()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",t.template)}}function Fu(s,l){1&s&&i._UZ(0,"i",6)}function Pu(s,l){if(1&s&&(i.TgZ(0,"div",4),i.YNc(1,Fu,1,0,"i",5),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",!t.icon)("ngIfElse",t.icon)}}function Ru(s,l){1&s&&i._UZ(0,"i",2)}function Bu(s,l){1&s&&i._UZ(0,"i",7)}function Hu(s,l){1&s&&i._UZ(0,"i",8)}function Yu(s,l){if(1&s&&(i.ynx(0),i.YNc(1,Bu,1,0,"i",5),i.YNc(2,Hu,1,0,"i",6),i.BQk()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!t.search),i.xp6(1),i.Q6J("ngIf",t.search)}}function Wu(s,l){if(1&s&&(i.ynx(0),i._UZ(1,"i",10),i.BQk()),2&s){const t=l.$implicit;i.xp6(1),i.Q6J("nzType",t)}}function Vu(s,l){if(1&s&&i.YNc(0,Wu,2,1,"ng-container",9),2&s){const t=i.oxw(2);i.Q6J("nzStringTemplateOutlet",t.suffixIcon)}}function Gu(s,l){if(1&s&&(i.YNc(0,Yu,3,2,"ng-container",3),i.YNc(1,Vu,1,1,"ng-template",null,4,i.W1O)),2&s){const t=i.MAs(2),r=i.oxw();i.Q6J("ngIf",!r.suffixIcon)("ngIfElse",t)}}function Qu(s,l){1&s&&i._UZ(0,"i",1)}function Zu(s,l){if(1&s&&(i.TgZ(0,"div",4),i._uU(1),i.qZA()),2&s){const t=i.oxw(2);i.xp6(1),i.Oqu(t.label)}}function Uu(s,l){if(1&s&&i._uU(0),2&s){const t=i.oxw(2);i.Oqu(t.label)}}function Ju(s,l){if(1&s&&(i.ynx(0),i.YNc(1,Zu,2,1,"div",2),i.YNc(2,Uu,1,1,"ng-template",null,3,i.W1O),i.BQk()),2&s){const t=i.MAs(3),r=i.oxw();i.xp6(1),i.Q6J("ngIf",r.deletable)("ngIfElse",t)}}function ju(s,l){1&s&&i._UZ(0,"i",7)}function qu(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"span",5),i.NdJ("click",function(h){return i.CHM(t),i.oxw().onDelete(h)}),i.YNc(1,ju,1,0,"i",6),i.qZA()}if(2&s){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",!t.removeIcon)("ngIfElse",t.removeIcon)}}const $u=function(s){return{$implicit:s}};function Xu(s,l){if(1&s&&(i.ynx(0),i._uU(1),i.BQk()),2&s){const t=i.oxw();i.xp6(1),i.hij(" ",t.placeholder," ")}}let Dl=(()=>{class s{constructor(){this.nzLabel=null,this.changes=new V.xQ}ngOnChanges(){this.changes.next()}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[i.TTD],ngContentSelectors:kc,decls:1,vars:0,template:function(t,r){1&t&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),Ku=(()=>{class s{constructor(t){this.elementRef=t,this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.listOfContainerItem=[],this.itemClick=new i.vpe,this.scrollToBottom=new i.vpe,this.scrolledIndex=0,this.elementRef.nativeElement.classList.add("ant-select-dropdown")}onItemClick(t){this.itemClick.emit(t)}onItemHover(t){this.activatedValue=t}trackValue(t,r){return r.key}onScrolledIndexChange(t){this.scrolledIndex=t,t===this.listOfContainerItem.length-this.maxItemLength&&this.scrollToBottom.emit()}scrollToActivatedValue(){const t=this.listOfContainerItem.findIndex(r=>this.compareWith(r.key,this.activatedValue));(t<this.scrolledIndex||t>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(t||0)}ngOnChanges(t){const{listOfContainerItem:r,activatedValue:h}=t;(r||h)&&this.scrollToActivatedValue()}ngAfterViewInit(){setTimeout(()=>this.scrollToActivatedValue())}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-option-container"]],viewQuery:function(t,r){if(1&t&&i.Gf(F,7),2&t){let h;i.iGM(h=i.CRH())&&(r.cdkVirtualScrollViewport=h.first)}},inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",listOfContainerItem:"listOfContainerItem",compareWith:"compareWith"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[i.TTD],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","scrolledIndexChange"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick"]],template:function(t,r){1&t&&(i.TgZ(0,"div"),i.YNc(1,gu,2,1,"div",0),i.TgZ(2,"cdk-virtual-scroll-viewport",1),i.NdJ("scrolledIndexChange",function(f){return r.onScrolledIndexChange(f)}),i.YNc(3,_u,3,3,"ng-template",2),i.qZA(),i.YNc(4,yu,0,0,"ng-template",3),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",0===r.listOfContainerItem.length),i.xp6(1),i.Udp("height",r.listOfContainerItem.length*r.itemSize,"px")("max-height",r.itemSize*r.maxItemLength,"px"),i.ekj("full-width",!r.matchWidth),i.Q6J("itemSize",r.itemSize)("maxBufferPx",r.itemSize*r.maxItemLength)("minBufferPx",r.itemSize*r.maxItemLength),i.xp6(1),i.Q6J("cdkVirtualForOf",r.listOfContainerItem)("cdkVirtualForTrackBy",r.trackValue)("cdkVirtualForTemplateCacheSize",0),i.xp6(1),i.Q6J("ngTemplateOutlet",r.dropdownRender))},directives:function(){return[M.O5,F,ii,me,M.tP,cu,M.RF,M.n9,ih,rh]},encapsulation:2,changeDetection:0}),s})(),Dc=(()=>{class s{constructor(t,r){this.nzOptionGroupComponent=t,this.destroy$=r,this.changes=new V.xQ,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe((0,Ne.O)(!0),(0,O.R)(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(Dl,8),i.Y36(xi))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-option"]],viewQuery:function(t,r){if(1&t&&i.Gf(i.Rgc,7),2&t){let h;i.iGM(h=i.CRH())&&(r.template=h.first)}},inputs:{nzLabel:"nzLabel",nzValue:"nzValue",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],features:[i._Bn([xi]),i.TTD],ngContentSelectors:kc,decls:1,vars:0,template:function(t,r){1&t&&(i.F$t(),i.YNc(0,Cu,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),(0,re.gn)([(0,j.yF)()],s.prototype,"nzDisabled",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzHide",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzCustomContent",void 0),s})(),Ac=(()=>{class s{constructor(t,r,h){this.elementRef=t,this.renderer=r,this.focusMonitor=h,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new i.vpe,this.isComposingChange=new i.vpe,this.elementRef.nativeElement.classList.add("ant-select-selection-search")}setCompositionState(t){this.isComposingChange.next(t)}onValueChange(t){this.value=t,this.valueChange.next(t),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const t=this.mirrorElement.nativeElement,r=this.elementRef.nativeElement,h=this.inputElement.nativeElement;this.renderer.removeStyle(r,"width"),t.innerHTML=this.renderer.createText(`${h.value}&nbsp;`),this.renderer.setStyle(r,"width",`${t.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(t){const r=this.inputElement.nativeElement,{focusTrigger:h,showInput:f}=t;f&&(this.showInput?this.renderer.removeAttribute(r,"readonly"):this.renderer.setAttribute(r,"readonly","readonly")),h&&!0===h.currentValue&&!1===h.previousValue&&r.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(nn))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-select-search"]],viewQuery:function(t,r){if(1&t&&(i.Gf(zu,7),i.Gf(bu,5)),2&t){let h;i.iGM(h=i.CRH())&&(r.inputElement=h.first),i.iGM(h=i.CRH())&&(r.mirrorElement=h.first)}},inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[i._Bn([{provide:Re.ve,useValue:!1}]),i.TTD],decls:3,vars:7,consts:[["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModel","disabled","ngModelChange","compositionstart","compositionend"],["inputElement",""],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"],["mirrorElement",""]],template:function(t,r){1&t&&(i.TgZ(0,"input",0,1),i.NdJ("ngModelChange",function(f){return r.onValueChange(f)})("compositionstart",function(){return r.setCompositionState(!0)})("compositionend",function(){return r.setCompositionState(!1)}),i.qZA(),i.YNc(2,Su,2,0,"span",2)),2&t&&(i.Udp("opacity",r.showInput?null:0),i.Q6J("ngModel",r.value)("disabled",r.disabled),i.uIk("id",r.nzId)("autofocus",r.autofocus?"autofocus":null),i.xp6(2),i.Q6J("ngIf",r.mirrorSync))},directives:[Re.Fj,Re.JJ,Re.On,M.O5],encapsulation:2,changeDetection:0}),s})(),Al=(()=>{class s{constructor(t,r,h){this.elementRef=t,this.ngZone=r,this.noAnimation=h,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new i.vpe,this.inputValueChange=new i.vpe,this.deleteItem=new i.vpe,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new V.xQ,this.elementRef.nativeElement.classList.add("ant-select-selector")}updateTemplateVariable(){const t=0===this.listOfTopItem.length;this.isShowPlaceholder=t&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!t&&!this.isComposing&&!this.inputValue}isComposingChange(t){this.isComposing=t,this.updateTemplateVariable()}onInputValueChange(t){t!==this.inputValue&&(this.inputValue=t,this.updateTemplateVariable(),this.inputValueChange.emit(t),this.tokenSeparate(t,this.tokenSeparators))}tokenSeparate(t,r){if(t&&t.length&&r.length&&"default"!==this.mode&&((_,S)=>{for(let T=0;T<S.length;++T)if(_.lastIndexOf(S[T])>0)return!0;return!1})(t,r)){const _=((_,S)=>{const T=new RegExp(`[${S.join()}]`),E=_.split(T).filter(q=>q);return[...new Set(E)]})(t,r);this.tokenize.next(_)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(t,r){return r.nzValue}onDeleteItem(t){!this.disabled&&!t.nzDisabled&&this.deleteItem.next(t)}ngOnChanges(t){const{listOfTopItem:r,maxTagCount:h,customTemplate:f,maxTagPlaceholder:_}=t;if(r&&this.updateTemplateVariable(),r||h||f||_){const S=this.listOfTopItem.slice(0,this.maxTagCount).map(T=>({nzLabel:T.nzLabel,nzValue:T.nzValue,nzDisabled:T.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:T}));if(this.listOfTopItem.length>this.maxTagCount){const T=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,E=this.listOfTopItem.map(ue=>ue.nzValue),q={nzLabel:T,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:E.slice(this.maxTagCount)};S.push(q)}this.listOfSlicedItem=S}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,ht.R)(this.elementRef.nativeElement,"click").pipe((0,O.R)(this.destroy$)).subscribe(t=>{t.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),(0,ht.R)(this.elementRef.nativeElement,"keydown").pipe((0,O.R)(this.destroy$)).subscribe(t=>{if(t.target instanceof HTMLInputElement){const r=t.target.value;8===t.keyCode&&"default"!==this.mode&&!r&&this.listOfTopItem.length>0&&(t.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))}})})}ngOnDestroy(){this.destroy$.next()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(yn,9))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-select-top-control"]],viewQuery:function(t,r){if(1&t&&i.Gf(Ac,5),2&t){let h;i.iGM(h=i.CRH())&&(r.nzSelectSearchComponent=h.first)}},inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[i.TTD],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger","isComposingChange","valueChange"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger","isComposingChange","valueChange"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete"],[3,"placeholder"]],template:function(t,r){1&t&&(i.ynx(0,0),i.YNc(1,xu,3,8,"ng-container",1),i.YNc(2,Ou,3,9,"ng-container",2),i.BQk(),i.YNc(3,Mu,1,1,"nz-select-placeholder",3)),2&t&&(i.Q6J("ngSwitch",r.mode),i.xp6(1),i.Q6J("ngSwitchCase","default"),i.xp6(2),i.Q6J("ngIf",r.isShowPlaceholder))},directives:function(){return[M.RF,M.n9,M.ED,M.O5,Ac,ah,M.sg,Cn.w,lh]},encapsulation:2,changeDetection:0}),s})();const eh=(s,l)=>!(!l||!l.nzLabel)&&l.nzLabel.toString().toLowerCase().indexOf(s.toLowerCase())>-1;let nh=(()=>{class s{constructor(t,r,h,f,_,S,T,E){this.destroy$=t,this.nzConfigService=r,this.cdr=h,this.elementRef=f,this.platform=_,this.focusMonitor=S,this.directionality=T,this.noAnimation=E,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=eh,this.compareWith=(q,ue)=>q===ue,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new i.vpe,this.nzScrollToBottom=new i.vpe,this.nzOpenChange=new i.vpe,this.nzBlur=new i.vpe,this.nzFocus=new i.vpe,this.listOfValue$=new vt.X([]),this.listOfTemplateItem$=new vt.X([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottom",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.elementRef.nativeElement.classList.add("ant-select")}set nzShowArrow(t){this._nzShowArrow=t}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}generateTagItem(t){return{nzValue:t,nzLabel:t,type:"item"}}onItemClick(t){if(this.activatedValue=t,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],t))&&this.updateListOfValue([t]),this.setOpenState(!1);else{const r=this.listOfValue.findIndex(h=>this.compareWith(h,t));if(-1!==r){const h=this.listOfValue.filter((f,_)=>_!==r);this.updateListOfValue(h)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const h=[...this.listOfValue,t];this.updateListOfValue(h)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(t){const r=this.listOfValue.filter(h=>!this.compareWith(h,t.nzValue));this.updateListOfValue(r),this.clearInput()}onHostClick(){this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.setOpenState(!this.nzOpen)}updateListOfContainerItem(){let t=this.listOfTagAndTemplateItem.filter(f=>!f.nzHide).filter(f=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,f));if("tags"===this.nzMode&&this.searchValue){const f=this.listOfTagAndTemplateItem.find(_=>_.nzLabel===this.searchValue);if(f)this.activatedValue=f.nzValue;else{const _=this.generateTagItem(this.searchValue);t=[_,...t],this.activatedValue=_.nzValue}}const r=t.find(f=>this.compareWith(f.nzValue,this.listOfValue[0]))||t[0];this.activatedValue=r&&r.nzValue||null;let h=[];this.isReactiveDriven?h=[...new Set(this.nzOptions.filter(f=>f.groupLabel).map(f=>f.groupLabel))]:this.listOfNzOptionGroupComponent&&(h=this.listOfNzOptionGroupComponent.map(f=>f.nzLabel)),h.forEach(f=>{const _=t.findIndex(S=>f===S.groupLabel);_>-1&&t.splice(_,0,{groupLabel:f,type:"group",key:f})}),this.listOfContainerItem=[...t],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(t){const h=((f,_)=>"default"===this.nzMode?f.length>0?f[0]:null:f)(t);this.value!==h&&(this.listOfValue=t,this.listOfValue$.next(t),this.value=h,this.onChange(this.value))}onTokenSeparate(t){const r=this.listOfTagAndTemplateItem.filter(h=>-1!==t.findIndex(f=>f===h.nzLabel)).map(h=>h.nzValue).filter(h=>-1===this.listOfValue.findIndex(f=>this.compareWith(f,h)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...r]);else if("tags"===this.nzMode){const h=t.filter(f=>-1===this.listOfTagAndTemplateItem.findIndex(_=>_.nzLabel===f));this.updateListOfValue([...this.listOfValue,...r,...h])}this.clearInput()}onOverlayKeyDown(t){27===t.keyCode&&this.setOpenState(!1)}onKeyDown(t){if(this.nzDisabled)return;const r=this.listOfContainerItem.filter(f=>"item"===f.type).filter(f=>!f.nzDisabled),h=r.findIndex(f=>this.compareWith(f.nzValue,this.activatedValue));switch(t.keyCode){case 38:t.preventDefault(),this.nzOpen&&(this.activatedValue=r[h>0?h-1:r.length-1].nzValue);break;case 40:t.preventDefault(),this.nzOpen?this.activatedValue=r[h<r.length-1?h+1:0].nzValue:this.setOpenState(!0);break;case 13:t.preventDefault(),this.nzOpen?(0,j.DX)(this.activatedValue)&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),t.preventDefault());break;case 9:this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(t){this.nzOpen!==t&&(this.nzOpen=t,this.nzOpenChange.emit(t),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.clearInput()}onInputValueChange(t){this.searchValue=t,this.updateListOfContainerItem(),this.nzOnSearch.emit(t),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(t){this.elementRef.nativeElement.contains(t.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(t){this.dropDownPosition=t.connectionPair.originY}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const t=this.triggerWidth;Qr(this.requestId),this.requestId=Ic(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,t!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){Ic(()=>{var t,r;null===(r=null===(t=this.cdkConnectedOverlay)||void 0===t?void 0:t.overlayRef)||void 0===r||r.updatePosition()})}writeValue(t){if(this.value!==t){this.value=t;const h=((f,_)=>null==f?[]:"default"===this.nzMode?[f]:f)(t);this.listOfValue=h,this.listOfValue$.next(h),this.cdr.markForCheck()}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,t&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(t){const{nzOpen:r,nzDisabled:h,nzOptions:f}=t;if(r&&this.onOpenChange(),h&&this.nzDisabled&&this.setOpenState(!1),f){this.isReactiveDriven=!0;const S=(this.nzOptions||[]).map(T=>({template:T.label instanceof i.Rgc?T.label:null,nzLabel:"string"==typeof T.label||"number"==typeof T.label?T.label:null,nzValue:T.value,nzDisabled:T.disabled||!1,nzHide:T.hide||!1,nzCustomContent:T.label instanceof i.Rgc,groupLabel:T.groupLabel||null,type:"item",key:T.value}));this.listOfTemplateItem$.next(S)}}ngOnInit(){var t;this.focusMonitor.monitor(this.elementRef,!0).pipe((0,O.R)(this.destroy$)).subscribe(r=>{r?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,ci.aj)([this.listOfValue$,this.listOfTemplateItem$]).pipe((0,O.R)(this.destroy$)).subscribe(([r,h])=>{const f=r.filter(()=>"tags"===this.nzMode).filter(_=>-1===h.findIndex(S=>this.compareWith(S.nzValue,_))).map(_=>this.listOfTopItem.find(S=>this.compareWith(S.nzValue,_))||this.generateTagItem(_));this.listOfTagAndTemplateItem=[...h,...f],this.listOfTopItem=this.listOfValue.map(_=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(S=>this.compareWith(_,S.nzValue))).filter(_=>!!_),this.updateListOfContainerItem()}),null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value}ngAfterContentInit(){this.isReactiveDriven||(0,Ie.T)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe((0,Ne.O)(!0),(0,dt.w)(()=>(0,Ie.T)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(t=>t.changes),...this.listOfNzOptionGroupComponent.map(t=>t.changes)).pipe((0,Ne.O)(!0))),(0,O.R)(this.destroy$)).subscribe(()=>{const t=this.listOfNzOptionComponent.toArray().map(r=>{const{template:h,nzLabel:f,nzValue:_,nzDisabled:S,nzHide:T,nzCustomContent:E,groupLabel:q}=r;return{template:h,nzLabel:f,nzValue:_,nzDisabled:S,nzHide:T,nzCustomContent:E,groupLabel:q,type:"item",key:_}});this.listOfTemplateItem$.next(t),this.cdr.markForCheck()})}ngOnDestroy(){Qr(this.requestId),this.focusMonitor.stopMonitoring(this.elementRef)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(xi),i.Y36(Pe.jY),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(X.t4),i.Y36(nn),i.Y36(le.Is,8),i.Y36(yn,9))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-select"]],contentQueries:function(t,r,h){if(1&t&&(i.Suo(h,Dc,5),i.Suo(h,Dl,5)),2&t){let f;i.iGM(f=i.CRH())&&(r.listOfNzOptionComponent=f),i.iGM(f=i.CRH())&&(r.listOfNzOptionGroupComponent=f)}},viewQuery:function(t,r){if(1&t&&(i.Gf(qi,7,i.SBq),i.Gf(en,7),i.Gf(Al,7),i.Gf(Dl,7,i.SBq),i.Gf(Al,7,i.SBq)),2&t){let h;i.iGM(h=i.CRH())&&(r.originElement=h.first),i.iGM(h=i.CRH())&&(r.cdkConnectedOverlay=h.first),i.iGM(h=i.CRH())&&(r.nzSelectTopControlComponent=h.first),i.iGM(h=i.CRH())&&(r.nzOptionGroupComponentElement=h.first),i.iGM(h=i.CRH())&&(r.nzSelectTopControlComponentElement=h.first)}},hostVars:24,hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.onHostClick()}),2&t&&i.ekj("ant-select-lg","large"===r.nzSize)("ant-select-sm","small"===r.nzSize)("ant-select-show-arrow",r.nzShowArrow)("ant-select-disabled",r.nzDisabled)("ant-select-show-search",(r.nzShowSearch||"default"!==r.nzMode)&&!r.nzDisabled)("ant-select-allow-clear",r.nzAllowClear)("ant-select-borderless",r.nzBorderless)("ant-select-open",r.nzOpen)("ant-select-focused",r.nzOpen||r.focused)("ant-select-single","default"===r.nzMode)("ant-select-multiple","default"!==r.nzMode)("ant-select-rtl","rtl"===r.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[i._Bn([xi,{provide:Re.JU,useExisting:(0,i.Gpc)(()=>s),multi:!0}]),i.TTD],decls:5,vars:24,consts:[["cdkOverlayOrigin","",3,"nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","inputValueChange","tokenize","deleteItem","keydown"],["origin","cdkOverlayOrigin"],[3,"loading","search","suffixIcon",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","overlayKeydown","overlayOutsideClick","detach","positionChange"],[3,"loading","search","suffixIcon"],[3,"clearIcon","clear"],[3,"ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","keydown","itemClick","scrollToBottom"]],template:function(t,r){if(1&t&&(i.TgZ(0,"nz-select-top-control",0,1),i.NdJ("inputValueChange",function(f){return r.onInputValueChange(f)})("tokenize",function(f){return r.onTokenSeparate(f)})("deleteItem",function(f){return r.onItemDelete(f)})("keydown",function(f){return r.onKeyDown(f)}),i.qZA(),i.YNc(2,Nu,1,3,"nz-select-arrow",2),i.YNc(3,Iu,1,1,"nz-select-clear",3),i.YNc(4,ku,1,19,"ng-template",4),i.NdJ("overlayKeydown",function(f){return r.onOverlayKeyDown(f)})("overlayOutsideClick",function(f){return r.onClickOutside(f)})("detach",function(){return r.setOpenState(!1)})("positionChange",function(f){return r.onPositionChange(f)})),2&t){const h=i.MAs(1);i.Q6J("nzId",r.nzId)("open",r.nzOpen)("disabled",r.nzDisabled)("mode",r.nzMode)("@.disabled",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("maxTagPlaceholder",r.nzMaxTagPlaceholder)("removeIcon",r.nzRemoveIcon)("placeHolder",r.nzPlaceHolder)("maxTagCount",r.nzMaxTagCount)("customTemplate",r.nzCustomTemplate)("tokenSeparators",r.nzTokenSeparators)("showSearch",r.nzShowSearch)("autofocus",r.nzAutoFocus)("listOfTopItem",r.listOfTopItem),i.xp6(2),i.Q6J("ngIf",r.nzShowArrow),i.xp6(1),i.Q6J("ngIf",r.nzAllowClear&&!r.nzDisabled&&r.listOfValue.length),i.xp6(1),i.Q6J("cdkConnectedOverlayHasBackdrop",r.nzBackdrop)("cdkConnectedOverlayMinWidth",r.nzDropdownMatchSelectWidth?null:r.triggerWidth)("cdkConnectedOverlayWidth",r.nzDropdownMatchSelectWidth?r.triggerWidth:null)("cdkConnectedOverlayOrigin",h)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",r.nzDropdownClassName)("cdkConnectedOverlayOpen",r.nzOpen)}},directives:function(){return[Cn.w,Al,qi,yn,M.O5,en,ir,oh,sh,Ku,M.PC]},encapsulation:2,data:{animation:[On]},changeDetection:0}),(0,re.gn)([(0,Pe.oS)()],s.prototype,"nzSuffixIcon",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzAllowClear",void 0),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzBorderless",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzShowSearch",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzLoading",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzAutoFocus",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzAutoClearSearchValue",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzServerSearch",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzDisabled",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzOpen",void 0),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzBackdrop",void 0),s})(),ih=(()=>{class s{constructor(t){this.elementRef=t,this.nzLabel=null,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-group")}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-option-item-group"]],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,r){1&t&&i.YNc(0,Du,2,1,"ng-container",0),2&t&&i.Q6J("nzStringTemplateOutlet",r.nzLabel)},directives:[Ot],encapsulation:2,changeDetection:0}),s})(),rh=(()=>{class s{constructor(t){this.elementRef=t,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new i.vpe,this.itemHover=new i.vpe,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-option")}onHostMouseEnter(){this.disabled||this.itemHover.next(this.value)}onHostClick(){this.disabled||this.itemClick.next(this.value)}ngOnChanges(t){const{value:r,activatedValue:h,listOfSelectedValue:f}=t;(r||f)&&(this.selected=this.listOfSelectedValue.some(_=>this.compareWith(_,this.value))),(r||h)&&(this.activated=this.compareWith(this.activatedValue,this.value))}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-option-item"]],hostVars:9,hostBindings:function(t,r){1&t&&i.NdJ("mouseenter",function(){return r.onHostMouseEnter()})("click",function(){return r.onHostClick()}),2&t&&(i.uIk("title",r.label),i.ekj("ant-select-item-option-grouped",r.grouped)("ant-select-item-option-selected",r.selected&&!r.disabled)("ant-select-item-option-disabled",r.disabled)("ant-select-item-option-active",r.activated&&!r.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[i.TTD],decls:4,vars:3,consts:[[1,"ant-select-item-option-content"],[4,"ngIf"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,Au,2,1,"ng-container",1),i.YNc(2,Lu,2,1,"ng-container",1),i.qZA(),i.YNc(3,Pu,2,2,"div",2)),2&t&&(i.xp6(1),i.Q6J("ngIf",!r.customContent),i.xp6(1),i.Q6J("ngIf",r.customContent),i.xp6(1),i.Q6J("ngIf",r.showState&&r.selected))},directives:[M.O5,M.tP,Xe.Ls,Cn.w],encapsulation:2,changeDetection:0}),s})(),oh=(()=>{class s{constructor(t){this.elementRef=t,this.loading=!1,this.search=!1,this.suffixIcon=null,this.elementRef.nativeElement.classList.add("ant-select-arrow")}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-select-arrow"]],hostVars:2,hostBindings:function(t,r){2&t&&i.ekj("ant-select-arrow-loading",r.loading)},inputs:{loading:"loading",search:"search",suffixIcon:"suffixIcon"},decls:3,vars:2,consts:[["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["defaultArrow",""],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["suffixTemplate",""],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,r){if(1&t&&(i.YNc(0,Ru,1,0,"i",0),i.YNc(1,Gu,3,2,"ng-template",null,1,i.W1O)),2&t){const h=i.MAs(2);i.Q6J("ngIf",r.loading)("ngIfElse",h)}},directives:[M.O5,Xe.Ls,Cn.w,Ot],encapsulation:2,changeDetection:0}),s})(),sh=(()=>{class s{constructor(t){this.elementRef=t,this.clearIcon=null,this.clear=new i.vpe,this.elementRef.nativeElement.classList.add("ant-select-clear")}onClick(t){t.preventDefault(),t.stopPropagation(),this.clear.emit(t)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-select-clear"]],hostBindings:function(t,r){1&t&&i.NdJ("click",function(f){return r.onClick(f)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(t,r){1&t&&i.YNc(0,Qu,1,0,"i",0),2&t&&i.Q6J("ngIf",!r.clearIcon)("ngIfElse",r.clearIcon)},directives:[M.O5,Xe.Ls,Cn.w],encapsulation:2,changeDetection:0}),s})(),ah=(()=>{class s{constructor(t){this.elementRef=t,this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new i.vpe,this.elementRef.nativeElement.classList.add("ant-select-selection-item")}onDelete(t){t.preventDefault(),t.stopPropagation(),this.disabled||this.delete.next(t)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-select-item"]],hostVars:3,hostBindings:function(t,r){2&t&&(i.uIk("title",r.label),i.ekj("ant-select-selection-item-disabled",r.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:5,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],["labelTemplate",""],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(t,r){1&t&&(i.YNc(0,Ju,4,2,"ng-container",0),i.YNc(1,qu,2,2,"span",1)),2&t&&(i.Q6J("nzStringTemplateOutlet",r.contentTemplateOutlet)("nzStringTemplateOutletContext",i.VKq(3,$u,r.contentTemplateOutletContext)),i.xp6(1),i.Q6J("ngIf",r.deletable&&!r.disabled))},directives:[Ot,M.O5,Xe.Ls,Cn.w],encapsulation:2,changeDetection:0}),s})(),lh=(()=>{class s{constructor(t){this.elementRef=t,this.placeholder=null,this.elementRef.nativeElement.classList.add("ant-select-selection-placeholder")}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-select-placeholder"]],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,r){1&t&&i.YNc(0,Xu,2,1,"ng-container",0),2&t&&i.Q6J("nzStringTemplateOutlet",r.placeholder)},directives:[Ot],encapsulation:2,changeDetection:0}),s})(),ch=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,Nn.YI,Re.u5,X.ud,Wn,Xe.PV,_n,pu,To,Pr,Cn.a,Ve,di]]}),s})();function uh(s,l){}function hh(s,l){if(1&s&&(i.ynx(0),i.YNc(1,uh,0,0,"ng-template",6),i.BQk()),2&s){i.oxw(2);const t=i.MAs(2);i.xp6(1),i.Q6J("ngTemplateOutlet",t.template)}}function dh(s,l){if(1&s&&(i.ynx(0),i.YNc(1,hh,2,1,"ng-container",5),i.BQk()),2&s){const t=i.oxw(),r=i.MAs(4);i.xp6(1),i.Q6J("ngIf",t.nzSimple)("ngIfElse",r.template)}}const Ec=["containerTemplate"];function fh(s,l){}const ph=function(s,l){return{$implicit:s,range:l}};function gh(s,l){if(1&s&&(i.TgZ(0,"li",4),i.YNc(1,fh,0,0,"ng-template",5),i.qZA()),2&s){const t=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",t.showTotal)("ngTemplateOutletContext",i.WLB(2,ph,t.total,t.ranges))}}function mh(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"li",6),i.NdJ("gotoIndex",function(h){return i.CHM(t),i.oxw(2).jumpPage(h)})("diffIndex",function(h){return i.CHM(t),i.oxw(2).jumpDiff(h)}),i.qZA()}if(2&s){const t=l.$implicit,r=i.oxw(2);i.Q6J("locale",r.locale)("type",t.type)("index",t.index)("disabled",!!t.disabled)("itemRender",r.itemRender)("active",r.pageIndex===t.index)("direction",r.dir)}}function vh(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"div",7),i.NdJ("pageIndexChange",function(h){return i.CHM(t),i.oxw(2).onPageIndexChange(h)})("pageSizeChange",function(h){return i.CHM(t),i.oxw(2).onPageSizeChange(h)}),i.qZA()}if(2&s){const t=i.oxw(2);i.Q6J("total",t.total)("locale",t.locale)("disabled",t.disabled)("nzSize",t.nzSize)("showSizeChanger",t.showSizeChanger)("showQuickJumper",t.showQuickJumper)("pageIndex",t.pageIndex)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)}}function _h(s,l){if(1&s&&(i.YNc(0,gh,2,5,"li",1),i.YNc(1,mh,1,7,"li",2),i.YNc(2,vh,1,9,"div",3)),2&s){const t=i.oxw();i.Q6J("ngIf",t.showTotal),i.xp6(1),i.Q6J("ngForOf",t.listOfPageItem)("ngForTrackBy",t.trackByPageItem),i.xp6(1),i.Q6J("ngIf",t.showQuickJumper||t.showSizeChanger)}}const yh=["nz-pagination-item",""];function Ch(s,l){if(1&s&&(i.TgZ(0,"a"),i._uU(1),i.qZA()),2&s){const t=i.oxw().page;i.xp6(1),i.Oqu(t)}}function zh(s,l){1&s&&i._UZ(0,"i",9)}function bh(s,l){1&s&&i._UZ(0,"i",10)}function Sh(s,l){if(1&s&&(i.TgZ(0,"button",6),i.ynx(1,2),i.YNc(2,zh,1,0,"i",7),i.YNc(3,bh,1,0,"i",8),i.BQk(),i.qZA()),2&s){const t=i.oxw(2);i.Q6J("disabled",t.disabled),i.xp6(1),i.Q6J("ngSwitch",t.direction),i.xp6(1),i.Q6J("ngSwitchCase","rtl")}}function wh(s,l){1&s&&i._UZ(0,"i",10)}function xh(s,l){1&s&&i._UZ(0,"i",9)}function Th(s,l){if(1&s&&(i.TgZ(0,"button",6),i.ynx(1,2),i.YNc(2,wh,1,0,"i",11),i.YNc(3,xh,1,0,"i",12),i.BQk(),i.qZA()),2&s){const t=i.oxw(2);i.Q6J("disabled",t.disabled),i.xp6(1),i.Q6J("ngSwitch",t.direction),i.xp6(1),i.Q6J("ngSwitchCase","rtl")}}function Oh(s,l){1&s&&i._UZ(0,"i",20)}function Mh(s,l){1&s&&i._UZ(0,"i",21)}function Nh(s,l){if(1&s&&(i.ynx(0,2),i.YNc(1,Oh,1,0,"i",18),i.YNc(2,Mh,1,0,"i",19),i.BQk()),2&s){const t=i.oxw(4);i.Q6J("ngSwitch",t.direction),i.xp6(1),i.Q6J("ngSwitchCase","rtl")}}function Ih(s,l){1&s&&i._UZ(0,"i",21)}function kh(s,l){1&s&&i._UZ(0,"i",20)}function Dh(s,l){if(1&s&&(i.ynx(0,2),i.YNc(1,Ih,1,0,"i",22),i.YNc(2,kh,1,0,"i",23),i.BQk()),2&s){const t=i.oxw(4);i.Q6J("ngSwitch",t.direction),i.xp6(1),i.Q6J("ngSwitchCase","rtl")}}function Ah(s,l){if(1&s&&(i.TgZ(0,"div",15),i.ynx(1,2),i.YNc(2,Nh,3,2,"ng-container",16),i.YNc(3,Dh,3,2,"ng-container",16),i.BQk(),i.TgZ(4,"span",17),i._uU(5,"\u2022\u2022\u2022"),i.qZA(),i.qZA()),2&s){const t=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngSwitch",t),i.xp6(1),i.Q6J("ngSwitchCase","prev_5"),i.xp6(1),i.Q6J("ngSwitchCase","next_5")}}function Eh(s,l){if(1&s&&(i.ynx(0),i.TgZ(1,"a",13),i.YNc(2,Ah,6,3,"div",14),i.qZA(),i.BQk()),2&s){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("ngSwitch",t)}}function Lh(s,l){1&s&&(i.ynx(0,2),i.YNc(1,Ch,2,1,"a",3),i.YNc(2,Sh,4,3,"button",4),i.YNc(3,Th,4,3,"button",4),i.YNc(4,Eh,3,1,"ng-container",5),i.BQk()),2&s&&(i.Q6J("ngSwitch",l.$implicit),i.xp6(1),i.Q6J("ngSwitchCase","page"),i.xp6(1),i.Q6J("ngSwitchCase","prev"),i.xp6(1),i.Q6J("ngSwitchCase","next"))}function Fh(s,l){}const Ph=function(s,l){return{$implicit:s,page:l}},Rh=["nz-pagination-options",""];function Bh(s,l){if(1&s&&i._UZ(0,"nz-option",4),2&s){const t=l.$implicit;i.Q6J("nzLabel",t.label)("nzValue",t.value)}}function Hh(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"nz-select",2),i.NdJ("ngModelChange",function(h){return i.CHM(t),i.oxw().onPageSizeChange(h)}),i.YNc(1,Bh,1,2,"nz-option",3),i.qZA()}if(2&s){const t=i.oxw();i.Q6J("nzDisabled",t.disabled)("nzSize",t.nzSize)("ngModel",t.pageSize),i.xp6(1),i.Q6J("ngForOf",t.listOfPageSizeOption)("ngForTrackBy",t.trackByOption)}}function Yh(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"div",5),i._uU(1),i.TgZ(2,"input",6),i.NdJ("keydown.enter",function(h){return i.CHM(t),i.oxw().jumpToPageViaInput(h)}),i.qZA(),i._uU(3),i.qZA()}if(2&s){const t=i.oxw();i.xp6(1),i.hij(" ",t.locale.jump_to," "),i.xp6(1),i.Q6J("disabled",t.disabled),i.xp6(1),i.hij(" ",t.locale.page," ")}}function Wh(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"li",1),i.NdJ("click",function(){return i.CHM(t),i.oxw().prePage()}),i.qZA(),i.TgZ(1,"li",2),i.TgZ(2,"input",3),i.NdJ("keydown.enter",function(h){return i.CHM(t),i.oxw().jumpToPageViaInput(h)}),i.qZA(),i.TgZ(3,"span",4),i._uU(4,"/"),i.qZA(),i._uU(5),i.qZA(),i.TgZ(6,"li",5),i.NdJ("click",function(){return i.CHM(t),i.oxw().nextPage()}),i.qZA()}if(2&s){const t=i.oxw();i.Q6J("disabled",t.isFirstIndex)("direction",t.dir)("itemRender",t.itemRender),i.uIk("title",t.locale.prev_page),i.xp6(1),i.uIk("title",t.pageIndex+"/"+t.lastIndex),i.xp6(1),i.Q6J("disabled",t.disabled)("value",t.pageIndex),i.xp6(3),i.hij(" ",t.lastIndex," "),i.xp6(1),i.Q6J("disabled",t.isLastIndex)("direction",t.dir)("itemRender",t.itemRender),i.uIk("title",null==t.locale?null:t.locale.next_page)}}let Gh=(()=>{class s{constructor(t,r,h,f,_,S){this.i18n=t,this.cdr=r,this.breakpointService=h,this.nzConfigService=f,this.directionality=_,this.elementRef=S,this._nzModuleName="pagination",this.nzPageSizeChange=new i.vpe,this.nzPageIndexChange=new i.vpe,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new V.xQ,this.total$=new Fn(1),this.elementRef.nativeElement.classList.add("ant-pagination")}validatePageIndex(t,r){return t>r?r:t<1?1:t}onPageIndexChange(t){const r=this.getLastIndex(this.nzTotal,this.nzPageSize),h=this.validatePageIndex(t,r);h!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=h,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(t){this.nzPageSize=t,this.nzPageSizeChange.emit(t);const r=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>r&&this.onPageIndexChange(r)}onTotalChange(t){const r=this.getLastIndex(t,this.nzPageSize);this.nzPageIndex>r&&Promise.resolve().then(()=>{this.onPageIndexChange(r),this.cdr.markForCheck()})}getLastIndex(t,r){return Math.ceil(t/r)}ngOnInit(){var t;this.i18n.localeChange.pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.onTotalChange(r)}),this.breakpointService.subscribe(li).pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.nzResponsive&&(this.size=r===Ki.xs?"small":"default",this.cdr.markForCheck())}),null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){const{nzHideOnSinglePage:r,nzTotal:h,nzPageSize:f,nzSize:_}=t;h&&this.total$.next(this.nzTotal),(r||h||f)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),_&&(this.size=_.currentValue)}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(Nn.wi),i.Y36(i.sBO),i.Y36(Dr),i.Y36(Pe.jY),i.Y36(le.Is,8),i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-pagination"]],hostVars:8,hostBindings:function(t,r){2&t&&i.ekj("ant-pagination-simple",r.nzSimple)("ant-pagination-disabled",r.nzDisabled)("mini",!r.nzSimple&&"small"===r.size)("ant-pagination-rtl","rtl"===r.dir)},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],features:[i.TTD],decls:5,vars:18,consts:[[4,"ngIf"],[3,"disabled","itemRender","locale","pageSize","total","pageIndex","pageIndexChange"],["simplePagination",""],[3,"nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"],["defaultPagination",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&(i.YNc(0,dh,2,2,"ng-container",0),i.TgZ(1,"nz-pagination-simple",1,2),i.NdJ("pageIndexChange",function(f){return r.onPageIndexChange(f)}),i.qZA(),i.TgZ(3,"nz-pagination-default",3,4),i.NdJ("pageIndexChange",function(f){return r.onPageIndexChange(f)})("pageSizeChange",function(f){return r.onPageSizeChange(f)}),i.qZA()),2&t&&(i.Q6J("ngIf",r.showPagination),i.xp6(1),i.Q6J("disabled",r.nzDisabled)("itemRender",r.nzItemRender)("locale",r.locale)("pageSize",r.nzPageSize)("total",r.nzTotal)("pageIndex",r.nzPageIndex),i.xp6(2),i.Q6J("nzSize",r.size)("itemRender",r.nzItemRender)("showTotal",r.nzShowTotal)("disabled",r.nzDisabled)("locale",r.locale)("showSizeChanger",r.nzShowSizeChanger)("showQuickJumper",r.nzShowQuickJumper)("total",r.nzTotal)("pageIndex",r.nzPageIndex)("pageSize",r.nzPageSize)("pageSizeOptions",r.nzPageSizeOptions))},directives:function(){return[M.O5,Uh,Qh,M.tP]},encapsulation:2,changeDetection:0}),(0,re.gn)([(0,Pe.oS)()],s.prototype,"nzSize",void 0),(0,re.gn)([(0,Pe.oS)()],s.prototype,"nzPageSizeOptions",void 0),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzShowSizeChanger",void 0),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzShowQuickJumper",void 0),(0,re.gn)([(0,Pe.oS)(),(0,j.yF)()],s.prototype,"nzSimple",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzDisabled",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzResponsive",void 0),(0,re.gn)([(0,j.yF)()],s.prototype,"nzHideOnSinglePage",void 0),(0,re.gn)([(0,j.Rn)()],s.prototype,"nzTotal",void 0),(0,re.gn)([(0,j.Rn)()],s.prototype,"nzPageIndex",void 0),(0,re.gn)([(0,j.Rn)()],s.prototype,"nzPageSize",void 0),s})(),Qh=(()=>{class s{constructor(t,r,h,f){this.cdr=t,this.renderer=r,this.elementRef=h,this.directionality=f,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new i.vpe,this.pageSizeChange=new i.vpe,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new V.xQ,r.removeChild(r.parentNode(h.nativeElement),h.nativeElement)}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(t){this.onPageIndexChange(t)}jumpDiff(t){this.jumpPage(this.pageIndex+t)}trackByPageItem(t,r){return`${r.type}-${r.index}`}onPageIndexChange(t){this.pageIndexChange.next(t)}onPageSizeChange(t){this.pageSizeChange.next(t)}getLastIndex(t,r){return Math.ceil(t/r)}buildIndexes(){const t=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,t)}getListOfPageItem(t,r){const f=(_,S)=>{const T=[];for(let E=_;E<=S;E++)T.push({index:E,type:"page"});return T};return _=r<=9?f(1,r):((S,T)=>{let E=[];const q={type:"prev_5"},ue={type:"next_5"},ut=f(1,1),At=f(r,r);return E=S<5?[...f(2,4===S?6:5),ue]:S<T-3?[q,...f(S-2,S+2),ue]:[q,...f(S===T-3?T-5:T-4,T-1)],[...ut,...E,...At]})(t,r),[{type:"prev",disabled:1===t},..._,{type:"next",disabled:t===r}];var _}ngOnChanges(t){const{pageIndex:r,pageSize:h,total:f}=t;(r||h||f)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(le.Is,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-pagination-default"]],viewQuery:function(t,r){if(1&t&&i.Gf(Ec,7),2&t){let h;i.iGM(h=i.CRH())&&(r.template=h.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[i.TTD],decls:2,vars:0,consts:[["containerTemplate",""],["class","ant-pagination-total-text",4,"ngIf"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex",4,"ngFor","ngForOf","ngForTrackBy"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange",4,"ngIf"],[1,"ant-pagination-total-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"]],template:function(t,r){1&t&&i.YNc(0,_h,3,4,"ng-template",null,0,i.W1O)},directives:function(){return[M.O5,M.sg,M.tP,Lc,Zh]},encapsulation:2,changeDetection:0}),s})(),Lc=(()=>{class s{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new i.vpe,this.gotoIndex=new i.vpe,this.title=null}clickItem(){this.disabled||("page"===this.type?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(t){var r,h,f,_;const{locale:S,index:T,type:E}=t;(S||T||E)&&(this.title={page:`${this.index}`,next:null===(r=this.locale)||void 0===r?void 0:r.next_page,prev:null===(h=this.locale)||void 0===h?void 0:h.prev_page,prev_5:null===(f=this.locale)||void 0===f?void 0:f.prev_5,next_5:null===(_=this.locale)||void 0===_?void 0:_.next_5}[this.type])}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.clickItem()}),2&t&&(i.uIk("title",r.title),i.ekj("ant-pagination-prev","prev"===r.type)("ant-pagination-next","next"===r.type)("ant-pagination-item","page"===r.type)("ant-pagination-jump-prev","prev_5"===r.type)("ant-pagination-jump-prev-custom-icon","prev_5"===r.type)("ant-pagination-jump-next","next_5"===r.type)("ant-pagination-jump-next-custom-icon","next_5"===r.type)("ant-pagination-disabled",r.disabled)("ant-pagination-item-active",r.active))},inputs:{active:"active",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender",locale:"locale"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},features:[i.TTD],attrs:yh,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","button","class","ant-pagination-item-link",3,"disabled",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","button",1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right",4,"ngSwitchCase"],["nz-icon","","nzType","left",4,"ngSwitchDefault"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],["nz-icon","","nzType","left",4,"ngSwitchCase"],["nz-icon","","nzType","right",4,"ngSwitchDefault"],[1,"ant-pagination-item-link",3,"ngSwitch"],["class","ant-pagination-item-container",4,"ngSwitchDefault"],[1,"ant-pagination-item-container"],[3,"ngSwitch",4,"ngSwitchCase"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"]],template:function(t,r){if(1&t&&(i.YNc(0,Lh,5,4,"ng-template",null,0,i.W1O),i.YNc(2,Fh,0,0,"ng-template",1)),2&t){const h=i.MAs(1);i.xp6(2),i.Q6J("ngTemplateOutlet",r.itemRender||h)("ngTemplateOutletContext",i.WLB(2,Ph,r.type,r.index))}},directives:[M.tP,M.RF,M.n9,M.ED,Xe.Ls],encapsulation:2,changeDetection:0}),s})(),Zh=(()=>{class s{constructor(t){this.elementRef=t,this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new i.vpe,this.pageSizeChange=new i.vpe,this.listOfPageSizeOption=[],this.elementRef.nativeElement.classList.add("ant-pagination-options")}onPageSizeChange(t){this.pageSize!==t&&this.pageSizeChange.next(t)}jumpToPageViaInput(t){const r=t.target,h=Math.floor((0,j.He)(r.value,this.pageIndex));this.pageIndexChange.next(h),r.value=""}trackByOption(t,r){return r.value}ngOnChanges(t){const{pageSize:r,pageSizeOptions:h,locale:f}=t;(r||h||f)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(_=>({value:_,label:`${_} ${this.locale.items_per_page}`})))}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.SBq))},s.\u0275cmp=i.Xpm({type:s,selectors:[["div","nz-pagination-options",""]],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[i.TTD],attrs:Rh,decls:2,vars:2,consts:[["class","ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange",4,"ngIf"],["class","ant-pagination-options-quick-jumper",4,"ngIf"],[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzLabel","nzValue"],[1,"ant-pagination-options-quick-jumper"],[3,"disabled","keydown.enter"]],template:function(t,r){1&t&&(i.YNc(0,Hh,2,5,"nz-select",0),i.YNc(1,Yh,4,3,"div",1)),2&t&&(i.Q6J("ngIf",r.showSizeChanger),i.xp6(1),i.Q6J("ngIf",r.showQuickJumper))},directives:[M.O5,nh,Re.JJ,Re.On,M.sg,Dc],encapsulation:2,changeDetection:0}),s})(),Uh=(()=>{class s{constructor(t,r,h,f){this.cdr=t,this.renderer=r,this.elementRef=h,this.directionality=f,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new i.vpe,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new V.xQ,r.removeChild(r.parentNode(h.nativeElement),h.nativeElement)}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe((0,O.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(t){const r=t.target,h=(0,j.He)(r.value,this.pageIndex);this.onPageIndexChange(h),r.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(t){this.pageIndexChange.next(t)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=1===this.pageIndex,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(t){const{pageIndex:r,total:h,pageSize:f}=t;(r||h||f)&&this.updateBindingValue()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(le.Is,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nz-pagination-simple"]],viewQuery:function(t,r){if(1&t&&i.Gf(Ec,7),2&t){let h;i.iGM(h=i.CRH())&&(r.template=h.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange"},features:[i.TTD],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"disabled","direction","itemRender","click"],[1,"ant-pagination-simple-pager"],["size","3",3,"disabled","value","keydown.enter"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"disabled","direction","itemRender","click"]],template:function(t,r){1&t&&i.YNc(0,Wh,7,12,"ng-template",null,0,i.W1O)},directives:[Lc],encapsulation:2,changeDetection:0}),s})(),Fc=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,Re.u5,ch,Nn.YI,Xe.PV]]}),s})();function Jh(s,l){if(1&s&&i._UZ(0,"img",8),2&s){const t=i.oxw().$implicit;i.Q6J("src",t.thumbnailUrl,i.LSH)}}function jh(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"nz-card",5),i.NdJ("click",function(){const f=i.CHM(t).$implicit;return i.oxw(2).handleClickCard(f)}),i._UZ(2,"nz-card-meta",6),i.YNc(3,Jh,1,1,"ng-template",null,7,i.W1O),i.qZA(),i.qZA()}if(2&s){const t=l.$implicit,r=i.MAs(4);i.xp6(1),i.Q6J("nzCover",r),i.xp6(1),i.Q6J("nz-tooltip",t.title)("nzTitle",t.title)}}function qh(s,l){if(1&s&&i.YNc(0,jh,5,3,"div",3),2&s){const t=i.oxw();i.Q6J("ngForOf",t.pageResult.records)}}const $h=function(){return[8,16,24,32,40]};function Xh(s,l){if(1&s){const t=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"nz-pagination",10),i.NdJ("nzPageIndexChange",function(h){return i.CHM(t),i.oxw().pageIndexChange(h)})("nzPageSizeChange",function(h){return i.CHM(t),i.oxw().pageSizeChange(h)}),i.qZA(),i.qZA()}if(2&s){const t=i.oxw();i.xp6(1),i.Q6J("nzPageIndex",t.pageResult.current)("nzTotal",t.pageResult.total)("nzPageSize",t.pageResult.size)("nzPageSizeOptions",i.DdM(4,$h))}}let Kh=(()=>{class s{constructor(t,r,h,f){this.chartsService=t,this.message=r,this.router=h,this.route=f,this.pageParam={currentPage:1,pageSize:24,param:{}}}ngOnInit(){this.page(),this.route.queryParamMap.subscribe(t=>{this.pageParam.currentPage=Number(t.get("currentPage"))||1,this.pageParam.pageSize=Number(t.get("pageSize"))||24,Object.keys(this.pageParam.param).forEach(r=>{this.pageParam.param[r]=t.get(r)||this.pageParam.param[r]}),this.page()})}page(){this.chartsService.page(this.pageParam).subscribe(t=>{this.pageResult=t.data})}pageIndexChange(t){this.routerJump(Object.assign({currentPage:t,pageSize:this.pageParam.pageSize},this.pageParam.param))}pageSizeChange(t){this.routerJump(Object.assign({currentPage:this.pageParam.currentPage,pageSize:t},this.pageParam.param))}handleClickCard(t){this.router.navigate(["./showCharts"],{queryParams:{cid:t.cid},relativeTo:this.route}).catch(()=>{this.message.error("\u8def\u5f84\u4e0d\u5b58\u5728")})}search(t){Object.keys(t).forEach(r=>{this.pageParam.param[r]=t[r]}),this.routerJump(Object.assign({currentPage:this.pageParam.currentPage,pageSize:this.pageParam.pageSize},this.pageParam.param))}routerJump(t){this.router.navigate(["."],{queryParams:t,relativeTo:this.route}).catch(()=>{this.message.error("\u8def\u5f84\u4e0d\u5b58\u5728")})}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(it.N),i.Y36(Fr),i.Y36(nt.F0),i.Y36(nt.gz))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-charts"]],decls:4,vars:2,consts:[[3,"search"],[1,"charts-box"],[3,"ngIf"],["class","charts-card",4,"ngFor","ngForOf"],[1,"charts-card"],["nzHoverable","",3,"nzCover","click"],[3,"nz-tooltip","nzTitle"],["coverTemplate",""],["alt","example",1,"img",3,"src"],[1,"pagination"],["nzShowSizeChanger","","nzShowQuickJumper","",3,"nzPageIndex","nzTotal","nzPageSize","nzPageSizeOptions","nzPageIndexChange","nzPageSizeChange"]],template:function(t,r){1&t&&(i.TgZ(0,"app-header",0),i.NdJ("search",function(f){return r.search(f)}),i.qZA(),i.TgZ(1,"div",1),i.YNc(2,qh,1,1,"ng-template",2),i.qZA(),i.YNc(3,Xh,2,5,"ng-template",2)),2&t&&(i.xp6(2),i.Q6J("ngIf",r.pageResult),i.xp6(1),i.Q6J("ngIf",r.pageResult))},directives:[Ni,M.O5,M.sg,fr,ea,Po,Gh],styles:[".charts-box[_ngcontent-%COMP%]{display:flex;padding:8px;flex-wrap:wrap}.charts-box[_ngcontent-%COMP%]   .charts-card[_ngcontent-%COMP%]{padding:4px;width:12.5%}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex:1;padding:8px}"]}),s})();var ed=U(8239),td=U(7476),nd=(U(8259),U(1211),U(807)),id=U(1974),Pc=U(7827),rd=U(2915),aa=U(4453),Rc=U(9374);const od=["ref"],sd=["charts"];let ad=(()=>{class s{constructor(t,r,h,f){this._ngZone=t,this.chartsCodeService=r,this.route=h,this.ajaxService=f,this.className="",this.name="codemirror",this.autoFocus=!1,this.isFocused=!1}ngOnInit(){}getChartsCode(t){!t||this.chartsCodeService.getChartsCodeById(t).subscribe(r=>{this.codeMirror&&(this.codeMirror.setValue(r.data.code),this.updateChartsOptions())})}updateChartsOptions(){var t=this;return(0,ed.Z)(function*(){var r,h;if(t.codeMirror){const f=yield(0,nd._)(t.codeMirror.getValue(),t.ajaxService,t.myCharts);null===(r=t.myCharts)||void 0===r||r.clear(),f&&(null===(h=t.myCharts)||void 0===h||h.setOption(f))}})()}back(){history.go(-1)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this.ref&&(this.codeMirror=td.fromTextArea(this.ref.nativeElement,{mode:"javascript",styleActiveLine:!0,lineNumbers:!0})),this.echarts&&(this.myCharts=(0,id.init)(this.echarts.nativeElement)),this.route.queryParamMap.subscribe(t=>{this.getChartsCode(t.get("cid"))})})}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.R0b),i.Y36(Pc.$),i.Y36(nt.gz),i.Y36(rd.h))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-show-charts"]],viewQuery:function(t,r){if(1&t&&(i.Gf(od,7),i.Gf(sd,7)),2&t){let h;i.iGM(h=i.CRH())&&(r.ref=h.first),i.iGM(h=i.CRH())&&(r.echarts=h.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus"},decls:15,vars:0,consts:[[1,"show-charts-box"],[1,"show-charts-left"],[1,"operator"],[1,"back",3,"click"],["nz-button","",1,"run",3,"click"],["nz-icon","","nzType","play-circle","nzTheme","outline"],[1,"codemirror"],["ref",""],[1,"show-charts-right"],[1,"charts"],["charts",""]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div"),i.TgZ(4,"span",3),i.NdJ("click",function(){return r.back()}),i._uU(5,"\u8fd4\u56de"),i.qZA(),i.qZA(),i.TgZ(6,"div"),i.TgZ(7,"button",4),i.NdJ("click",function(){return r.updateChartsOptions()}),i._UZ(8,"span",5),i._uU(9," \u8fd0\u884c "),i.qZA(),i.qZA(),i.qZA(),i._UZ(10,"textarea",6,7),i.qZA(),i.TgZ(12,"div",8),i._UZ(13,"div",9,10),i.qZA(),i.qZA())},directives:[aa.ix,Rc.dQ,Cn.w,Xe.Ls],styles:[".show-charts-box[_ngcontent-%COMP%]{display:flex;overflow:hidden}.show-charts-box[_ngcontent-%COMP%]   .show-charts-left[_ngcontent-%COMP%]{flex:1;max-width:35%}.show-charts-box[_ngcontent-%COMP%]   .show-charts-right[_ngcontent-%COMP%]{flex:1;display:flex;padding:10px;background-color:#f3f4fa}.show-charts-box[_ngcontent-%COMP%]   .show-charts-right[_ngcontent-%COMP%]   .charts[_ngcontent-%COMP%]{flex:1;box-shadow:#0000001a 0 0 20px;background-color:#fff}.show-charts-box[_ngcontent-%COMP%]   .operator[_ngcontent-%COMP%]{box-shadow:0 2px 10px #0000001a;height:30px;position:relative;z-index:3;display:flex;align-items:center;justify-content:space-between}.show-charts-box[_ngcontent-%COMP%]   .operator[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{padding:0 8px;cursor:pointer}.show-charts-box[_ngcontent-%COMP%]   .operator[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]:hover{color:red}.show-charts-box[_ngcontent-%COMP%]   .operator[_ngcontent-%COMP%]   .run[_ngcontent-%COMP%]{background-color:#409eff;color:#fff;font-size:12px}[_nghost-%COMP%]     .CodeMirror{width:100%;height:calc(100vh - 30px)}"]}),s})();var ld=U(6758);const cd=[{path:"",component:Kh},{path:"showCharts",component:ad},{path:"synchronize",component:(()=>{class s{constructor(t,r,h){this.chartsService=t,this.chartsCodeService=r,this.externalResourceService=h,this.pageParam={currentPage:55,pageSize:100,param:{}},this.count=94}ngOnInit(){}synchronize(){this.count=this.count===this.pageParam.pageSize+1?0:this.count,this.chartsService.page(this.pageParam).subscribe(t=>{this.updateResource(t.data.records)})}updateCode(t){this.chartsCodeService.getChartsCodeById(t[this.count].cid).subscribe(r=>{this.chartsService.addChartsCode(r.data).subscribe(()=>{if(this.count++,this.count<this.pageParam.pageSize)this.updateCode(t);else{if(this.pageParam.currentPage++,this.pageParam.currentPage>550)return;this.synchronize()}},()=>{if(this.count++,this.count<this.pageParam.pageSize)this.updateCode(t);else{if(this.pageParam.currentPage++,this.pageParam.currentPage>550)return;this.synchronize()}})})}updateResource(t){this.chartsCodeService.getChartsCodeById(t[this.count].cid).subscribe(r=>{this.count++;const h=r.data.code.match(/\/asset\/get\/s\/\w+-\d+-\w+.json/g);if(h&&h.forEach(f=>{this.externalResourceService.addExternalResource({jsonUrl:f}).subscribe(()=>{},_=>{})}),this.count<this.pageParam.pageSize)this.updateResource(t);else{if(this.pageParam.currentPage++,this.pageParam.currentPage>550)return;this.synchronize()}})}findAll(){this.externalResourceService.findAll().subscribe(t=>{})}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(it.N),i.Y36(Pc.$),i.Y36(ld.x))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-synchronize"]],decls:10,vars:2,consts:[["nz-button","",3,"click"],["nz-button",""]],template:function(t,r){1&t&&(i.TgZ(0,"button",0),i.NdJ("click",function(){return r.synchronize()}),i._uU(1,"\u5f00\u59cb\u540c\u6b65"),i.qZA(),i.TgZ(2,"button",1),i._uU(3,"\u8d44\u6e90"),i.qZA(),i.TgZ(4,"button",0),i.NdJ("click",function(){return r.findAll()}),i._uU(5,"\u67e5\u8be2\u5168\u90e8"),i.qZA(),i.TgZ(6,"p"),i._uU(7),i.qZA(),i.TgZ(8,"p"),i._uU(9),i.qZA()),2&t&&(i.xp6(7),i.hij("currentPage: ",r.pageParam.currentPage,""),i.xp6(2),i.hij("count: ",r.count,""))},directives:[aa.ix,Rc.dQ,Cn.w],styles:[""]}),s})()}];let ud=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[nt.Bz.forChild(cd)],nt.Bz]}),s})(),Bc=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,vs,X.ud]]}),s})();U(3342);let Wc=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,Bc,Xe.PV,Vr,vs,X.ud,_n],Bc]}),s})(),Gc=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[le.vT,M.ez,Xe.PV,X.ud,_n]]}),s})();const Qd=[Gs,ta,Fc,Ms,aa.sL,Xe.PV,Wc,Gc,Vr];let Zd=(()=>{class s{static forRoot(){return{ngModule:s,providers:[]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[...Qd],Gs,ta,Fc,Ms,aa.sL,Xe.PV,Wc,Gc,Vr]}),s})(),Ud=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[M.ez,ud,Zd,Re.UX]]}),s})()},807:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>runCode});var _Users_hezhijian_nodeProject_diagram_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8239),echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1974);function runCode(fi,He,U){return _runCode.apply(this,arguments)}function _runCode(){return _runCode=(0,_Users_hezhijian_nodeProject_diagram_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.Z)(function*(code,$,myChart){let option=null;const echarts=echarts__WEBPACK_IMPORTED_MODULE_0__,china=yield $.getJsonFile("china.json");echarts.registerMap("china",china);try{code.replace(/var option/g,"option"),eval(code)}catch(fi){console.error(fi)}return option}),_runCode.apply(this,arguments)}},8239:(fi,He,U)=>{"use strict";function M(i,it,ae,fe,ze,Qt,Q){try{var he=i[Qt](Q),ve=he.value}catch(bt){return void ae(bt)}he.done?it(ve):Promise.resolve(ve).then(fe,ze)}function nt(i){return function(){var it=this,ae=arguments;return new Promise(function(fe,ze){var Qt=i.apply(it,ae);function Q(ve){M(Qt,fe,ze,Q,he,"next",ve)}function he(ve){M(Qt,fe,ze,Q,he,"throw",ve)}Q(void 0)})}}U.d(He,{Z:()=>nt})}}]);